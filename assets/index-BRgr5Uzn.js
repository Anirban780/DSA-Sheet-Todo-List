(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var mf={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function dE(){if(Bp)return Cl;Bp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:r,key:d,ref:u!==void 0?u:null,props:h}}return Cl.Fragment=e,Cl.jsx=i,Cl.jsxs=i,Cl}var qp;function mE(){return qp||(qp=1,mf.exports=dE()),mf.exports}var Sn=mE(),gf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function gE(){if(kp)return Et;kp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=O&&C[O]||C["@@iterator"],typeof C=="function"?C:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function J(C,K,et){this.props=C,this.context=K,this.refs=nt,this.updater=et||G}J.prototype.isReactComponent={},J.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},J.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=J.prototype;function gt(C,K,et){this.props=C,this.context=K,this.refs=nt,this.updater=et||G}var ft=gt.prototype=new St;ft.constructor=gt,Z(ft,J.prototype),ft.isPureReactComponent=!0;var xt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function N(C,K,et,$,ut,bt){return et=bt.ref,{$$typeof:s,type:C,key:K,ref:et!==void 0?et:null,props:bt}}function S(C,K){return N(C.type,K,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function V(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return K[et]})}var M=/\/+/g;function U(C,K){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):K.toString(36)}function R(){}function Ie(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ne(C,K,et,$,ut){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(bt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case s:case e:pt=!0;break;case A:return pt=C._init,ne(pt(C._payload),K,et,$,ut)}}if(pt)return ut=ut(C),pt=$===""?"."+U(C,0):$,xt(ut)?(et="",pt!=null&&(et=pt.replace(M,"$&/")+"/"),ne(ut,K,et,"",function(Nn){return Nn})):ut!=null&&(w(ut)&&(ut=S(ut,et+(ut.key==null||C&&C.key===ut.key?"":(""+ut.key).replace(M,"$&/")+"/")+pt)),K.push(ut)),1;pt=0;var Se=$===""?".":$+":";if(xt(C))for(var Xt=0;Xt<C.length;Xt++)$=C[Xt],bt=Se+U($,Xt),pt+=ne($,K,et,bt,ut);else if(Xt=I(C),typeof Xt=="function")for(C=Xt.call(C),Xt=0;!($=C.next()).done;)$=$.value,bt=Se+U($,Xt++),pt+=ne($,K,et,bt,ut);else if(bt==="object"){if(typeof C.then=="function")return ne(Ie(C),K,et,$,ut);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(C,K,et){if(C==null)return C;var $=[],ut=0;return ne(C,$,"","",function(bt){return K.call(et,bt,ut++)}),$}function tt(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var st=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Lt(){}return Et.Children={map:H,forEach:function(C,K,et){H(C,function(){K.apply(this,arguments)},et)},count:function(C){var K=0;return H(C,function(){K++}),K},toArray:function(C){return H(C,function(K){return K})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Et.Component=J,Et.Fragment=i,Et.Profiler=u,Et.PureComponent=gt,Et.StrictMode=r,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Et.__COMPILER_RUNTIME={__proto__:null,c:function(C){return vt.H.useMemoCache(C)}},Et.cache=function(C){return function(){return C.apply(null,arguments)}},Et.cloneElement=function(C,K,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var $=Z({},C.props),ut=C.key,bt=void 0;if(K!=null)for(pt in K.ref!==void 0&&(bt=void 0),K.key!==void 0&&(ut=""+K.key),K)!zt.call(K,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&K.ref===void 0||($[pt]=K[pt]);var pt=arguments.length-2;if(pt===1)$.children=et;else if(1<pt){for(var Se=Array(pt),Xt=0;Xt<pt;Xt++)Se[Xt]=arguments[Xt+2];$.children=Se}return N(C.type,ut,void 0,void 0,bt,$)},Et.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Et.createElement=function(C,K,et){var $,ut={},bt=null;if(K!=null)for($ in K.key!==void 0&&(bt=""+K.key),K)zt.call(K,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ut[$]=K[$]);var pt=arguments.length-2;if(pt===1)ut.children=et;else if(1<pt){for(var Se=Array(pt),Xt=0;Xt<pt;Xt++)Se[Xt]=arguments[Xt+2];ut.children=Se}if(C&&C.defaultProps)for($ in pt=C.defaultProps,pt)ut[$]===void 0&&(ut[$]=pt[$]);return N(C,bt,void 0,void 0,null,ut)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(C){return{$$typeof:p,render:C}},Et.isValidElement=w,Et.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},Et.memo=function(C,K){return{$$typeof:_,type:C,compare:K===void 0?null:K}},Et.startTransition=function(C){var K=vt.T,et={};vt.T=et;try{var $=C(),ut=vt.S;ut!==null&&ut(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Lt,st)}catch(bt){st(bt)}finally{vt.T=K}},Et.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Et.use=function(C){return vt.H.use(C)},Et.useActionState=function(C,K,et){return vt.H.useActionState(C,K,et)},Et.useCallback=function(C,K){return vt.H.useCallback(C,K)},Et.useContext=function(C){return vt.H.useContext(C)},Et.useDebugValue=function(){},Et.useDeferredValue=function(C,K){return vt.H.useDeferredValue(C,K)},Et.useEffect=function(C,K,et){var $=vt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(C,K)},Et.useId=function(){return vt.H.useId()},Et.useImperativeHandle=function(C,K,et){return vt.H.useImperativeHandle(C,K,et)},Et.useInsertionEffect=function(C,K){return vt.H.useInsertionEffect(C,K)},Et.useLayoutEffect=function(C,K){return vt.H.useLayoutEffect(C,K)},Et.useMemo=function(C,K){return vt.H.useMemo(C,K)},Et.useOptimistic=function(C,K){return vt.H.useOptimistic(C,K)},Et.useReducer=function(C,K,et){return vt.H.useReducer(C,K,et)},Et.useRef=function(C){return vt.H.useRef(C)},Et.useState=function(C){return vt.H.useState(C)},Et.useSyncExternalStore=function(C,K,et){return vt.H.useSyncExternalStore(C,K,et)},Et.useTransition=function(){return vt.H.useTransition()},Et.version="19.1.0",Et}var Hp;function Xf(){return Hp||(Hp=1,gf.exports=gE()),gf.exports}var wo=Xf(),pf={exports:{}},Dl={},yf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function pE(){return jp||(jp=1,function(s){function e(H,tt){var st=H.length;H.push(tt);t:for(;0<st;){var Lt=st-1>>>1,C=H[Lt];if(0<u(C,tt))H[Lt]=tt,H[st]=C,st=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var tt=H[0],st=H.pop();if(st!==tt){H[0]=st;t:for(var Lt=0,C=H.length,K=C>>>1;Lt<K;){var et=2*(Lt+1)-1,$=H[et],ut=et+1,bt=H[ut];if(0>u($,st))ut<C&&0>u(bt,$)?(H[Lt]=bt,H[ut]=st,Lt=ut):(H[Lt]=$,H[et]=st,Lt=et);else if(ut<C&&0>u(bt,st))H[Lt]=bt,H[ut]=st,Lt=ut;else break t}}return tt}function u(H,tt){var st=H.sortIndex-tt.sortIndex;return st!==0?st:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,O=null,I=3,G=!1,Z=!1,nt=!1,J=!1,St=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function xt(H){for(var tt=i(_);tt!==null;){if(tt.callback===null)r(_);else if(tt.startTime<=H)r(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function vt(H){if(nt=!1,xt(H),!Z)if(i(v)!==null)Z=!0,zt||(zt=!0,U());else{var tt=i(_);tt!==null&&ne(vt,tt.startTime-H)}}var zt=!1,N=-1,S=5,w=-1;function V(){return J?!0:!(s.unstable_now()-w<S)}function M(){if(J=!1,zt){var H=s.unstable_now();w=H;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,gt(N),N=-1),G=!0;var st=I;try{e:{for(xt(H),O=i(v);O!==null&&!(O.expirationTime>H&&V());){var Lt=O.callback;if(typeof Lt=="function"){O.callback=null,I=O.priorityLevel;var C=Lt(O.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){O.callback=C,xt(H),tt=!0;break e}O===i(v)&&r(v),xt(H)}else r(v);O=i(v)}if(O!==null)tt=!0;else{var K=i(_);K!==null&&ne(vt,K.startTime-H),tt=!1}}break t}finally{O=null,I=st,G=!1}tt=void 0}}finally{tt?U():zt=!1}}}var U;if(typeof ft=="function")U=function(){ft(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ie=R.port2;R.port1.onmessage=M,U=function(){Ie.postMessage(null)}}else U=function(){St(M,0)};function ne(H,tt){N=St(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(H){switch(I){case 1:case 2:case 3:var tt=3;break;default:tt=I}var st=I;I=tt;try{return H()}finally{I=st}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var st=I;I=H;try{return tt()}finally{I=st}},s.unstable_scheduleCallback=function(H,tt,st){var Lt=s.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Lt+st:Lt):st=Lt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=st+C,H={id:A++,callback:tt,priorityLevel:H,startTime:st,expirationTime:C,sortIndex:-1},st>Lt?(H.sortIndex=st,e(_,H),i(v)===null&&H===i(_)&&(nt?(gt(N),N=-1):nt=!0,ne(vt,st-Lt))):(H.sortIndex=C,e(v,H),Z||G||(Z=!0,zt||(zt=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var tt=I;return function(){var st=I;I=tt;try{return H.apply(this,arguments)}finally{I=st}}}}(_f)),_f}var Gp;function yE(){return Gp||(Gp=1,yf.exports=pE()),yf.exports}var vf={exports:{}},ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function _E(){if(Qp)return ke;Qp=1;var s=Xf();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:O==null?null:""+O,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ke.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},ke.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},ke.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},ke.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},ke.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,O=p(A,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:O,integrity:I,fetchPriority:G}):A==="script"&&r.d.X(v,{crossOrigin:O,integrity:I,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ke.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},ke.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,O=p(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:O,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ke.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},ke.requestFormReset=function(v){r.d.r(v)},ke.unstable_batchedUpdates=function(v,_){return v(_)},ke.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},ke.version="19.1.0",ke}var Yp;function vE(){if(Yp)return vf.exports;Yp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),vf.exports=_E(),vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function EE(){if(Fp)return Dl;Fp=1;var s=yE(),e=Xf(),i=vE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),gt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case J:return"Profiler";case nt:return"StrictMode";case vt:return"Suspense";case zt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ft:return(t.displayName||"Context")+".Provider";case gt:return(t._context.displayName||"Context")+".Consumer";case xt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Ie(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ie(t(n))}catch{}}return null}var ne=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},Lt=[],C=-1;function K(t){return{current:t}}function et(t){0>C||(t.current=Lt[C],Lt[C]=null,C--)}function $(t,n){C++,Lt[C]=t.current,t.current=n}var ut=K(null),bt=K(null),pt=K(null),Se=K(null);function Xt(t,n){switch($(pt,n),$(bt,t),$(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?dp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=dp(n),t=mp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ut),$(ut,t)}function Nn(){et(ut),et(bt),et(pt)}function Ii(t){t.memoizedState!==null&&$(Se,t);var n=ut.current,a=mp(n,t.type);n!==a&&($(bt,t),$(ut,a))}function ti(t){bt.current===t&&(et(ut),et(bt)),Se.current===t&&(et(Se),Al._currentValue=st)}var va=Object.prototype.hasOwnProperty,Ea=s.unstable_scheduleCallback,Ta=s.unstable_cancelCallback,vs=s.unstable_shouldYield,Xl=s.unstable_requestPaint,cn=s.unstable_now,dc=s.unstable_getCurrentPriorityLevel,Es=s.unstable_ImmediatePriority,or=s.unstable_UserBlockingPriority,Aa=s.unstable_NormalPriority,mc=s.unstable_LowPriority,cr=s.unstable_IdlePriority,Ts=s.log,Zl=s.unstable_setDisableYieldValue,ie=null,kt=null;function We(t){if(typeof Ts=="function"&&Zl(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(ie,t)}catch{}}var Be=Math.clz32?Math.clz32:Sa,$l=Math.log,gc=Math.LN2;function Sa(t){return t>>>=0,t===0?32:31-($l(t)/gc|0)|0}var ba=256,Ra=4194304;function Rn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Rn(l):(y&=E,y!==0?c=Rn(y):a||(a=E&~t,a!==0&&(c=Rn(a))))):(E=l&~f,E!==0?c=Rn(E):y!==0?c=Rn(y):a||(a=l&~t,a!==0&&(c=Rn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function wa(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function As(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ss(){var t=ba;return ba<<=1,(ba&4194048)===0&&(ba=256),t}function bs(){var t=Ra;return Ra<<=1,(Ra&62914560)===0&&(Ra=4194304),t}function ei(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ni(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rs(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var j=31-Be(a),Y=1<<j;E[j]=0,b[j]=-1;var B=P[j];if(B!==null)for(P[j]=null,j=0;j<B.length;j++){var q=B[j];q!==null&&(q.lane&=-536870913)}a&=~Y}l!==0&&Mn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Mn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Be(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function ws(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Be(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ni(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Mp(t.type))}function Jl(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var $t=Math.random().toString(36).slice(2),ge="__reactFiber$"+$t,ce="__reactProps$"+$t,hn="__reactContainer$"+$t,Cs="__reactEvents$"+$t,pc="__reactListeners$"+$t,Mi="__reactHandles$"+$t,Wl="__reactResources$"+$t,Ca="__reactMarker$"+$t;function xi(t){delete t[ge],delete t[ce],delete t[Cs],delete t[pc],delete t[Mi]}function ii(t){var n=t[ge];if(n)return n;for(var a=t.parentNode;a;){if(n=a[hn]||a[ge]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=_p(t);t!==null;){if(a=t[ge])return a;t=_p(t)}return n}t=a,a=t.parentNode}return null}function xn(t){if(t=t[ge]||t[hn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Qe(t){var n=t[Wl];return n||(n=t[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function se(t){t[Ca]=!0}var Ds=new Set,dr={};function wn(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(dr[t]=n,t=0;t<n.length;t++)Ds.add(n[t])}var tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eu={},Da={};function nu(t){return va.call(Da,t)?!0:va.call(eu,t)?!1:tu.test(t)?Da[t]=!0:(eu[t]=!0,!1)}function Ui(t,n,a){if(nu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function zn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Oe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Va,iu;function ri(t){if(Va===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Va=n&&n[1]||"",iu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+t+iu}var mr=!1;function gr(t,n){if(!t||mr)return"";mr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var B=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){B=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){B=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var j=`
`+b[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=c);break}}}finally{mr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function Vs(t){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return gr(t.type,!1);case 11:return gr(t.type.render,!1);case 1:return gr(t.type,!0);case 31:return ri("Activity");default:return""}}function pr(t){try{var n="";do n+=Vs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yc(t){var n=Is(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function yr(t){t._valueTracker||(t._valueTracker=yc(t))}function Os(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Is(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ia(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _c=/[\n"\\]/g;function he(t){return t.replace(_c,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function tn(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?zi(t,y,Ye(n)):a!=null?zi(t,y,Ye(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function Oa(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ye(a):"",n=n!=null?""+Ye(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function zi(t,n,a){n==="number"&&Ia(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function si(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ye(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Gt(t,n,a){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ye(a):""}function Na(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ne(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ye(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function fn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ma=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ma.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ns(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&au(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&au(t,f,n[f])}function Ms(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ec=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _r(t){return Ec.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var li=null;function dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ui=null,oi=null;function xs(t){var n=xn(t);if(n&&(t=n.stateNode)){var a=t[ce]||null;t:switch(t=n.stateNode,n.type){case"input":if(tn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+he(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[ce]||null;if(!c)throw Error(r(90));tn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Os(l)}break t;case"textarea":Gt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&si(t,!!a.multiple,n,!1)}}}var Ln=!1;function ru(t,n,a){if(Ln)return t(n,a);Ln=!0;try{var l=t(n);return l}finally{if(Ln=!1,(ui!==null||oi!==null)&&(Ju(),ui&&(n=ui,t=oi,oi=ui=null,xs(n),t)))for(n=0;n<t.length;n++)xs(t[n])}}function xa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ce]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mn=!1;if(Cn)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){mn=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{mn=!1}var Pn=null,Li=null,ci=null;function Us(){if(ci)return ci;var t,n=Li,a=n.length,l,c="value"in Pn?Pn.value:Pn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return ci=c.slice(t,1<l?1-l:void 0)}function Bn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qn(){return!0}function zs(){return!1}function be(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qn:zs,this.isPropagationStopped=zs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vr=be(Bt),za=A({},Bt,{view:0,detail:0}),su=be(za),Er,Tr,kn,La=A({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kn&&(kn&&t.type==="mousemove"?(Er=t.screenX-kn.screenX,Tr=t.screenY-kn.screenY):Tr=Er=0,kn=t),Er)},movementY:function(t){return"movementY"in t?t.movementY:Tr}}),gn=be(La),lu=A({},La,{dataTransfer:0}),Tc=be(lu),Pa=A({},za,{relatedTarget:0}),Ar=be(Pa),Ls=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Sr=be(Ls),uu=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),br=be(uu),Ac=A({},Bt,{data:0}),Ps=be(Ac),Ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=cu[t])?!!n[t]:!1}function qa(){return Bs}var hu=A({},za,{key:function(t){if(t.key){var n=Ba[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Bn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(t){return t.type==="keypress"?Bn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rr=be(hu),fu=A({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=be(fu),hi=A({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),du=be(hi),mu=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gu=be(mu),pu=A({},La,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wr=be(pu),Fe=A({},Bt,{newState:0,oldState:0}),yu=be(Fe),_u=[9,13,27,32],Hn=Cn&&"CompositionEvent"in window,o=null;Cn&&"documentMode"in document&&(o=document.documentMode);var m=Cn&&"TextEvent"in window&&!o,g=Cn&&(!Hn||o&&8<o&&11>=o),T=" ",z=!1;function k(t,n){switch(t){case"keyup":return _u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function pe(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!Hn&&k(t,n)?(t=Us(),ci=Li=Pn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Re={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ye(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Re[t.type]:n==="textarea"}function fi(t,n,a,l){ui?oi?oi.push(l):oi=[l]:ui=l,n=ao(n,"onChange"),0<n.length&&(a=new vr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ne=null,jn=null;function ks(t){up(t,0)}function vu(t){var n=Un(t);if(Os(n))return t}function Vd(t,n){if(t==="change")return n}var Id=!1;if(Cn){var Sc;if(Cn){var bc="oninput"in document;if(!bc){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),bc=typeof Od.oninput=="function"}Sc=bc}else Sc=!1;Id=Sc&&(!document.documentMode||9<document.documentMode)}function Nd(){Ne&&(Ne.detachEvent("onpropertychange",Md),jn=Ne=null)}function Md(t){if(t.propertyName==="value"&&vu(jn)){var n=[];fi(n,jn,t,dn(t)),ru(ks,n)}}function jv(t,n,a){t==="focusin"?(Nd(),Ne=n,jn=a,Ne.attachEvent("onpropertychange",Md)):t==="focusout"&&Nd()}function Gv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vu(jn)}function Qv(t,n){if(t==="click")return vu(n)}function Yv(t,n){if(t==="input"||t==="change")return vu(n)}function Fv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var en=typeof Object.is=="function"?Object.is:Fv;function Hs(t,n){if(en(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!va.call(n,c)||!en(t[c],n[c]))return!1}return!0}function xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,n){var a=xd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=xd(a)}}function zd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ld(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ia(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ia(t.document)}return n}function Rc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Kv=Cn&&"documentMode"in document&&11>=document.documentMode,Cr=null,wc=null,js=null,Cc=!1;function Pd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cc||Cr==null||Cr!==Ia(l)||(l=Cr,"selectionStart"in l&&Rc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),js&&Hs(js,l)||(js=l,l=ao(wc,"onSelect"),0<l.length&&(n=new vr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Cr)))}function ka(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Dr={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},Dc={},Bd={};Cn&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Ha(t){if(Dc[t])return Dc[t];if(!Dr[t])return t;var n=Dr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Bd)return Dc[t]=n[a];return t}var qd=Ha("animationend"),kd=Ha("animationiteration"),Hd=Ha("animationstart"),Xv=Ha("transitionrun"),Zv=Ha("transitionstart"),$v=Ha("transitioncancel"),jd=Ha("transitionend"),Gd=new Map,Vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vc.push("scrollEnd");function Dn(t,n){Gd.set(t,n),wn(n,[t])}var Qd=new WeakMap;function pn(t,n){if(typeof t=="object"&&t!==null){var a=Qd.get(t);return a!==void 0?a:(n={value:t,source:n,stack:pr(n)},Qd.set(t,n),n)}return{value:t,source:n,stack:pr(n)}}var yn=[],Vr=0,Ic=0;function Eu(){for(var t=Vr,n=Ic=Vr=0;n<t;){var a=yn[n];yn[n++]=null;var l=yn[n];yn[n++]=null;var c=yn[n];yn[n++]=null;var f=yn[n];if(yn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Yd(a,c,f)}}function Tu(t,n,a,l){yn[Vr++]=t,yn[Vr++]=n,yn[Vr++]=a,yn[Vr++]=l,Ic|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Oc(t,n,a,l){return Tu(t,n,a,l),Au(t)}function Ir(t,n){return Tu(t,null,null,n),Au(t)}function Yd(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Be(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Au(t){if(50<ml)throw ml=0,Lh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Or={};function Jv(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,n,a,l){return new Jv(t,n,a,l)}function Nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,n){var a=t.alternate;return a===null?(a=nn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fd(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Su(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Nc(t)&&(y=1);else if(typeof t=="string")y=tE(t,a,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=nn(31,a,n,c),t.elementType=w,t.lanes=f,t;case Z:return ja(a.children,c,f,n);case nt:y=8,c|=24;break;case J:return t=nn(12,a,n,c|2),t.elementType=J,t.lanes=f,t;case vt:return t=nn(13,a,n,c),t.elementType=vt,t.lanes=f,t;case zt:return t=nn(19,a,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case St:case ft:y=10;break t;case gt:y=9;break t;case xt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=nn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ja(t,n,a,l){return t=nn(7,t,l,n),t.lanes=a,t}function Mc(t,n,a){return t=nn(6,t,null,n),t.lanes=a,t}function xc(t,n,a){return n=nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Nr=[],Mr=0,bu=null,Ru=0,_n=[],vn=0,Ga=null,mi=1,gi="";function Qa(t,n){Nr[Mr++]=Ru,Nr[Mr++]=bu,bu=t,Ru=n}function Kd(t,n,a){_n[vn++]=mi,_n[vn++]=gi,_n[vn++]=Ga,Ga=t;var l=mi;t=gi;var c=32-Be(l)-1;l&=~(1<<c),a+=1;var f=32-Be(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,mi=1<<32-Be(n)+c|a<<c|l,gi=f+t}else mi=1<<f|a<<c|l,gi=t}function Uc(t){t.return!==null&&(Qa(t,1),Kd(t,1,0))}function zc(t){for(;t===bu;)bu=Nr[--Mr],Nr[Mr]=null,Ru=Nr[--Mr],Nr[Mr]=null;for(;t===Ga;)Ga=_n[--vn],_n[vn]=null,gi=_n[--vn],_n[vn]=null,mi=_n[--vn],_n[vn]=null}var Ke=null,ae=null,Pt=!1,Ya=null,Gn=!1,Lc=Error(r(519));function Fa(t){var n=Error(r(418,""));throw Ys(pn(n,t)),Lc}function Xd(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ge]=t,n[ce]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<pl.length;a++)Ct(pl[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Oa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),yr(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Na(n,l.value,l.defaultValue,l.children),yr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||fp(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=ro),n=!0):n=!1,n||Fa(t)}function Zd(t){for(Ke=t.return;Ke;)switch(Ke.tag){case 5:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Ke=Ke.return}}function Gs(t){if(t!==Ke)return!1;if(!Pt)return Zd(t),Pt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wh(t.type,t.memoizedProps)),a=!a),a&&ae&&Fa(t),Zd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){ae=In(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,Wi(t.type)?(t=af,af=null,ae=t):ae=n):ae=Ke?In(t.stateNode.nextSibling):null;return!0}function Qs(){ae=Ke=null,Pt=!1}function $d(){var t=Ya;return t!==null&&($e===null?$e=t:$e.push.apply($e,t),Ya=null),t}function Ys(t){Ya===null?Ya=[t]:Ya.push(t)}var Pc=K(null),Ka=null,pi=null;function Pi(t,n,a){$(Pc,n._currentValue),n._currentValue=a}function yi(t){t._currentValue=Pc.current,et(Pc)}function Bc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function qc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Bc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Bc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Fs(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=c.type;en(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Se.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}c=c.return}t!==null&&qc(n,t,a,l),n.flags|=262144}function wu(t){for(t=t.firstContext;t!==null;){if(!en(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xa(t){Ka=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Jd(Ka,t)}function Cu(t,n){return Ka===null&&Xa(t),Jd(t,n)}function Jd(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},pi===null){if(t===null)throw Error(r(308));pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else pi=pi.next=n;return a}var Wv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},t0=s.unstable_scheduleCallback,e0=s.unstable_NormalPriority,_e={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new Wv,data:new Map,refCount:0}}function Ks(t){t.refCount--,t.refCount===0&&t0(e0,function(){t.controller.abort()})}var Xs=null,Hc=0,xr=0,Ur=null;function n0(t,n){if(Xs===null){var a=Xs=[];Hc=0,xr=Gh(),Ur={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hc++,n.then(Wd,Wd),n}function Wd(){if(--Hc===0&&Xs!==null){Ur!==null&&(Ur.status="fulfilled");var t=Xs;Xs=null,xr=0,Ur=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function i0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var tm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&n0(t,n),tm!==null&&tm(t,n)};var Za=K(null);function jc(){var t=Za.current;return t!==null?t:Zt.pooledCache}function Du(t,n){n===null?$(Za,Za.current):$(Za,n.pool)}function em(){var t=jc();return t===null?null:{parent:_e._currentValue,pool:t}}var Zs=Error(r(460)),nm=Error(r(474)),Vu=Error(r(542)),Gc={then:function(){}};function im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Iu(){}function am(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Iu,Iu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sm(t),t;default:if(typeof n.status=="string")n.then(Iu,Iu);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sm(t),t}throw $s=n,Zs}}var $s=null;function rm(){if($s===null)throw Error(r(459));var t=$s;return $s=null,t}function sm(t){if(t===Zs||t===Vu)throw Error(r(483))}var Bi=!1;function Qc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Au(t),Yd(t,null,a),n}return Tu(t,l,n,a),Au(t)}function Js(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ws(t,a)}}function Fc(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Kc=!1;function Ws(){if(Kc){var t=Ur;if(t!==null)throw t}}function tl(t,n,a,l){Kc=!1;var c=t.updateQueue;Bi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var j=t.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==y&&(E===null?j.firstBaseUpdate=P:E.next=P,j.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,j=P=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ot&B)===B:(l&B)===B){B!==0&&B===xr&&(Kc=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=t,ct=E;B=n;var Ft=a;switch(ct.tag){case 1:if(mt=ct.payload,typeof mt=="function"){Y=mt.call(Ft,Y,B);break t}Y=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ct.payload,B=typeof mt=="function"?mt.call(Ft,Y,B):mt,B==null)break t;Y=A({},Y,B);break t;case 2:Bi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(P=j=q,b=Y):j=j.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);j===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=j,f===null&&(c.shared.lanes=0),Xi|=y,t.lanes=y,t.memoizedState=Y}}function lm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function um(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)lm(a[t],n)}var zr=K(null),Ou=K(0);function om(t,n){t=bi,$(Ou,t),$(zr,n),bi=t|n.baseLanes}function Xc(){$(Ou,bi),$(zr,zr.current)}function Zc(){bi=Ou.current,et(zr),et(Ou)}var Hi=0,Tt=null,Qt=null,fe=null,Nu=!1,Lr=!1,$a=!1,Mu=0,el=0,Pr=null,a0=0;function le(){throw Error(r(321))}function $c(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!en(t[a],n[a]))return!1;return!0}function Jc(t,n,a,l,c,f){return Hi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Ym:Fm,$a=!1,f=a(l,c),$a=!1,Lr&&(f=hm(n,a,l,c)),cm(t),f}function cm(t){H.H=Bu;var n=Qt!==null&&Qt.next!==null;if(Hi=0,fe=Qt=Tt=null,Nu=!1,el=0,Pr=null,n)throw Error(r(300));t===null||we||(t=t.dependencies,t!==null&&wu(t)&&(we=!0))}function hm(t,n,a,l){Tt=t;var c=0;do{if(Lr&&(Pr=null),el=0,Lr=!1,25<=c)throw Error(r(301));if(c+=1,fe=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=h0,f=n(a,l)}while(Lr);return f}function r0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?nl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Tt.flags|=1024),n}function Wc(){var t=Mu!==0;return Mu=0,t}function th(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function eh(t){if(Nu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Nu=!1}Hi=0,fe=Qt=Tt=null,Lr=!1,el=Mu=0,Pr=null}function Xe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?Tt.memoizedState=fe=t:fe=fe.next=t,fe}function de(){if(Qt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=fe===null?Tt.memoizedState:fe.next;if(n!==null)fe=n,Qt=t;else{if(t===null)throw Tt.alternate===null?Error(r(467)):Error(r(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},fe===null?Tt.memoizedState=fe=t:fe=fe.next=t}return fe}function nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var n=el;return el+=1,Pr===null&&(Pr=[]),t=am(Pr,t,n),n=Tt,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ym:Fm),t}function xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===ft)return qe(t)}throw Error(r(438,String(t)))}function ih(t){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=nh(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function _i(t,n){return typeof n=="function"?n(t):n}function Uu(t){var n=de();return ah(n,Qt,t)}function ah(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,j=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ot&Y)===Y:(Hi&Y)===Y){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===xr&&(j=!0);else if((Hi&B)===B){P=P.next,B===xr&&(j=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,Tt.lanes|=B,Xi|=B;Y=P.action,$a&&a(f,Y),f=P.hasEagerState?P.eagerState:a(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,Tt.lanes|=Y,Xi|=Y;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!en(f,t.memoizedState)&&(we=!0,j&&(a=Ur,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rh(t){var n=de(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);en(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function fm(t,n,a){var l=Tt,c=de(),f=Pt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!en((Qt||c).memoizedState,a);y&&(c.memoizedState=a,we=!0),c=c.queue;var E=gm.bind(null,l,c,t);if(il(2048,8,E,[t]),c.getSnapshot!==n||y||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,Br(9,zu(),mm.bind(null,l,c,a,n),null),Zt===null)throw Error(r(349));f||(Hi&124)!==0||dm(l,n,a)}return a}function dm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=nh(),Tt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function mm(t,n,a,l){n.value=a,n.getSnapshot=l,pm(n)&&ym(t)}function gm(t,n,a){return a(function(){pm(n)&&ym(t)})}function pm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!en(t,a)}catch{return!0}}function ym(t){var n=Ir(t,2);n!==null&&un(n,t,2)}function sh(t){var n=Xe();if(typeof t=="function"){var a=t;if(t=a(),$a){We(!0);try{a()}finally{We(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n}function _m(t,n,a,l){return t.baseState=a,ah(t,Qt,typeof l=="function"?l:_i)}function s0(t,n,a,l,c){if(Pu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,vm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function vm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(c,l),b=H.S;b!==null&&b(y,E),Em(t,n,E)}catch(P){lh(t,n,P)}finally{H.T=f}}else try{f=a(c,l),Em(t,n,f)}catch(P){lh(t,n,P)}}function Em(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Tm(t,n,l)},function(l){return lh(t,n,l)}):Tm(t,n,a)}function Tm(t,n,a){n.status="fulfilled",n.value=a,Am(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,vm(t,a)))}function lh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Am(n),n=n.next;while(n!==l)}t.action=null}function Am(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sm(t,n){return n}function bm(t,n){if(Pt){var a=Zt.formState;if(a!==null){t:{var l=Tt;if(Pt){if(ae){e:{for(var c=ae,f=Gn;c.nodeType!==8;){if(!f){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=In(c.nextSibling),l=c.data==="F!";break t}}Fa(l)}l=!1}l&&(n=a[0])}}return a=Xe(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:n},a.queue=l,a=jm.bind(null,Tt,l),l.dispatch=a,l=sh(!1),f=fh.bind(null,Tt,!1,l.queue),l=Xe(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=s0.bind(null,Tt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Rm(t){var n=de();return wm(n,Qt,t)}function wm(t,n,a){if(n=ah(t,n,Sm)[0],t=Uu(_i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=nl(n)}catch(y){throw y===Zs?Vu:y}else l=n;n=de();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,Br(9,zu(),l0.bind(null,c,a),null)),[l,f,t]}function l0(t,n){t.action=n}function Cm(t){var n=de(),a=Qt;if(a!==null)return wm(n,a,t);de(),n=n.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Br(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=nh(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function zu(){return{destroy:void 0,resource:void 0}}function Dm(){return de().memoizedState}function Lu(t,n,a,l){var c=Xe();l=l===void 0?null:l,Tt.flags|=t,c.memoizedState=Br(1|n,zu(),a,l)}function il(t,n,a,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&$c(l,Qt.memoizedState.deps)?c.memoizedState=Br(n,f,a,l):(Tt.flags|=t,c.memoizedState=Br(1|n,f,a,l))}function Vm(t,n){Lu(8390656,8,t,n)}function Im(t,n){il(2048,8,t,n)}function Om(t,n){return il(4,2,t,n)}function Nm(t,n){return il(4,4,t,n)}function Mm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xm(t,n,a){a=a!=null?a.concat([t]):null,il(4,4,Mm.bind(null,n,t),a)}function uh(){}function Um(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&$c(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function zm(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&$c(n,l[1]))return l[0];if(l=t(),$a){We(!0);try{t()}finally{We(!1)}}return a.memoizedState=[l,n],l}function oh(t,n,a){return a===void 0||(Hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Bg(),Tt.lanes|=t,Xi|=t,a)}function Lm(t,n,a,l){return en(a,n)?a:zr.current!==null?(t=oh(t,a,l),en(t,n)||(we=!0),t):(Hi&42)===0?(we=!0,t.memoizedState=a):(t=Bg(),Tt.lanes|=t,Xi|=t,n)}function Pm(t,n,a,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,fh(t,!1,n,a);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=i0(b,l);al(t,n,j,ln(t))}else al(t,n,l,ln(t))}catch(Y){al(t,n,{then:function(){},status:"rejected",reason:Y},ln())}finally{tt.p=f,H.T=y}}function u0(){}function ch(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Bm(t).queue;Pm(t,c,n,st,a===null?u0:function(){return qm(t),a(l)})}function Bm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:st},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function qm(t){var n=Bm(t).next.queue;al(t,n,{},ln())}function hh(){return qe(Al)}function km(){return de().memoizedState}function Hm(){return de().memoizedState}function o0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=ln();t=qi(a);var l=ki(n,t,a);l!==null&&(un(l,n,a),Js(l,n,a)),n={cache:kc()},t.payload=n;return}n=n.return}}function c0(t,n,a){var l=ln();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Pu(t)?Gm(n,a):(a=Oc(t,n,a,l),a!==null&&(un(a,t,l),Qm(a,n,l)))}function jm(t,n,a){var l=ln();al(t,n,a,l)}function al(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pu(t))Gm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,en(E,y))return Tu(t,n,c,0),Zt===null&&Eu(),!1}catch{}finally{}if(a=Oc(t,n,c,l),a!==null)return un(a,t,l),Qm(a,n,l),!0}return!1}function fh(t,n,a,l){if(l={lane:2,revertLane:Gh(),action:l,hasEagerState:!1,eagerState:null,next:null},Pu(t)){if(n)throw Error(r(479))}else n=Oc(t,a,l,2),n!==null&&un(n,t,2)}function Pu(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function Gm(t,n){Lr=Nu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Qm(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ws(t,a)}}var Bu={readContext:qe,use:xu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le},Ym={readContext:qe,use:xu,useCallback:function(t,n){return Xe().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Vm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Lu(4194308,4,Mm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Lu(4194308,4,t,n)},useInsertionEffect:function(t,n){Lu(4,2,t,n)},useMemo:function(t,n){var a=Xe();n=n===void 0?null:n;var l=t();if($a){We(!0);try{t()}finally{We(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Xe();if(a!==void 0){var c=a(n);if($a){We(!0);try{a(n)}finally{We(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=c0.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=Xe();return t={current:t},n.memoizedState=t},useState:function(t){t=sh(t);var n=t.queue,a=jm.bind(null,Tt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:uh,useDeferredValue:function(t,n){var a=Xe();return oh(a,t,n)},useTransition:function(){var t=sh(!1);return t=Pm.bind(null,Tt,t.queue,!0,!1),Xe().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Tt,c=Xe();if(Pt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Zt===null)throw Error(r(349));(Ot&124)!==0||dm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Vm(gm.bind(null,l,f,t),[t]),l.flags|=2048,Br(9,zu(),mm.bind(null,l,f,a,n),null),a},useId:function(){var t=Xe(),n=Zt.identifierPrefix;if(Pt){var a=gi,l=mi;a=(l&~(1<<32-Be(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Mu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=a0++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:hh,useFormState:bm,useActionState:bm,useOptimistic:function(t){var n=Xe();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=fh.bind(null,Tt,!0,a),a.dispatch=n,[t,n]},useMemoCache:ih,useCacheRefresh:function(){return Xe().memoizedState=o0.bind(null,Tt)}},Fm={readContext:qe,use:xu,useCallback:Um,useContext:qe,useEffect:Im,useImperativeHandle:xm,useInsertionEffect:Om,useLayoutEffect:Nm,useMemo:zm,useReducer:Uu,useRef:Dm,useState:function(){return Uu(_i)},useDebugValue:uh,useDeferredValue:function(t,n){var a=de();return Lm(a,Qt.memoizedState,t,n)},useTransition:function(){var t=Uu(_i)[0],n=de().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:fm,useId:km,useHostTransitionStatus:hh,useFormState:Rm,useActionState:Rm,useOptimistic:function(t,n){var a=de();return _m(a,Qt,t,n)},useMemoCache:ih,useCacheRefresh:Hm},h0={readContext:qe,use:xu,useCallback:Um,useContext:qe,useEffect:Im,useImperativeHandle:xm,useInsertionEffect:Om,useLayoutEffect:Nm,useMemo:zm,useReducer:rh,useRef:Dm,useState:function(){return rh(_i)},useDebugValue:uh,useDeferredValue:function(t,n){var a=de();return Qt===null?oh(a,t,n):Lm(a,Qt.memoizedState,t,n)},useTransition:function(){var t=rh(_i)[0],n=de().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:fm,useId:km,useHostTransitionStatus:hh,useFormState:Cm,useActionState:Cm,useOptimistic:function(t,n){var a=de();return Qt!==null?_m(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ih,useCacheRefresh:Hm},qr=null,rl=0;function qu(t){var n=rl;return rl+=1,qr===null&&(qr=[]),am(qr,t,n)}function sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ku(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Km(t){var n=t._init;return n(t._payload)}function Xm(t){function n(x,D){if(t){var L=x.deletions;L===null?(x.deletions=[D],x.flags|=16):L.push(D)}}function a(x,D){if(!t)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function l(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function c(x,D){return x=di(x,D),x.index=0,x.sibling=null,x}function f(x,D,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<D?(x.flags|=67108866,D):L):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,L,Q){return D===null||D.tag!==6?(D=Mc(L,x.mode,Q),D.return=x,D):(D=c(D,L),D.return=x,D)}function b(x,D,L,Q){var at=L.type;return at===Z?j(x,D,L.props.children,Q,L.key):D!==null&&(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Km(at)===D.type)?(D=c(D,L.props),sl(D,L),D.return=x,D):(D=Su(L.type,L.key,L.props,null,x.mode,Q),sl(D,L),D.return=x,D)}function P(x,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=xc(L,x.mode,Q),D.return=x,D):(D=c(D,L.children||[]),D.return=x,D)}function j(x,D,L,Q,at){return D===null||D.tag!==7?(D=ja(L,x.mode,Q,at),D.return=x,D):(D=c(D,L),D.return=x,D)}function Y(x,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Mc(""+D,x.mode,L),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return L=Su(D.type,D.key,D.props,null,x.mode,L),sl(L,D),L.return=x,L;case G:return D=xc(D,x.mode,L),D.return=x,D;case S:var Q=D._init;return D=Q(D._payload),Y(x,D,L)}if(ne(D)||U(D))return D=ja(D,x.mode,L,null),D.return=x,D;if(typeof D.then=="function")return Y(x,qu(D),L);if(D.$$typeof===ft)return Y(x,Cu(x,D),L);ku(x,D)}return null}function B(x,D,L,Q){var at=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return at!==null?null:E(x,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return L.key===at?b(x,D,L,Q):null;case G:return L.key===at?P(x,D,L,Q):null;case S:return at=L._init,L=at(L._payload),B(x,D,L,Q)}if(ne(L)||U(L))return at!==null?null:j(x,D,L,Q,null);if(typeof L.then=="function")return B(x,D,qu(L),Q);if(L.$$typeof===ft)return B(x,D,Cu(x,L),Q);ku(x,L)}return null}function q(x,D,L,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(D,x,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return x=x.get(Q.key===null?L:Q.key)||null,b(D,x,Q,at);case G:return x=x.get(Q.key===null?L:Q.key)||null,P(D,x,Q,at);case S:var Rt=Q._init;return Q=Rt(Q._payload),q(x,D,L,Q,at)}if(ne(Q)||U(Q))return x=x.get(L)||null,j(D,x,Q,at,null);if(typeof Q.then=="function")return q(x,D,L,qu(Q),at);if(Q.$$typeof===ft)return q(x,D,L,Cu(D,Q),at);ku(D,Q)}return null}function mt(x,D,L,Q){for(var at=null,Rt=null,rt=D,ht=D=0,De=null;rt!==null&&ht<L.length;ht++){rt.index>ht?(De=rt,rt=null):De=rt.sibling;var Ut=B(x,rt,L[ht],Q);if(Ut===null){rt===null&&(rt=De);break}t&&rt&&Ut.alternate===null&&n(x,rt),D=f(Ut,D,ht),Rt===null?at=Ut:Rt.sibling=Ut,Rt=Ut,rt=De}if(ht===L.length)return a(x,rt),Pt&&Qa(x,ht),at;if(rt===null){for(;ht<L.length;ht++)rt=Y(x,L[ht],Q),rt!==null&&(D=f(rt,D,ht),Rt===null?at=rt:Rt.sibling=rt,Rt=rt);return Pt&&Qa(x,ht),at}for(rt=l(rt);ht<L.length;ht++)De=q(rt,x,ht,L[ht],Q),De!==null&&(t&&De.alternate!==null&&rt.delete(De.key===null?ht:De.key),D=f(De,D,ht),Rt===null?at=De:Rt.sibling=De,Rt=De);return t&&rt.forEach(function(aa){return n(x,aa)}),Pt&&Qa(x,ht),at}function ct(x,D,L,Q){if(L==null)throw Error(r(151));for(var at=null,Rt=null,rt=D,ht=D=0,De=null,Ut=L.next();rt!==null&&!Ut.done;ht++,Ut=L.next()){rt.index>ht?(De=rt,rt=null):De=rt.sibling;var aa=B(x,rt,Ut.value,Q);if(aa===null){rt===null&&(rt=De);break}t&&rt&&aa.alternate===null&&n(x,rt),D=f(aa,D,ht),Rt===null?at=aa:Rt.sibling=aa,Rt=aa,rt=De}if(Ut.done)return a(x,rt),Pt&&Qa(x,ht),at;if(rt===null){for(;!Ut.done;ht++,Ut=L.next())Ut=Y(x,Ut.value,Q),Ut!==null&&(D=f(Ut,D,ht),Rt===null?at=Ut:Rt.sibling=Ut,Rt=Ut);return Pt&&Qa(x,ht),at}for(rt=l(rt);!Ut.done;ht++,Ut=L.next())Ut=q(rt,x,ht,Ut.value,Q),Ut!==null&&(t&&Ut.alternate!==null&&rt.delete(Ut.key===null?ht:Ut.key),D=f(Ut,D,ht),Rt===null?at=Ut:Rt.sibling=Ut,Rt=Ut);return t&&rt.forEach(function(fE){return n(x,fE)}),Pt&&Qa(x,ht),at}function Ft(x,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case I:t:{for(var at=L.key;D!==null;){if(D.key===at){if(at=L.type,at===Z){if(D.tag===7){a(x,D.sibling),Q=c(D,L.props.children),Q.return=x,x=Q;break t}}else if(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Km(at)===D.type){a(x,D.sibling),Q=c(D,L.props),sl(Q,L),Q.return=x,x=Q;break t}a(x,D);break}else n(x,D);D=D.sibling}L.type===Z?(Q=ja(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=Su(L.type,L.key,L.props,null,x.mode,Q),sl(Q,L),Q.return=x,x=Q)}return y(x);case G:t:{for(at=L.key;D!==null;){if(D.key===at)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(x,D.sibling),Q=c(D,L.children||[]),Q.return=x,x=Q;break t}else{a(x,D);break}else n(x,D);D=D.sibling}Q=xc(L,x.mode,Q),Q.return=x,x=Q}return y(x);case S:return at=L._init,L=at(L._payload),Ft(x,D,L,Q)}if(ne(L))return mt(x,D,L,Q);if(U(L)){if(at=U(L),typeof at!="function")throw Error(r(150));return L=at.call(L),ct(x,D,L,Q)}if(typeof L.then=="function")return Ft(x,D,qu(L),Q);if(L.$$typeof===ft)return Ft(x,D,Cu(x,L),Q);ku(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(x,D.sibling),Q=c(D,L),Q.return=x,x=Q):(a(x,D),Q=Mc(L,x.mode,Q),Q.return=x,x=Q),y(x)):a(x,D)}return function(x,D,L,Q){try{rl=0;var at=Ft(x,D,L,Q);return qr=null,at}catch(rt){if(rt===Zs||rt===Vu)throw rt;var Rt=nn(29,rt,null,x.mode);return Rt.lanes=Q,Rt.return=x,Rt}finally{}}}var kr=Xm(!0),Zm=Xm(!1),En=K(null),Qn=null;function ji(t){var n=t.alternate;$(ve,ve.current&1),$(En,t),Qn===null&&(n===null||zr.current!==null||n.memoizedState!==null)&&(Qn=t)}function $m(t){if(t.tag===22){if($(ve,ve.current),$(En,t),Qn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Qn=t)}}else Gi()}function Gi(){$(ve,ve.current),$(En,En.current)}function vi(t){et(En),Qn===t&&(Qn=null),et(ve)}var ve=K(0);function Hu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||nf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function dh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var mh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=ln(),c=qi(l);c.payload=n,a!=null&&(c.callback=a),n=ki(t,c,l),n!==null&&(un(n,t,l),Js(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=ln(),c=qi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ki(t,c,l),n!==null&&(un(n,t,l),Js(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=ln(),l=qi(a);l.tag=2,n!=null&&(l.callback=n),n=ki(t,l,a),n!==null&&(un(n,t,a),Js(n,t,a))}};function Jm(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Hs(a,l)||!Hs(c,f):!0}function Wm(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&mh.enqueueReplaceState(n,n.state,null)}function Ja(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function tg(t){ju(t)}function eg(t){console.error(t)}function ng(t){ju(t)}function Gu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ig(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function gh(t,n,a){return a=qi(a),a.tag=3,a.payload={element:null},a.callback=function(){Gu(t,n)},a}function ag(t){return t=qi(t),t.tag=3,t}function rg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){ig(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ig(n,a,l),typeof c!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function f0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Fs(n,a,c,!0),a=En.current,a!==null){switch(a.tag){case 13:return Qn===null?Bh():a.alternate===null&&re===0&&(re=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Gc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),kh(t,l,c)),!1;case 22:return a.flags|=65536,l===Gc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),kh(t,l,c)),!1}throw Error(r(435,a.tag))}return kh(t,l,c),Bh(),!1}if(Pt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Lc&&(t=Error(r(422),{cause:l}),Ys(pn(t,a)))):(l!==Lc&&(n=Error(r(423),{cause:l}),Ys(pn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=pn(l,a),c=gh(t.stateNode,l,c),Fc(t,c),re!==4&&(re=2)),!1;var f=Error(r(520),{cause:l});if(f=pn(f,a),dl===null?dl=[f]:dl.push(f),re!==4&&(re=2),n===null)return!0;l=pn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=gh(a.stateNode,l,t),Fc(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zi===null||!Zi.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=ag(c),rg(c,t,a,l),Fc(a,c),!1}a=a.return}while(a!==null);return!1}var sg=Error(r(461)),we=!1;function Me(t,n,a,l){n.child=t===null?Zm(n,null,a,l):kr(n,t.child,a,l)}function lg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Xa(n),l=Jc(t,n,a,y,f,c),E=Wc(),t!==null&&!we?(th(t,n,c),Ei(t,n,c)):(Pt&&E&&Uc(n),n.flags|=1,Me(t,n,l,c),n.child)}function ug(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Nc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,og(t,n,f,l,c)):(t=Su(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Sh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Hs,a(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=di(f,l),t.ref=n.ref,t.return=n,n.child=t}function og(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Hs(f,l)&&t.ref===n.ref)if(we=!1,n.pendingProps=l=f,Sh(t,c))(t.flags&131072)!==0&&(we=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return ph(t,n,a,l,c)}function cg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return hg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Du(n,f!==null?f.cachePool:null),f!==null?om(n,f):Xc(),$m(n);else return n.lanes=n.childLanes=536870912,hg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Du(n,f.cachePool),om(n,f),Gi(),n.memoizedState=null):(t!==null&&Du(n,null),Xc(),Gi());return Me(t,n,c,a),n.child}function hg(t,n,a,l){var c=jc();return c=c===null?null:{parent:_e._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Du(n,null),Xc(),$m(n),t!==null&&Fs(t,n,l,!0),null}function Qu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function ph(t,n,a,l,c){return Xa(n),a=Jc(t,n,a,l,void 0,c),l=Wc(),t!==null&&!we?(th(t,n,c),Ei(t,n,c)):(Pt&&l&&Uc(n),n.flags|=1,Me(t,n,a,c),n.child)}function fg(t,n,a,l,c,f){return Xa(n),n.updateQueue=null,a=hm(n,l,a,c),cm(t),l=Wc(),t!==null&&!we?(th(t,n,f),Ei(t,n,f)):(Pt&&l&&Uc(n),n.flags|=1,Me(t,n,a,f),n.child)}function dg(t,n,a,l,c){if(Xa(n),n.stateNode===null){var f=Or,y=a.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Qc(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Or,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(dh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&mh.enqueueReplaceState(f,f.state,null),tl(n,l,f,c),Ws(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=Ja(a,E);f.props=b;var P=f.context,j=a.contextType;y=Or,typeof j=="object"&&j!==null&&(y=qe(j));var Y=a.getDerivedStateFromProps;j=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&Wm(n,f,l,y),Bi=!1;var B=n.memoizedState;f.state=B,tl(n,l,f,c),Ws(),P=n.memoizedState,E||B!==P||Bi?(typeof Y=="function"&&(dh(n,a,Y,l),P=n.memoizedState),(b=Bi||Jm(n,a,b,l,B,P,y))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Yc(t,n),y=n.memoizedProps,j=Ja(a,y),f.props=j,Y=n.pendingProps,B=f.context,P=a.contextType,b=Or,typeof P=="object"&&P!==null&&(b=qe(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==b)&&Wm(n,f,l,b),Bi=!1,B=n.memoizedState,f.state=B,tl(n,l,f,c),Ws();var q=n.memoizedState;y!==Y||B!==q||Bi||t!==null&&t.dependencies!==null&&wu(t.dependencies)?(typeof E=="function"&&(dh(n,a,E,l),q=n.memoizedState),(j=Bi||Jm(n,a,j,l,B,q,b)||t!==null&&t.dependencies!==null&&wu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=j):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Qu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=kr(n,t.child,null,c),n.child=kr(n,null,a,c)):Me(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ei(t,n,c),t}function mg(t,n,a,l){return Qs(),n.flags|=256,Me(t,n,a,l),n.child}var yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _h(t){return{baseLanes:t,cachePool:em()}}function vh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Tn),t}function gg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(ve.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?ji(n):Gi(),Pt){var E=ae,b;if(b=E){t:{for(b=E,E=Gn;b.nodeType!==8;){if(!E){E=null;break t}if(b=In(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Ga!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},b=nn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ke=n,ae=null,b=!0):b=!1}b||Fa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return nf(E)?n.lanes=32:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(Gi(),c=n.mode,E=Yu({mode:"hidden",children:E},c),l=ja(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=_h(a),c.childLanes=vh(t,y,a),n.memoizedState=yh,l):(ji(n),Eh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(ji(n),n.flags&=-257,n=Th(t,n,a)):n.memoizedState!==null?(Gi(),n.child=t.child,n.flags|=128,n=null):(Gi(),c=l.fallback,E=n.mode,l=Yu({mode:"visible",children:l.children},E),c=ja(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,kr(n,t.child,null,a),l=n.child,l.memoizedState=_h(a),l.childLanes=vh(t,y,a),n.memoizedState=yh,n=c);else if(ji(n),nf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(r(419)),l.stack="",l.digest=y,Ys({value:l,source:null,stack:null}),n=Th(t,n,a)}else if(we||Fs(t,n,a,!1),y=(a&t.childLanes)!==0,we||y){if(y=Zt,y!==null&&(l=a&-a,l=(l&42)!==0?1:Oi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Ir(t,l),un(y,t,l),sg;E.data==="$?"||Bh(),n=Th(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=In(E.nextSibling),Ke=n,Pt=!0,Ya=null,Gn=!1,t!==null&&(_n[vn++]=mi,_n[vn++]=gi,_n[vn++]=Ga,mi=t.id,gi=t.overflow,Ga=n),n=Eh(n,l.children),n.flags|=4096);return n}return c?(Gi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=di(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=di(P,c):(c=ja(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=_h(a):(b=E.cachePool,b!==null?(P=_e._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=em(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=vh(t,y,a),n.memoizedState=yh,l):(ji(n),a=t.child,t=a.sibling,a=di(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Eh(t,n){return n=Yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Yu(t,n){return t=nn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Th(t,n,a){return kr(n,t.child,null,a),t=Eh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function pg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Bc(t.return,n,a)}function Ah(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function yg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Me(t,n,l.children,a),l=ve.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pg(t,a,n);else if(t.tag===19)pg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(ve,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Hu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Ah(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Hu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Ah(n,!0,a,null,f);break;case"together":Ah(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Xi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Fs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=di(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=di(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Sh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&wu(t)))}function d0(t,n,a){switch(n.tag){case 3:Xt(n,n.stateNode.containerInfo),Pi(n,_e,t.memoizedState.cache),Qs();break;case 27:case 5:Ii(n);break;case 4:Xt(n,n.stateNode.containerInfo);break;case 10:Pi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ji(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gg(t,n,a):(ji(n),t=Ei(t,n,a),t!==null?t.sibling:null);ji(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Fs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return yg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(ve,ve.current),l)break;return null;case 22:case 23:return n.lanes=0,cg(t,n,a);case 24:Pi(n,_e,t.memoizedState.cache)}return Ei(t,n,a)}function _g(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)we=!0;else{if(!Sh(t,a)&&(n.flags&128)===0)return we=!1,d0(t,n,a);we=(t.flags&131072)!==0}else we=!1,Pt&&(n.flags&1048576)!==0&&Kd(n,Ru,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Nc(l)?(t=Ja(l,t),n.tag=1,n=dg(null,n,l,t,a)):(n.tag=0,n=ph(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===xt){n.tag=11,n=lg(null,n,l,t,a);break t}else if(c===N){n.tag=14,n=ug(null,n,l,t,a);break t}}throw n=Ie(l)||l,Error(r(306,n,""))}}return n;case 0:return ph(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Ja(l,n.pendingProps),dg(t,n,l,c,a);case 3:t:{if(Xt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Yc(t,n),tl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Pi(n,_e,l),l!==f.cache&&qc(n,[_e],a,!0),Ws(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=mg(t,n,l,a);break t}else if(l!==c){c=pn(Error(r(424)),n),Ys(c),n=mg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=In(t.firstChild),Ke=n,Pt=!0,Ya=null,Gn=!0,a=Zm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qs(),l===c){n=Ei(t,n,a);break t}Me(t,n,l,a)}n=n.child}return n;case 26:return Qu(t,n),t===null?(a=Ap(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pt||(a=n.type,t=n.pendingProps,l=so(pt.current).createElement(a),l[ge]=n,l[ce]=t,Ue(l,a,t),se(l),n.stateNode=l):n.memoizedState=Ap(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ii(n),t===null&&Pt&&(l=n.stateNode=vp(n.type,n.pendingProps,pt.current),Ke=n,Gn=!0,c=ae,Wi(n.type)?(af=c,ae=In(l.firstChild)):ae=c),Me(t,n,n.pendingProps.children,a),Qu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ae)&&(l=k0(l,n.type,n.pendingProps,Gn),l!==null?(n.stateNode=l,Ke=n,ae=In(l.firstChild),Gn=!1,c=!0):c=!1),c||Fa(n)),Ii(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Wh(c,f)?l=null:y!==null&&Wh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Jc(t,n,r0,null,null,a),Al._currentValue=c),Qu(t,n),Me(t,n,l,a),n.child;case 6:return t===null&&Pt&&((t=a=ae)&&(a=H0(a,n.pendingProps,Gn),a!==null?(n.stateNode=a,Ke=n,ae=null,t=!0):t=!1),t||Fa(n)),null;case 13:return gg(t,n,a);case 4:return Xt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=kr(n,null,l,a):Me(t,n,l,a),n.child;case 11:return lg(t,n,n.type,n.pendingProps,a);case 7:return Me(t,n,n.pendingProps,a),n.child;case 8:return Me(t,n,n.pendingProps.children,a),n.child;case 12:return Me(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Pi(n,n.type,l.value),Me(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Xa(n),c=qe(c),l=l(c),n.flags|=1,Me(t,n,l,a),n.child;case 14:return ug(t,n,n.type,n.pendingProps,a);case 15:return og(t,n,n.type,n.pendingProps,a);case 19:return yg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Yu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=di(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return cg(t,n,a);case 24:return Xa(n),l=qe(_e),t===null?(c=jc(),c===null&&(c=Zt,f=kc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Qc(n),Pi(n,_e,c)):((t.lanes&a)!==0&&(Yc(t,n),tl(n,null,null,a),Ws()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Pi(n,_e,l)):(l=f.cache,Pi(n,_e,l),l!==c.cache&&qc(n,[_e],a,!0))),Me(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ti(t){t.flags|=4}function vg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cp(n)){if(n=En.current,n!==null&&((Ot&4194048)===Ot?Qn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Qn))throw $s=Gc,nm;t.flags|=8192}}function Fu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?bs():536870912,t.lanes|=n,Qr|=n)}function ll(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function m0(t,n,a){var l=n.pendingProps;switch(zc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),yi(_e),Nn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Gs(n)?Ti(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$d())),te(n),null;case 26:return a=n.memoizedState,t===null?(Ti(n),a!==null?(te(n),vg(n,a)):(te(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ti(n),te(n),vg(n,a)):(te(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ti(n),te(n),n.flags&=-16777217),null;case 27:ti(n),a=pt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}t=ut.current,Gs(n)?Xd(n):(t=vp(c,l,a),n.stateNode=t,Ti(n))}return te(n),null;case 5:if(ti(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(t=ut.current,Gs(n))Xd(n);else{switch(c=so(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ge]=n,t[ce]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ue(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ti(n)}}return te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=pt.current,Gs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ge]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fp(t.nodeValue,a)),t||Fa(n)}else t=so(t).createTextNode(l),t[ge]=n,n.stateNode=t}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Gs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ge]=n}else Qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=$d(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Fu(n,n.updateQueue),te(n),null;case 4:return Nn(),t===null&&Kh(n.stateNode.containerInfo),te(n),null;case 10:return yi(n.type),te(n),null;case 19:if(et(ve),c=n.memoizedState,c===null)return te(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)ll(c,!1);else{if(re!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Hu(t),f!==null){for(n.flags|=128,ll(c,!1),t=f.updateQueue,n.updateQueue=t,Fu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Fd(a,t),a=a.sibling;return $(ve,ve.current&1|2),n.child}t=t.sibling}c.tail!==null&&cn()>Zu&&(n.flags|=128,l=!0,ll(c,!1),n.lanes=4194304)}else{if(!l)if(t=Hu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Fu(n,t),ll(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return te(n),null}else 2*cn()-c.renderingStartTime>Zu&&a!==536870912&&(n.flags|=128,l=!0,ll(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=cn(),n.sibling=null,t=ve.current,$(ve,l?t&1|2:t&1),n):(te(n),null);case 22:case 23:return vi(n),Zc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&Fu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&et(Za),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),yi(_e),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function g0(t,n){switch(zc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return yi(_e),Nn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ti(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Qs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(ve),null;case 4:return Nn(),null;case 10:return yi(n.type),null;case 22:case 23:return vi(n),Zc(),t!==null&&et(Za),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return yi(_e),null;case 25:return null;default:return null}}function Eg(t,n){switch(zc(n),n.tag){case 3:yi(_e),Nn();break;case 26:case 27:case 5:ti(n);break;case 4:Nn();break;case 13:vi(n);break;case 19:et(ve);break;case 10:yi(n.type);break;case 22:case 23:vi(n),Zc(),t!==null&&et(Za);break;case 24:yi(_e)}}function ul(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Kt(n,n.return,E)}}function Qi(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,P=E;try{P()}catch(j){Kt(c,b,j)}}}l=l.next}while(l!==f)}}catch(j){Kt(n,n.return,j)}}function Tg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{um(n,a)}catch(l){Kt(t,t.return,l)}}}function Ag(t,n,a){a.props=Ja(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function ol(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Kt(t,n,c)}}function Yn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Kt(t,n,c)}else a.current=null}function Sg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Kt(t,t.return,c)}}function bh(t,n,a){try{var l=t.stateNode;z0(l,t.type,a,n),l[ce]=n}catch(c){Kt(t,t.return,c)}}function bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wi(t.type)||t.tag===4}function Rh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ro));else if(l!==4&&(l===27&&Wi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(wh(t,n,a),t=t.sibling;t!==null;)wh(t,n,a),t=t.sibling}function Ku(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Wi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ku(t,n,a),t=t.sibling;t!==null;)Ku(t,n,a),t=t.sibling}function Rg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ue(n,l,a),n[ge]=t,n[ce]=a}catch(f){Kt(t,t.return,f)}}var Ai=!1,ue=!1,Ch=!1,wg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function p0(t,n){if(t=t.containerInfo,$h=fo,t=Ld(t),Rc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,P=0,j=0,Y=t,B=null;e:for(;;){for(var q;Y!==a||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)B=Y,Y=q;for(;;){if(Y===t)break e;if(B===a&&++P===c&&(E=y),B===f&&++j===l&&(b=y),(q=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=q}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jh={focusedElem:t,selectionRange:a},fo=!1,Ce=n;Ce!==null;)if(n=Ce,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ce=t;else for(;Ce!==null;){switch(n=Ce,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var mt=Ja(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(mt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Kt(a,a.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)ef(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ef(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ce=t;break}Ce=n.return}}function Cg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),l&4&&ul(5,a);break;case 1:if(Yi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(a,a.return,y)}else{var c=Ja(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(a,a.return,y)}}l&64&&Tg(a),l&512&&ol(a,a.return);break;case 3:if(Yi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{um(t,n)}catch(y){Kt(a,a.return,y)}}break;case 27:n===null&&l&4&&Rg(a);case 26:case 5:Yi(t,a),n===null&&l&4&&Sg(a),l&512&&ol(a,a.return);break;case 12:Yi(t,a);break;case 13:Yi(t,a),l&4&&Ig(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=R0.bind(null,a),j0(t,a))));break;case 22:if(l=a.memoizedState!==null||Ai,!l){n=n!==null&&n.memoizedState!==null||ue,c=Ai;var f=ue;Ai=l,(ue=n)&&!f?Fi(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Ai=c,ue=f}break;case 30:break;default:Yi(t,a)}}function Dg(t){var n=t.alternate;n!==null&&(t.alternate=null,Dg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&xi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Jt=null,Ze=!1;function Si(t,n,a){for(a=a.child;a!==null;)Vg(t,n,a),a=a.sibling}function Vg(t,n,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ie,a)}catch{}switch(a.tag){case 26:ue||Yn(a,n),Si(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ue||Yn(a,n);var l=Jt,c=Ze;Wi(a.type)&&(Jt=a.stateNode,Ze=!1),Si(t,n,a),_l(a.stateNode),Jt=l,Ze=c;break;case 5:ue||Yn(a,n);case 6:if(l=Jt,c=Ze,Jt=null,Si(t,n,a),Jt=l,Ze=c,Jt!==null)if(Ze)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{Jt.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:Jt!==null&&(Ze?(t=Jt,yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),wl(t)):yp(Jt,a.stateNode));break;case 4:l=Jt,c=Ze,Jt=a.stateNode.containerInfo,Ze=!0,Si(t,n,a),Jt=l,Ze=c;break;case 0:case 11:case 14:case 15:ue||Qi(2,a,n),ue||Qi(4,a,n),Si(t,n,a);break;case 1:ue||(Yn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ag(a,n,l)),Si(t,n,a);break;case 21:Si(t,n,a);break;case 22:ue=(l=ue)||a.memoizedState!==null,Si(t,n,a),ue=l;break;default:Si(t,n,a)}}function Ig(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wl(t)}catch(a){Kt(n,n.return,a)}}function y0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wg),n;default:throw Error(r(435,t.tag))}}function Dh(t,n){var a=y0(t);n.forEach(function(l){var c=w0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Wi(E.type)){Jt=E.stateNode,Ze=!1;break t}break;case 5:Jt=E.stateNode,Ze=!1;break t;case 3:case 4:Jt=E.stateNode.containerInfo,Ze=!0;break t}E=E.return}if(Jt===null)throw Error(r(160));Vg(f,y,c),Jt=null,Ze=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Og(n,t),n=n.sibling}var Vn=null;function Og(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),rn(t),l&4&&(Qi(3,t,t.return),ul(3,t),Qi(5,t,t.return));break;case 1:an(n,t),rn(t),l&512&&(ue||a===null||Yn(a,a.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Vn;if(an(n,t),rn(t),l&512&&(ue||a===null||Yn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ca]||f[ge]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ue(f,l,a),f[ge]=t,se(f),l=f;break t;case"link":var y=Rp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Ue(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Rp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Ue(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ge]=t,se(f),l=f}t.stateNode=l}else wp(c,t.type,t.stateNode);else t.stateNode=bp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?wp(c,t.type,t.stateNode):bp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bh(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),rn(t),l&512&&(ue||a===null||Yn(a,a.return)),a!==null&&l&4&&bh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),rn(t),l&512&&(ue||a===null||Yn(a,a.return)),t.flags&32){c=t.stateNode;try{fn(c,"")}catch(q){Kt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,bh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Ch=!0);break;case 6:if(an(n,t),rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){Kt(t,t.return,q)}}break;case 3:if(oo=null,c=Vn,Vn=lo(n.containerInfo),an(n,t),Vn=c,rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wl(n.containerInfo)}catch(q){Kt(t,t.return,q)}Ch&&(Ch=!1,Ng(t));break;case 4:l=Vn,Vn=lo(t.stateNode.containerInfo),an(n,t),rn(t),Vn=l;break;case 12:an(n,t),rn(t);break;case 13:an(n,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xh=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dh(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,P=Ai,j=ue;if(Ai=P||c,ue=j||b,an(n,t),ue=j,Ai=P,rn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||Ai||ue||Wa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Kt(b,b.return,q)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Kt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dh(t,a))));break;case 19:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dh(t,l)));break;case 30:break;case 21:break;default:an(n,t),rn(t)}}function rn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(bg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Rh(t);Ku(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(fn(y,""),a.flags&=-33);var E=Rh(t);Ku(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,P=Rh(t);wh(t,P,b);break;default:throw Error(r(161))}}catch(j){Kt(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ng(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ng(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cg(t,n.alternate,n),n=n.sibling}function Wa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qi(4,n,n.return),Wa(n);break;case 1:Yn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ag(n,n.return,a),Wa(n);break;case 27:_l(n.stateNode);case 26:case 5:Yn(n,n.return),Wa(n);break;case 22:n.memoizedState===null&&Wa(n);break;case 30:Wa(n);break;default:Wa(n)}t=t.sibling}}function Fi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(c,f,a),ul(4,f);break;case 1:if(Fi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)lm(b[c],E)}catch(P){Kt(l,l.return,P)}}a&&y&64&&Tg(f),ol(f,f.return);break;case 27:Rg(f);case 26:case 5:Fi(c,f,a),a&&l===null&&y&4&&Sg(f),ol(f,f.return);break;case 12:Fi(c,f,a);break;case 13:Fi(c,f,a),a&&y&4&&Ig(c,f);break;case 22:f.memoizedState===null&&Fi(c,f,a),ol(f,f.return);break;case 30:break;default:Fi(c,f,a)}n=n.sibling}}function Vh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ks(a))}function Ih(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ks(t))}function Fn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mg(t,n,a,l),n=n.sibling}function Mg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(t,n,a,l),c&2048&&ul(9,n);break;case 1:Fn(t,n,a,l);break;case 3:Fn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ks(t)));break;case 12:if(c&2048){Fn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Fn(t,n,a,l);break;case 13:Fn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(t,n,a,l):cl(t,n):f._visibility&2?Fn(t,n,a,l):(f._visibility|=2,Hr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Vh(y,n);break;case 24:Fn(t,n,a,l),c&2048&&Ih(n.alternate,n);break;default:Fn(t,n,a,l)}}function Hr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Hr(f,y,E,b,c),ul(8,y);break;case 23:break;case 22:var j=y.stateNode;y.memoizedState!==null?j._visibility&2?Hr(f,y,E,b,c):cl(f,y):(j._visibility|=2,Hr(f,y,E,b,c)),c&&P&2048&&Vh(y.alternate,y);break;case 24:Hr(f,y,E,b,c),c&&P&2048&&Ih(y.alternate,y);break;default:Hr(f,y,E,b,c)}n=n.sibling}}function cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:cl(a,l),c&2048&&Vh(l.alternate,l);break;case 24:cl(a,l),c&2048&&Ih(l.alternate,l);break;default:cl(a,l)}n=n.sibling}}var hl=8192;function jr(t){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)xg(t),t=t.sibling}function xg(t){switch(t.tag){case 26:jr(t),t.flags&hl&&t.memoizedState!==null&&nE(Vn,t.memoizedState,t.memoizedProps);break;case 5:jr(t);break;case 3:case 4:var n=Vn;Vn=lo(t.stateNode.containerInfo),jr(t),Vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=hl,hl=16777216,jr(t),hl=n):jr(t));break;default:jr(t)}}function Ug(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ce=l,Lg(l,t)}Ug(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zg(t),t=t.sibling}function zg(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Qi(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Xu(t)):fl(t);break;default:fl(t)}}function Xu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ce=l,Lg(l,t)}Ug(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qi(8,n,n.return),Xu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Xu(n));break;default:Xu(n)}t=t.sibling}}function Lg(t,n){for(;Ce!==null;){var a=Ce;switch(a.tag){case 0:case 11:case 15:Qi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ks(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ce=l;else t:for(a=t;Ce!==null;){l=Ce;var c=l.sibling,f=l.return;if(Dg(l),l===a){Ce=null;break t}if(c!==null){c.return=f,Ce=c;break t}Ce=f}}}var _0={getCacheForType:function(t){var n=qe(_e),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},v0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Zt=null,wt=null,Ot=0,jt=0,sn=null,Ki=!1,Gr=!1,Oh=!1,bi=0,re=0,Xi=0,tr=0,Nh=0,Tn=0,Qr=0,dl=null,$e=null,Mh=!1,xh=0,Zu=1/0,$u=null,Zi=null,xe=0,$i=null,Yr=null,Fr=0,Uh=0,zh=null,Pg=null,ml=0,Lh=null;function ln(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(H.T!==null){var t=xr;return t!==0?t:Gh()}return Ni()}function Bg(){Tn===0&&(Tn=(Ot&536870912)===0||Pt?Ss():536870912);var t=En.current;return t!==null&&(t.flags|=32),Tn}function un(t,n,a){(t===Zt&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(Kr(t,0),Ji(t,Ot,Tn,!1)),ni(t,a),((Ht&2)===0||t!==Zt)&&(t===Zt&&((Ht&2)===0&&(tr|=a),re===4&&Ji(t,Ot,Tn,!1)),Kn(t))}function qg(t,n,a){if((Ht&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||wa(t,n),c=l?A0(t,n):qh(t,n,!0),f=l;do{if(c===0){Gr&&!l&&Ji(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!E0(a)){c=qh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=dl;var b=E.current.memoizedState.isDehydrated;if(b&&(Kr(E,y).flags|=256),y=qh(E,y,!1),y!==2){if(Oh&&!b){E.errorRecoveryDisabledLanes|=f,tr|=f,c=4;break t}f=$e,$e=c,f!==null&&($e===null?$e=f:$e.push.apply($e,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Kr(t,0),Ji(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ji(l,n,Tn,!Ki);break t;case 2:$e=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=xh+300-cn(),10<c)){if(Ji(l,n,Tn,!Ki),hr(l,0,!0)!==0)break t;l.timeoutHandle=gp(kg.bind(null,l,a,$e,$u,Mh,n,Tn,tr,Qr,Ki,f,2,-0,0),c);break t}kg(l,a,$e,$u,Mh,n,Tn,tr,Qr,Ki,f,0,-0,0)}}break}while(!0);Kn(t)}function kg(t,n,a,l,c,f,y,E,b,P,j,Y,B,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:eE},xg(n),Y=iE(),Y!==null)){t.cancelPendingCommit=Y(Kg.bind(null,t,n,f,a,l,c,y,E,b,j,1,B,q)),Ji(t,f,y,!P);return}Kg(t,n,f,a,l,c,y,E,b)}function E0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!en(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ji(t,n,a,l){n&=~Nh,n&=~tr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Be(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&Mn(t,a,n)}function Ju(){return(Ht&6)===0?(gl(0),!1):!0}function Ph(){if(wt!==null){if(jt===0)var t=wt.return;else t=wt,pi=Ka=null,eh(t),qr=null,rl=0,t=wt;for(;t!==null;)Eg(t.alternate,t),t=t.return;wt=null}}function Kr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,P0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ph(),Zt=t,wt=a=di(t.current,null),Ot=n,jt=0,sn=null,Ki=!1,Gr=wa(t,n),Oh=!1,Qr=Tn=Nh=tr=Xi=re=0,$e=dl=null,Mh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Be(l),f=1<<c;n|=t[c],l&=~f}return bi=n,Eu(),a}function Hg(t,n){Tt=null,H.H=Bu,n===Zs||n===Vu?(n=rm(),jt=3):n===nm?(n=rm(),jt=4):jt=n===sg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sn=n,wt===null&&(re=1,Gu(t,pn(n,t.current)))}function jg(){var t=H.H;return H.H=Bu,t===null?Bu:t}function Gg(){var t=H.A;return H.A=_0,t}function Bh(){re=4,Ki||(Ot&4194048)!==Ot&&En.current!==null||(Gr=!0),(Xi&134217727)===0&&(tr&134217727)===0||Zt===null||Ji(Zt,Ot,Tn,!1)}function qh(t,n,a){var l=Ht;Ht|=2;var c=jg(),f=Gg();(Zt!==t||Ot!==n)&&($u=null,Kr(t,n)),n=!1;var y=re;t:do try{if(jt!==0&&wt!==null){var E=wt,b=sn;switch(jt){case 8:Ph(),y=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var P=jt;if(jt=0,sn=null,Xr(t,E,b,P),a&&Gr){y=0;break t}break;default:P=jt,jt=0,sn=null,Xr(t,E,b,P)}}T0(),y=re;break}catch(j){Hg(t,j)}while(!0);return n&&t.shellSuspendCounter++,pi=Ka=null,Ht=l,H.H=c,H.A=f,wt===null&&(Zt=null,Ot=0,Eu()),y}function T0(){for(;wt!==null;)Qg(wt)}function A0(t,n){var a=Ht;Ht|=2;var l=jg(),c=Gg();Zt!==t||Ot!==n?($u=null,Zu=cn()+500,Kr(t,n)):Gr=wa(t,n);t:do try{if(jt!==0&&wt!==null){n=wt;var f=sn;e:switch(jt){case 1:jt=0,sn=null,Xr(t,n,f,1);break;case 2:case 9:if(im(f)){jt=0,sn=null,Yg(n);break}n=function(){jt!==2&&jt!==9||Zt!==t||(jt=7),Kn(t)},f.then(n,n);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:im(f)?(jt=0,sn=null,Yg(n)):(jt=0,sn=null,Xr(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Cp(y)){jt=0,sn=null;var b=E.sibling;if(b!==null)wt=b;else{var P=E.return;P!==null?(wt=P,Wu(P)):wt=null}break e}}jt=0,sn=null,Xr(t,n,f,5);break;case 6:jt=0,sn=null,Xr(t,n,f,6);break;case 8:Ph(),re=6;break t;default:throw Error(r(462))}}S0();break}catch(j){Hg(t,j)}while(!0);return pi=Ka=null,H.H=l,H.A=c,Ht=a,wt!==null?0:(Zt=null,Ot=0,Eu(),re)}function S0(){for(;wt!==null&&!vs();)Qg(wt)}function Qg(t){var n=_g(t.alternate,t,bi);t.memoizedProps=t.pendingProps,n===null?Wu(t):wt=n}function Yg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=fg(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=fg(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:eh(n);default:Eg(a,n),n=wt=Fd(n,bi),n=_g(a,n,bi)}t.memoizedProps=t.pendingProps,n===null?Wu(t):wt=n}function Xr(t,n,a,l){pi=Ka=null,eh(n),qr=null,rl=0;var c=n.return;try{if(f0(t,c,n,a,Ot)){re=1,Gu(t,pn(a,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;re=1,Gu(t,pn(a,t.current)),wt=null;return}n.flags&32768?(Pt||l===1?t=!0:Gr||(Ot&536870912)!==0?t=!1:(Ki=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fg(n,t)):Wu(n)}function Wu(t){var n=t;do{if((n.flags&32768)!==0){Fg(n,Ki);return}t=n.return;var a=m0(n.alternate,n,bi);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);re===0&&(re=5)}function Fg(t,n){do{var a=g0(t.alternate,t);if(a!==null){a.flags&=32767,wt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=a}while(t!==null);re=6,wt=null}function Kg(t,n,a,l,c,f,y,E,b){t.cancelPendingCommit=null;do to();while(xe!==0);if((Ht&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Ic,Rs(t,a,f,y,E,b),t===Zt&&(wt=Zt=null,Ot=0),Yr=n,$i=t,Fr=a,Uh=f,zh=c,Pg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,C0(Aa,function(){return Wg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{p0(t,n,a)}finally{Ht=y,tt.p=c,H.T=l}}xe=1,Xg(),Zg(),$g()}}function Xg(){if(xe===1){xe=0;var t=$i,n=Yr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Og(n,t);var f=Jh,y=Ld(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&zd(E.ownerDocument.documentElement,E)){if(b!==null&&Rc(E)){var P=b.start,j=b.end;if(j===void 0&&(j=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(j,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var q=B.getSelection(),mt=E.textContent.length,ct=Math.min(b.start,mt),Ft=b.end===void 0?ct:Math.min(b.end,mt);!q.extend&&ct>Ft&&(y=Ft,Ft=ct,ct=y);var x=Ud(E,ct),D=Ud(E,Ft);if(x&&D&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(x.node,x.offset),q.removeAllRanges(),ct>Ft?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}fo=!!$h,Jh=$h=null}finally{Ht=c,tt.p=l,H.T=a}}t.current=n,xe=2}}function Zg(){if(xe===2){xe=0;var t=$i,n=Yr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Cg(t,n.alternate,n)}finally{Ht=c,tt.p=l,H.T=a}}xe=3}}function $g(){if(xe===4||xe===3){xe=0,Xl();var t=$i,n=Yr,a=Fr,l=Pg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,Yr=$i=null,Jg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Zi=null),fr(a),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ie,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(Fr&3)!==0&&to(),Kn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Lh?ml++:(ml=0,Lh=t):ml=0,gl(0)}}function Jg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ks(n)))}function to(t){return Xg(),Zg(),$g(),Wg()}function Wg(){if(xe!==5)return!1;var t=$i,n=Uh;Uh=0;var a=fr(Fr),l=H.T,c=tt.p;try{tt.p=32>a?32:a,H.T=null,a=zh,zh=null;var f=$i,y=Fr;if(xe=0,Yr=$i=null,Fr=0,(Ht&6)!==0)throw Error(r(331));var E=Ht;if(Ht|=4,zg(f.current),Mg(f,f.current,y,a),Ht=E,gl(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ie,f)}catch{}return!0}finally{tt.p=c,H.T=l,Jg(t,n)}}function tp(t,n,a){n=pn(a,n),n=gh(t.stateNode,n,2),t=ki(t,n,2),t!==null&&(ni(t,2),Kn(t))}function Kt(t,n,a){if(t.tag===3)tp(t,t,a);else for(;n!==null;){if(n.tag===3){tp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zi===null||!Zi.has(l))){t=pn(a,t),a=ag(2),l=ki(n,a,2),l!==null&&(rg(a,l,n,t),ni(l,2),Kn(l));break}}n=n.return}}function kh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new v0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Oh=!0,c.add(a),t=b0.bind(null,t,n,a),n.then(t,t))}function b0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Zt===t&&(Ot&a)===a&&(re===4||re===3&&(Ot&62914560)===Ot&&300>cn()-xh?(Ht&2)===0&&Kr(t,0):Nh|=a,Qr===Ot&&(Qr=0)),Kn(t)}function ep(t,n){n===0&&(n=bs()),t=Ir(t,n),t!==null&&(ni(t,n),Kn(t))}function R0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),ep(t,a)}function w0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),ep(t,a)}function C0(t,n){return Ea(t,n)}var eo=null,Zr=null,Hh=!1,no=!1,jh=!1,er=0;function Kn(t){t!==Zr&&t.next===null&&(Zr===null?eo=Zr=t:Zr=Zr.next=t),no=!0,Hh||(Hh=!0,V0())}function gl(t,n){if(!jh&&no){jh=!0;do for(var a=!1,l=eo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Be(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,rp(l,f))}else f=Ot,f=hr(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||wa(l,f)||(a=!0,rp(l,f));l=l.next}while(a);jh=!1}}function D0(){np()}function np(){no=Hh=!1;var t=0;er!==0&&(L0()&&(t=er),er=0);for(var n=cn(),a=null,l=eo;l!==null;){var c=l.next,f=ip(l,n);f===0?(l.next=null,a===null?eo=c:a.next=c,c===null&&(Zr=a)):(a=l,(t!==0||(f&3)!==0)&&(no=!0)),l=c}gl(t)}function ip(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Be(f),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=As(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,a=Ot,a=hr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ta(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||wa(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ta(l),fr(a)){case 2:case 8:a=or;break;case 32:a=Aa;break;case 268435456:a=cr;break;default:a=Aa}return l=ap.bind(null,t),a=Ea(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ta(l),t.callbackPriority=2,t.callbackNode=null,2}function ap(t,n){if(xe!==0&&xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(to()&&t.callbackNode!==a)return null;var l=Ot;return l=hr(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(qg(t,l,n),ip(t,cn()),t.callbackNode!=null&&t.callbackNode===a?ap.bind(null,t):null)}function rp(t,n){if(to())return null;qg(t,n,!0)}function V0(){B0(function(){(Ht&6)!==0?Ea(Es,D0):np()})}function Gh(){return er===0&&(er=Ss()),er}function sp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_r(""+t)}function lp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function I0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=sp((c[ce]||null).action),y=l.submitter;y&&(n=(n=y[ce]||null)?sp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new vr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(er!==0){var b=y?lp(c,y):new FormData(c);ch(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?lp(c,y):new FormData(c),ch(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Qh=0;Qh<Vc.length;Qh++){var Yh=Vc[Qh],O0=Yh.toLowerCase(),N0=Yh[0].toUpperCase()+Yh.slice(1);Dn(O0,"on"+N0)}Dn(qd,"onAnimationEnd"),Dn(kd,"onAnimationIteration"),Dn(Hd,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(Xv,"onTransitionRun"),Dn(Zv,"onTransitionStart"),Dn($v,"onTransitionCancel"),Dn(jd,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function up(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(j){ju(j)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(j){ju(j)}c.currentTarget=null,f=b}}}}function Ct(t,n){var a=n[Cs];a===void 0&&(a=n[Cs]=new Set);var l=t+"__bubble";a.has(l)||(op(n,t,2,!1),a.add(l))}function Fh(t,n,a){var l=0;n&&(l|=4),op(a,t,l,n)}var io="_reactListening"+Math.random().toString(36).slice(2);function Kh(t){if(!t[io]){t[io]=!0,Ds.forEach(function(a){a!=="selectionchange"&&(M0.has(a)||Fh(a,!1,t),Fh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[io]||(n[io]=!0,Fh("selectionchange",!1,n))}}function op(t,n,a,l){switch(Mp(n)){case 2:var c=sE;break;case 8:c=lE;break;default:c=of}a=c.bind(null,n,a,t),c=void 0,!mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Xh(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ii(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}ru(function(){var P=f,j=dn(a),Y=[];t:{var B=Gd.get(t);if(B!==void 0){var q=vr,mt=t;switch(t){case"keypress":if(Bn(a)===0)break t;case"keydown":case"keyup":q=Rr;break;case"focusin":mt="focus",q=Ar;break;case"focusout":mt="blur",q=Ar;break;case"beforeblur":case"afterblur":q=Ar;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=du;break;case qd:case kd:case Hd:q=Sr;break;case jd:q=gu;break;case"scroll":case"scrollend":q=su;break;case"wheel":q=wr;break;case"copy":case"cut":case"paste":q=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=qs;break;case"toggle":case"beforetoggle":q=yu}var ct=(n&4)!==0,Ft=!ct&&(t==="scroll"||t==="scrollend"),x=ct?B!==null?B+"Capture":null:B;ct=[];for(var D=P,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=xa(D,x),Q!=null&&ct.push(yl(D,Q,L))),Ft)break;D=D.return}0<ct.length&&(B=new q(B,mt,null,a,j),Y.push({event:B,listeners:ct}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==li&&(mt=a.relatedTarget||a.fromElement)&&(ii(mt)||mt[hn]))break t;if((q||B)&&(B=j.window===j?j:(B=j.ownerDocument)?B.defaultView||B.parentWindow:window,q?(mt=a.relatedTarget||a.toElement,q=P,mt=mt?ii(mt):null,mt!==null&&(Ft=h(mt),ct=mt.tag,mt!==Ft||ct!==5&&ct!==27&&ct!==6)&&(mt=null)):(q=null,mt=P),q!==mt)){if(ct=gn,Q="onMouseLeave",x="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ct=qs,Q="onPointerLeave",x="onPointerEnter",D="pointer"),Ft=q==null?B:Un(q),L=mt==null?B:Un(mt),B=new ct(Q,D+"leave",q,a,j),B.target=Ft,B.relatedTarget=L,Q=null,ii(j)===P&&(ct=new ct(x,D+"enter",mt,a,j),ct.target=L,ct.relatedTarget=Ft,Q=ct),Ft=Q,q&&mt)e:{for(ct=q,x=mt,D=0,L=ct;L;L=$r(L))D++;for(L=0,Q=x;Q;Q=$r(Q))L++;for(;0<D-L;)ct=$r(ct),D--;for(;0<L-D;)x=$r(x),L--;for(;D--;){if(ct===x||x!==null&&ct===x.alternate)break e;ct=$r(ct),x=$r(x)}ct=null}else ct=null;q!==null&&cp(Y,B,q,ct,!1),mt!==null&&Ft!==null&&cp(Y,Ft,mt,ct,!0)}}t:{if(B=P?Un(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var at=Vd;else if(ye(B))if(Id)at=Yv;else{at=Gv;var Rt=jv}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ms(P.elementType)&&(at=Vd):at=Qv;if(at&&(at=at(t,P))){fi(Y,at,a,j);break t}Rt&&Rt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&zi(B,"number",B.value)}switch(Rt=P?Un(P):window,t){case"focusin":(ye(Rt)||Rt.contentEditable==="true")&&(Cr=Rt,wc=P,js=null);break;case"focusout":js=wc=Cr=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,Pd(Y,a,j);break;case"selectionchange":if(Kv)break;case"keydown":case"keyup":Pd(Y,a,j)}var rt;if(Hn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?k(t,a)&&(ht="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ht="onCompositionStart");ht&&(g&&a.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(rt=Us()):(Pn=j,Li="value"in Pn?Pn.value:Pn.textContent,Vt=!0)),Rt=ao(P,ht),0<Rt.length&&(ht=new Ps(ht,t,null,a,j),Y.push({event:ht,listeners:Rt}),rt?ht.data=rt:(rt=W(a),rt!==null&&(ht.data=rt)))),(rt=m?pe(t,a):It(t,a))&&(ht=ao(P,"onBeforeInput"),0<ht.length&&(Rt=new Ps("onBeforeInput","beforeinput",null,a,j),Y.push({event:Rt,listeners:ht}),Rt.data=rt)),I0(Y,t,P,a,j)}up(Y,n)})}function yl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function ao(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=xa(t,a),c!=null&&l.unshift(yl(t,c,f)),c=xa(t,n),c!=null&&l.push(yl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function $r(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=xa(a,f),P!=null&&y.unshift(yl(a,P,b))):c||(P=xa(a,f),P!=null&&y.push(yl(a,P,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var x0=/\r\n?/g,U0=/\u0000|\uFFFD/g;function hp(t){return(typeof t=="string"?t:""+t).replace(x0,`
`).replace(U0,"")}function fp(t,n){return n=hp(n),hp(t)===n}function ro(){}function Yt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,a,l);break;case"style":Ns(t,l,f);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_r(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_r(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ro);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=_r(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Ui(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ui(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vc.get(a)||a,Ui(t,a,l))}}function Zh(t,n,a,l,c,f){switch(a){case"style":Ns(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ro);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[ce]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ui(t,a,l)}}}function Ue(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,f,y,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var j=a[l];if(j!=null)switch(l){case"name":c=j;break;case"type":y=j;break;case"checked":b=j;break;case"defaultChecked":P=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Yt(t,n,l,j,a,null)}}Oa(t,f,E,b,P,y,c,!1),yr(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?si(t,!!l,n,!1):a!=null&&si(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(t,n,y,E,a,null)}Na(t,l,c,f),yr(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<pl.length;l++)Ct(pl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,P,l,a,null)}return;default:if(Ms(n)){for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!==void 0&&Zh(t,n,j,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function z0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,j=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(q)||Yt(t,n,q,null,l,Y)}}for(var B in l){var q=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(q!=null||Y!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":j=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Y&&Yt(t,n,B,q,l,Y)}}tn(t,y,E,b,P,j,f,c);return;case"select":q=y=E=B=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,a=y,l=q,B!=null?si(t,!!a,B,!1):!!l!=!!a&&(n!=null?si(t,!!a,n,!0):si(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Gt(t,B,q);return;case"option":for(var mt in a)if(B=a[mt],a.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":t.selected=!1;break;default:Yt(t,n,mt,null,l,B)}for(b in l)if(B=l[b],q=a[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&Yt(t,n,ct,null,l,B);for(P in l)if(B=l[P],q=a[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Yt(t,n,P,B,l,q)}return;default:if(Ms(n)){for(var Ft in a)B=a[Ft],a.hasOwnProperty(Ft)&&B!==void 0&&!l.hasOwnProperty(Ft)&&Zh(t,n,Ft,void 0,l,B);for(j in l)B=l[j],q=a[j],!l.hasOwnProperty(j)||B===q||B===void 0&&q===void 0||Zh(t,n,j,B,l,q);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,B);for(Y in l)B=l[Y],q=a[Y],!l.hasOwnProperty(Y)||B===q||B==null&&q==null||Yt(t,n,Y,B,l,q)}var $h=null,Jh=null;function so(t){return t.nodeType===9?t:t.ownerDocument}function dp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Wh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tf=null;function L0(){var t=window.event;return t&&t.type==="popstate"?t===tf?!1:(tf=t,!0):(tf=null,!1)}var gp=typeof setTimeout=="function"?setTimeout:void 0,P0=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,B0=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(t){return pp.resolve(null).then(t).catch(q0)}:gp;function q0(t){setTimeout(function(){throw t})}function Wi(t){return t==="head"}function yp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&_l(y.documentElement),a&2&&_l(y.body),a&4)for(a=y.head,_l(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Ca]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),wl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);wl(n)}function ef(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ef(a),xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function k0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ca])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function H0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=In(t.nextSibling),t===null))return null;return t}function nf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function j0(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var af=null;function _p(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function vp(t,n,a){switch(n=so(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function _l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);xi(t)}var An=new Map,Ep=new Set;function lo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=tt.d;tt.d={f:G0,r:Q0,D:Y0,C:F0,L:K0,m:X0,X:$0,S:Z0,M:J0};function G0(){var t=Ri.f(),n=Ju();return t||n}function Q0(t){var n=xn(t);n!==null&&n.tag===5&&n.type==="form"?qm(n):Ri.r(t)}var Jr=typeof document>"u"?null:document;function Tp(t,n,a){var l=Jr;if(l&&typeof n=="string"&&n){var c=he(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Ep.has(c)||(Ep.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ue(n,"link",t),se(n),l.head.appendChild(n)))}}function Y0(t){Ri.D(t),Tp("dns-prefetch",t,null)}function F0(t,n){Ri.C(t,n),Tp("preconnect",t,n)}function K0(t,n,a){Ri.L(t,n,a);var l=Jr;if(l&&t&&n){var c='link[rel="preload"][as="'+he(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+he(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+he(a.imageSizes)+'"]')):c+='[href="'+he(t)+'"]';var f=c;switch(n){case"style":f=Wr(t);break;case"script":f=ts(t)}An.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),An.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(vl(f))||n==="script"&&l.querySelector(El(f))||(n=l.createElement("link"),Ue(n,"link",t),se(n),l.head.appendChild(n)))}}function X0(t,n){Ri.m(t,n);var a=Jr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+he(l)+'"][href="'+he(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ts(t)}if(!An.has(f)&&(t=A({rel:"modulepreload",href:t},n),An.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(f)))return}l=a.createElement("link"),Ue(l,"link",t),se(l),a.head.appendChild(l)}}}function Z0(t,n,a){Ri.S(t,n,a);var l=Jr;if(l&&t){var c=Qe(l).hoistableStyles,f=Wr(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(vl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=An.get(f))&&rf(t,a);var b=y=l.createElement("link");se(b),Ue(b,"link",t),b._p=new Promise(function(P,j){b.onload=P,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function $0(t,n){Ri.X(t,n);var a=Jr;if(a&&t){var l=Qe(a).hoistableScripts,c=ts(t),f=l.get(c);f||(f=a.querySelector(El(c)),f||(t=A({src:t,async:!0},n),(n=An.get(c))&&sf(t,n),f=a.createElement("script"),se(f),Ue(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function J0(t,n){Ri.M(t,n);var a=Jr;if(a&&t){var l=Qe(a).hoistableScripts,c=ts(t),f=l.get(c);f||(f=a.querySelector(El(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=An.get(c))&&sf(t,n),f=a.createElement("script"),se(f),Ue(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Ap(t,n,a,l){var c=(c=pt.current)?lo(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Wr(a.href),a=Qe(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wr(a.href);var f=Qe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(vl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),An.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},An.set(t,a),f||W0(c,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ts(a),a=Qe(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Wr(t){return'href="'+he(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function Sp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function W0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ue(n,"link",a),se(n),t.head.appendChild(n))}function ts(t){return'[src="'+he(t)+'"]'}function El(t){return"script[async]"+t}function bp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+he(a.href)+'"]');if(l)return n.instance=l,se(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),se(l),Ue(l,"style",c),uo(l,a.precedence,t),n.instance=l;case"stylesheet":c=Wr(a.href);var f=t.querySelector(vl(c));if(f)return n.state.loading|=4,n.instance=f,se(f),f;l=Sp(a),(c=An.get(c))&&rf(l,c),f=(t.ownerDocument||t).createElement("link"),se(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ue(f,"link",l),n.state.loading|=4,uo(f,a.precedence,t),n.instance=f;case"script":return f=ts(a.src),(c=t.querySelector(El(f)))?(n.instance=c,se(c),c):(l=a,(c=An.get(f))&&(l=A({},a),sf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),se(c),Ue(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,uo(l,a.precedence,t));return n.instance}function uo(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var oo=null;function Rp(t,n,a){if(oo===null){var l=new Map,c=oo=new Map;c.set(a,l)}else c=oo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Ca]||f[ge]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function wp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function tE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Tl=null;function eE(){}function nE(t,n,a){if(Tl===null)throw Error(r(475));var l=Tl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Wr(a.href),f=t.querySelector(vl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=co.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,se(f);return}f=t.ownerDocument||t,a=Sp(a),(c=An.get(c))&&rf(a,c),f=f.createElement("link"),se(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ue(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=co.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function iE(){if(Tl===null)throw Error(r(475));var t=Tl;return t.stylesheets&&t.count===0&&lf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&lf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function co(){if(this.count--,this.count===0){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ho=null;function lf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ho=new Map,n.forEach(aE,t),ho=null,co.call(t))}function aE(t,n){if(!(n.state.loading&4)){var a=ho.get(t);if(a)var l=a.get(null);else{a=new Map,ho.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=co.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Al={$$typeof:ft,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function rE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Dp(t,n,a,l,c,f,y,E,b,P,j,Y){return t=new rE(t,n,a,y,E,b,P,Y),n=1,f===!0&&(n|=24),f=nn(3,null,null,n),t.current=f,f.stateNode=t,n=kc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Qc(f),t}function Vp(t){return t?(t=Or,t):Or}function Ip(t,n,a,l,c,f){c=Vp(c),l.context===null?l.context=c:l.pendingContext=c,l=qi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ki(t,l,n),a!==null&&(un(a,t,n),Js(a,t,n))}function Op(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function uf(t,n){Op(t,n),(t=t.alternate)&&Op(t,n)}function Np(t){if(t.tag===13){var n=Ir(t,67108864);n!==null&&un(n,t,67108864),uf(t,67108864)}}var fo=!0;function sE(t,n,a,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,of(t,n,a,l)}finally{tt.p=f,H.T=c}}function lE(t,n,a,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,of(t,n,a,l)}finally{tt.p=f,H.T=c}}function of(t,n,a,l){if(fo){var c=cf(l);if(c===null)Xh(t,n,l,mo,a),xp(t,l);else if(oE(c,t,n,a,l))l.stopPropagation();else if(xp(t,l),n&4&&-1<uE.indexOf(t)){for(;c!==null;){var f=xn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Rn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Be(y);E.entanglements[1]|=b,y&=~b}Kn(f),(Ht&6)===0&&(Zu=cn()+500,gl(0))}}break;case 13:E=Ir(f,2),E!==null&&un(E,f,2),Ju(),uf(f,2)}if(f=cf(l),f===null&&Xh(t,n,l,mo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else Xh(t,n,l,null,a)}}function cf(t){return t=dn(t),hf(t)}var mo=null;function hf(t){if(mo=null,t=ii(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return mo=t,null}function Mp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dc()){case Es:return 2;case or:return 8;case Aa:case mc:return 32;case cr:return 268435456;default:return 32}default:return 32}}var ff=!1,ta=null,ea=null,na=null,Sl=new Map,bl=new Map,ia=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xp(t,n){switch(t){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":Sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(n.pointerId)}}function Rl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=xn(n),n!==null&&Np(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function oE(t,n,a,l,c){switch(n){case"focusin":return ta=Rl(ta,t,n,a,l,c),!0;case"dragenter":return ea=Rl(ea,t,n,a,l,c),!0;case"mouseover":return na=Rl(na,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Sl.set(f,Rl(Sl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,bl.set(f,Rl(bl.get(f)||null,t,n,a,l,c)),!0}return!1}function Up(t){var n=ii(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Jl(t.priority,function(){if(a.tag===13){var l=ln();l=Oi(l);var c=Ir(a,l);c!==null&&un(c,a,l),uf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function go(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=cf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);li=l,a.target.dispatchEvent(l),li=null}else return n=xn(a),n!==null&&Np(n),t.blockedOn=a,!1;n.shift()}return!0}function zp(t,n,a){go(t)&&a.delete(n)}function cE(){ff=!1,ta!==null&&go(ta)&&(ta=null),ea!==null&&go(ea)&&(ea=null),na!==null&&go(na)&&(na=null),Sl.forEach(zp),bl.forEach(zp)}function po(t,n){t.blockedOn===n&&(t.blockedOn=null,ff||(ff=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,cE)))}var yo=null;function Lp(t){yo!==t&&(yo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yo===t&&(yo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(hf(l||a)===null)continue;break}var f=xn(a);f!==null&&(t.splice(n,3),n-=3,ch(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function wl(t){function n(b){return po(b,t)}ta!==null&&po(ta,t),ea!==null&&po(ea,t),na!==null&&po(na,t),Sl.forEach(n),bl.forEach(n);for(var a=0;a<ia.length;a++){var l=ia[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ia.length&&(a=ia[0],a.blockedOn===null);)Up(a),a.blockedOn===null&&ia.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[ce]||null;if(typeof f=="function")y||Lp(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ce]||null)E=y.formAction;else if(hf(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Lp(a)}}}function df(t){this._internalRoot=t}_o.prototype.render=df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=ln();Ip(a,l,t,n,null,null)},_o.prototype.unmount=df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ip(t.current,2,null,t,null,null),Ju(),n[hn]=null}};function _o(t){this._internalRoot=t}_o.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ni();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ia.length&&n!==0&&n<ia[a].priority;a++);ia.splice(a,0,t),a===0&&Up(t)}};var Pp=e.version;if(Pp!=="19.1.0")throw Error(r(527,Pp,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var hE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{ie=vo.inject(hE),kt=vo}catch{}}return Dl.createRoot=function(t,n){if(!u(t))throw Error(r(299));var a=!1,l="",c=tg,f=eg,y=ng,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Dp(t,1,!1,null,null,a,l,c,f,y,E,null),t[hn]=n.current,Kh(t),new df(n)},Dl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(r(299));var l=!1,c="",f=tg,y=eg,E=ng,b=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=Dp(t,1,!0,n,a??null,l,c,f,y,E,b,P),n.context=Vp(null),a=n.current,l=ln(),l=Oi(l),c=qi(l),c.callback=null,ki(a,c,l),a=l,n.current.lanes=a,ni(n,a),Kn(n),t[hn]=n.current,Kh(t),new _o(n)},Dl.version="19.1.0",Dl}var Kp;function TE(){if(Kp)return pf.exports;Kp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),pf.exports=EE(),pf.exports}var AE=TE();const SE=()=>{};var Xp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},bE=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const u=s[i++];if(u<128)e[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},s_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,O=(h&3)<<4|p>>4;let I=(p&15)<<2|_>>6,G=_&63;v||(G=64,d||(I=64)),r.push(i[A],i[O],i[I],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(r_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):bE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const O=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||_==null||O==null)throw new RE;const I=h<<2|p>>4;if(r.push(I),_!==64){const G=p<<4&240|_>>2;if(r.push(G),O!==64){const Z=_<<6&192|O;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class RE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wE=function(s){const e=r_(s);return s_.encodeByteArray(e,!0)},Mo=function(s){return wE(s).replace(/\./g,"")},CE=function(s){try{return s_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=()=>DE().__FIREBASE_DEFAULTS__,IE=()=>{if(typeof process>"u"||typeof Xp>"u")return;const s=Xp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},OE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&CE(s[1]);return e&&JSON.parse(e)},Zf=()=>{try{return SE()||VE()||IE()||OE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},NE=s=>{var e,i;return(i=(e=Zf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},ME=s=>{const e=NE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},l_=()=>{var s;return(s=Zf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(s){return s.endsWith(".cloudworkstations.dev")}async function UE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Mo(JSON.stringify(i)),Mo(JSON.stringify(d)),""].join(".")}const Nl={};function LE(){const s={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?s.emulator.push(e):s.prod.push(e);return s}function PE(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Zp=!1;function u_(s,e){if(typeof window>"u"||typeof document>"u"||!$f(window.location.host)||Nl[s]===e||Nl[s]||Zp)return;Nl[s]=e;function i(I){return`__firebase__banner__${I}`}const r="__firebase__banner",h=LE().prod.length>0;function d(){const I=document.getElementById(r);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,G){I.setAttribute("width","24"),I.setAttribute("id",G),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Zp=!0,d()},I}function A(I,G){I.setAttribute("id",G),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function O(){const I=PE(r),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),St=i("preprendIcon"),gt=document.getElementById(St)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ft=I.element;p(ft),A(J,nt);const xt=_();v(gt,St),ft.append(gt,Z,J,xt),document.body.appendChild(ft)}h?(Z.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qE(){var s;const e=(s=Zf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kE(){return!qE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HE(){try{return typeof indexedDB=="object"}catch{return!1}}function jE(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="FirebaseError";class ms extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=GE,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o_.prototype.create)}}class o_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?QE(h,r):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new ms(u,p,r)}}function QE(s,e){return s.replace(YE,(i,r)=>{const u=e[r];return u!=null?String(u):`<${r}?>`})}const YE=/\{\$([^}]+)}/g;function xo(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const u of i){if(!r.includes(u))return!1;const h=s[u],d=e[u];if($p(h)&&$p(d)){if(!xo(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function $p(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(s){return s&&s._delegate?s._delegate:s}class Ll{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new xE;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XE(e))try{this.getOrInitializeService({instanceIdentifier:nr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(e=nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nr){return this.instances.has(e)}getOptions(e=nr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(u)}return u}onInit(e,i){var r;const u=this.normalizeInstanceIdentifier(i),h=(r=this.onInitCallbacks.get(u))!==null&&r!==void 0?r:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KE(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=nr){return this.component?this.component.multipleInstances?e:nr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KE(s){return s===nr?void 0:s}function XE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new FE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const $E={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},JE=Mt.INFO,WE={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},tT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),u=WE[e];if(u)console[u](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=JE,this._logHandler=tT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$E[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const eT=(s,e)=>e.some(i=>s instanceof i);let Jp,Wp;function nT(){return Jp||(Jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iT(){return Wp||(Wp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h_=new WeakMap,Df=new WeakMap,f_=new WeakMap,Ef=new WeakMap,Jf=new WeakMap;function aT(s){const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(sa(s.result)),u()},d=()=>{r(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&h_.set(i,s)}).catch(()=>{}),Jf.set(e,s),e}function rT(s){if(Df.has(s))return;const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Df.set(s,e)}let Vf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Df.get(s);if(e==="objectStoreNames")return s.objectStoreNames||f_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sa(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function sT(s){Vf=s(Vf)}function lT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Tf(this),e,...i);return f_.set(r,e.sort?e.sort():[e]),sa(r)}:iT().includes(s)?function(...e){return s.apply(Tf(this),e),sa(h_.get(this))}:function(...e){return sa(s.apply(Tf(this),e))}}function uT(s){return typeof s=="function"?lT(s):(s instanceof IDBTransaction&&rT(s),eT(s,nT())?new Proxy(s,Vf):s)}function sa(s){if(s instanceof IDBRequest)return aT(s);if(Ef.has(s))return Ef.get(s);const e=uT(s);return e!==s&&(Ef.set(s,e),Jf.set(e,s)),e}const Tf=s=>Jf.get(s);function oT(s,e,{blocked:i,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=sa(d);return r&&d.addEventListener("upgradeneeded",v=>{r(sa(d.result),v.oldVersion,v.newVersion,sa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const cT=["get","getKey","getAll","getAllKeys","count"],hT=["put","add","delete","clear"],Af=new Map;function ty(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Af.get(e))return Af.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,u=hT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||cT.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),u&&v.done]))[0]};return Af.set(e,h),h}sT(s=>({...s,get:(e,i,r)=>ty(e,i)||s.get(e,i,r),has:(e,i)=>!!ty(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(dT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function dT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const If="@firebase/app",ey="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new c_("@firebase/app"),mT="@firebase/app-compat",gT="@firebase/analytics-compat",pT="@firebase/analytics",yT="@firebase/app-check-compat",_T="@firebase/app-check",vT="@firebase/auth",ET="@firebase/auth-compat",TT="@firebase/database",AT="@firebase/data-connect",ST="@firebase/database-compat",bT="@firebase/functions",RT="@firebase/functions-compat",wT="@firebase/installations",CT="@firebase/installations-compat",DT="@firebase/messaging",VT="@firebase/messaging-compat",IT="@firebase/performance",OT="@firebase/performance-compat",NT="@firebase/remote-config",MT="@firebase/remote-config-compat",xT="@firebase/storage",UT="@firebase/storage-compat",zT="@firebase/firestore",LT="@firebase/vertexai",PT="@firebase/firestore-compat",BT="firebase",qT="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="[DEFAULT]",kT={[If]:"fire-core",[mT]:"fire-core-compat",[pT]:"fire-analytics",[gT]:"fire-analytics-compat",[_T]:"fire-app-check",[yT]:"fire-app-check-compat",[vT]:"fire-auth",[ET]:"fire-auth-compat",[TT]:"fire-rtdb",[AT]:"fire-data-connect",[ST]:"fire-rtdb-compat",[bT]:"fire-fn",[RT]:"fire-fn-compat",[wT]:"fire-iid",[CT]:"fire-iid-compat",[DT]:"fire-fcm",[VT]:"fire-fcm-compat",[IT]:"fire-perf",[OT]:"fire-perf-compat",[NT]:"fire-rc",[MT]:"fire-rc-compat",[xT]:"fire-gcs",[UT]:"fire-gcs-compat",[zT]:"fire-fst",[PT]:"fire-fst-compat",[LT]:"fire-vertex","fire-js":"fire-js",[BT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Map,HT=new Map,Nf=new Map;function ny(s,e){try{s.container.addComponent(e)}catch(i){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function zo(s){const e=s.name;if(Nf.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Nf.set(e,s);for(const i of Uo.values())ny(i,s);for(const i of HT.values())ny(i,s);return!0}function jT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function GT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new o_("app","Firebase",QT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=qT;function d_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Of,automaticDataCollectionEnabled:!1},e),u=r.name;if(typeof u!="string"||!u)throw la.create("bad-app-name",{appName:String(u)});if(i||(i=l_()),!i)throw la.create("no-options");const h=Uo.get(u);if(h){if(xo(i,h.options)&&xo(r,h.config))return h;throw la.create("duplicate-app",{appName:u})}const d=new ZE(u);for(const v of Nf.values())d.addComponent(v);const p=new YT(i,r,d);return Uo.set(u,p),p}function KT(s=Of){const e=Uo.get(s);if(!e&&s===Of&&l_())return d_();if(!e)throw la.create("no-app",{appName:s});return e}function rs(s,e,i){var r;let u=(r=kT[s])!==null&&r!==void 0?r:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${u}" with version "${e}":`];h&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(p.join(" "));return}zo(new Ll(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebase-heartbeat-database",ZT=1,Pl="firebase-heartbeat-store";let Sf=null;function m_(){return Sf||(Sf=oT(XT,ZT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(s=>{throw la.create("idb-open",{originalErrorMessage:s.message})})),Sf}async function $T(s){try{const i=(await m_()).transaction(Pl),r=await i.objectStore(Pl).get(g_(s));return await i.done,r}catch(e){if(e instanceof ms)Ci.warn(e.message);else{const i=la.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(i.message)}}}async function iy(s,e){try{const r=(await m_()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,g_(s)),await r.done}catch(i){if(i instanceof ms)Ci.warn(i.message);else{const r=la.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ci.warn(r.message)}}}function g_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=1024,WT=30;class t1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new n1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=ay();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>WT){const d=i1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ay(),{heartbeatsToSend:r,unsentEntries:u}=e1(this._heartbeatsCache.heartbeats),h=Mo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ci.warn(i),""}}}function ay(){return new Date().toISOString().substring(0,10)}function e1(s,e=JT){const i=[];let r=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),ry(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),ry(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class n1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HE()?jE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $T(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return iy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return iy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function ry(s){return Mo(JSON.stringify({version:2,heartbeats:s})).length}function i1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(s){zo(new Ll("platform-logger",e=>new fT(e),"PRIVATE")),zo(new Ll("heartbeat",e=>new t1(e),"PRIVATE")),rs(If,ey,s),rs(If,ey,"esm2017"),rs("fire-js","")}a1("");var sy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ua,p_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(V,M,U){for(var R=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)R[Ie-2]=arguments[Ie];return S.prototype[M].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)V[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)V[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],M=N.g[2];var U=N.g[3],R=S+(U^w&(M^U))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+V[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+V[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+V[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+V[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+V[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+V[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+V[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+V[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(M^U&(w^M))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+V[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+V[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+V[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+V[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+V[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+V[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+V[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+V[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(w^M^U)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+V[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+V[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+V[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+V[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+V[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+V[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+V[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+V[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(M^(w|~U))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+V[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+V[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+V[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+V[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+V[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+V[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+V[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,V=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=w;)u(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(V[M++]=N.charCodeAt(U++),M==this.blockSize){u(this,V),M=0;break}}else for(;U<S;)if(V[M++]=N[U++],M==this.blockSize){u(this,V),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)N[w++]=this.g[S]>>>V&255;return N};function h(N,S){var w=p;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;for(var w=[],V=!0,M=N.length-1;0<=M;M--){var U=N[M]|0;V&&U==S||(w[M]=U,V=!1)}this.g=w}var p={};function v(N){return-128<=N&&128>N?h(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return O;if(0>N)return J(_(-N));for(var S=[],w=1,V=0;N>=w;V++)S[V]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return J(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),V=O,M=0;M<N.length;M+=8){var U=Math.min(8,N.length-M),R=parseInt(N.substring(M,M+U),S);8>U?(U=_(Math.pow(S,U)),V=V.j(U).add(_(R))):(V=V.j(w),V=V.add(_(R)))}return V}var O=v(0),I=v(1),G=v(16777216);s=d.prototype,s.m=function(){if(nt(this))return-J(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);N+=(0<=V?V:4294967296+V)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(nt(this))return"-"+J(this).toString(N);for(var S=_(Math.pow(N,6)),w=this,V="";;){var M=xt(w,S).g;w=St(w,M.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=M,Z(w))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function nt(N){return N.h==-1}s.l=function(N){return N=St(this,N),nt(N)?-1:Z(N)?0:1};function J(N){for(var S=N.g.length,w=[],V=0;V<S;V++)w[V]=~N.g[V];return new d(w,~N.h).add(I)}s.abs=function(){return nt(this)?J(this):this},s.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0,M=0;M<=S;M++){var U=V+(this.i(M)&65535)+(N.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);V=R>>>16,U&=65535,R&=65535,w[M]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function St(N,S){return N.add(J(S))}s.j=function(N){if(Z(this)||Z(N))return O;if(nt(this))return nt(N)?J(this).j(J(N)):J(J(this).j(N));if(nt(N))return J(this.j(J(N)));if(0>this.l(G)&&0>N.l(G))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<N.g.length;M++){var U=this.i(V)>>>16,R=this.i(V)&65535,Ie=N.i(M)>>>16,ne=N.i(M)&65535;w[2*V+2*M]+=R*ne,gt(w,2*V+2*M),w[2*V+2*M+1]+=U*ne,gt(w,2*V+2*M+1),w[2*V+2*M+1]+=R*Ie,gt(w,2*V+2*M+1),w[2*V+2*M+2]+=U*Ie,gt(w,2*V+2*M+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new d(w,0)};function gt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ft(N,S){this.g=N,this.h=S}function xt(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new ft(O,O);if(nt(N))return S=xt(J(N),S),new ft(J(S.g),J(S.h));if(nt(S))return S=xt(N,J(S)),new ft(J(S.g),S.h);if(30<N.g.length){if(nt(N)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=I,V=S;0>=V.l(N);)w=vt(w),V=vt(V);var M=zt(w,1),U=zt(V,1);for(V=zt(V,2),w=zt(w,2);!Z(V);){var R=U.add(V);0>=R.l(N)&&(M=M.add(w),U=R),V=zt(V,1),w=zt(w,1)}return S=St(N,M.j(S)),new ft(M,S)}for(M=O;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=_(w),R=U.j(S);nt(R)||0<R.l(N);)w-=V,U=_(w),R=U.j(S);Z(U)&&(U=I),M=M.add(U),N=St(N,R)}return new ft(M,N)}s.A=function(N){return xt(this,N).h},s.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&N.i(V);return new d(w,this.h&N.h)},s.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|N.i(V);return new d(w,this.h|N.h)},s.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^N.i(V);return new d(w,this.h^N.h)};function vt(N){for(var S=N.g.length+1,w=[],V=0;V<S;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(w,N.h)}function zt(N,S){var w=S>>5;S%=32;for(var V=N.g.length-w,M=[],U=0;U<V;U++)M[U]=0<S?N.i(U+w)>>>S|N.i(U+w+1)<<32-S:N.i(U+w);return new d(M,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,p_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,ua=d}).apply(typeof sy<"u"?sy:typeof self<"u"?self:typeof window<"u"?window:{});var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y_,Vl,__,Co,Mf,v_,E_,T_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eo=="object"&&Eo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=i(this);function u(o,m){if(m)t:{var g=r;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in g))break t;g=g[z]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,z={next:function(){if(!T&&g<o.length){var k=g++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,g){return o.call.apply(o.bind,arguments)}function O(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function I(o,m,g){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:O,I.apply(null,arguments)}function G(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,z,k){for(var W=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)W[Vt-2]=arguments[Vt];return m.prototype[z].apply(T,W)}}function nt(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function J(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const z=o.length||0,k=T.length||0;o.length=z+k;for(let W=0;W<k;W++)o[z+W]=T[W]}else o.push(T)}}class St{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(o){return/^[\s\xa0]*$/.test(o)}function ft(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function xt(o){return xt[" "](o),o}xt[" "]=function(){};var vt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function zt(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function N(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function S(o){const m={};for(const g in o)m[g]=o[g];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(o,m){let g,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(g in T)o[g]=T[g];for(let k=0;k<w.length;k++)g=w[k],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function M(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function U(o){p.setTimeout(()=>{throw o},0)}function R(){var o=Lt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Ie{constructor(){this.h=this.g=null}add(m,g){const T=ne.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new St(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,st=!1,Lt=new Ie,C=()=>{const o=p.Promise.resolve(void 0);tt=()=>{o.then(K)}};var K=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(g){U(g)}var m=ne;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}st=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function bt(o,m){if($.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(vt){t:{try{xt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:pt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}Z(bt,$);var pt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function Nn(o,m,g,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=z,this.key=++Xt,this.da=this.fa=!1}function Ii(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ti(o){this.src=o,this.g={},this.h=0}ti.prototype.add=function(o,m,g,T,z){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var W=Ea(o,m,T,z);return-1<W?(m=o[W],g||(m.fa=!1)):(m=new Nn(m,this.src,k,!!T,z),m.fa=g,o.push(m)),m};function va(o,m){var g=m.type;if(g in o.g){var T=o.g[g],z=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=z)&&Array.prototype.splice.call(T,z,1),k&&(Ii(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function Ea(o,m,g,T){for(var z=0;z<o.length;++z){var k=o[z];if(!k.da&&k.listener==m&&k.capture==!!g&&k.ha==T)return z}return-1}var Ta="closure_lm_"+(1e6*Math.random()|0),vs={};function Xl(o,m,g,T,z){if(Array.isArray(m)){for(var k=0;k<m.length;k++)Xl(o,m[k],g,T,z);return null}return g=Zl(g),o&&o[Se]?o.K(m,g,_(T)?!!T.capture:!1,z):cn(o,m,g,!1,T,z)}function cn(o,m,g,T,z,k){if(!m)throw Error("Invalid event type");var W=_(z)?!!z.capture:!!z,Vt=cr(o);if(Vt||(o[Ta]=Vt=new ti(o)),g=Vt.add(m,g,T,W,k),g.proxy)return g;if(T=dc(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ut||(z=W),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(Aa(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function dc(){function o(g){return m.call(o.src,o.listener,g)}const m=mc;return o}function Es(o,m,g,T,z){if(Array.isArray(m))for(var k=0;k<m.length;k++)Es(o,m[k],g,T,z);else T=_(T)?!!T.capture:!!T,g=Zl(g),o&&o[Se]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],g=Ea(k,g,T,z),-1<g&&(Ii(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=cr(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Ea(m,g,T,z)),(g=-1<o?m[o]:null)&&or(g))}function or(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Se])va(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(Aa(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=cr(m))?(va(g,o),g.h==0&&(g.src=null,m[Ta]=null)):Ii(o)}}}function Aa(o){return o in vs?vs[o]:vs[o]="on"+o}function mc(o,m){if(o.da)o=!0;else{m=new bt(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&or(o),o=g.call(T,m)}return o}function cr(o){return o=o[Ta],o instanceof ti?o:null}var Ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zl(o){return typeof o=="function"?o:(o[Ts]||(o[Ts]=function(m){return o.handleEvent(m)}),o[Ts])}function ie(){et.call(this),this.i=new ti(this),this.M=this,this.F=null}Z(ie,et),ie.prototype[Se]=!0,ie.prototype.removeEventListener=function(o,m,g,T){Es(this,o,m,g,T)};function kt(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new $(m,o);else if(m instanceof $)m.target=m.target||o;else{var z=m;m=new $(T,o),V(m,z)}if(z=!0,g)for(var k=g.length-1;0<=k;k--){var W=m.g=g[k];z=We(W,T,!0,m)&&z}if(W=m.g=o,z=We(W,T,!0,m)&&z,z=We(W,T,!1,m)&&z,g)for(k=0;k<g.length;k++)W=m.g=g[k],z=We(W,T,!1,m)&&z}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)Ii(g[T]);delete o.g[m],o.h--}}this.F=null},ie.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},ie.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function We(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,k=0;k<m.length;++k){var W=m[k];if(W&&!W.da&&W.capture==g){var Vt=W.listener,pe=W.ha||W.src;W.fa&&va(o.i,W),z=Vt.call(pe,T)!==!1&&z}}return z&&!T.defaultPrevented}function Be(o,m,g){if(typeof o=="function")g&&(o=I(o,g));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function $l(o){o.g=Be(()=>{o.g=null,o.i&&(o.i=!1,$l(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class gc extends et{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sa(o){et.call(this),this.h=o,this.g={}}Z(Sa,et);var ba=[];function Ra(o){zt(o.g,function(m,g){this.g.hasOwnProperty(g)&&or(m)},o),o.g={}}Sa.prototype.N=function(){Sa.aa.N.call(this),Ra(this)},Sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=p.JSON.stringify,hr=p.JSON.parse,wa=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function As(){}As.prototype.h=null;function Ss(o){return o.h||(o.h=o.i())}function bs(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){$.call(this,"d")}Z(ni,$);function Rs(){$.call(this,"c")}Z(Rs,$);var Mn={},ws=null;function Oi(){return ws=ws||new ie}Mn.La="serverreachability";function fr(o){$.call(this,Mn.La,o)}Z(fr,$);function Ni(o){const m=Oi();kt(m,new fr(m))}Mn.STAT_EVENT="statevent";function Jl(o,m){$.call(this,Mn.STAT_EVENT,o),this.stat=m}Z(Jl,$);function $t(o){const m=Oi();kt(m,new Jl(m,o))}Mn.Ma="timingevent";function ge(o,m){$.call(this,Mn.Ma,o),this.size=m}Z(ge,$);function ce(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Cs(o,m,g,T,z,k){o.info(function(){if(o.g)if(k)for(var W="",Vt=k.split("&"),pe=0;pe<Vt.length;pe++){var It=Vt[pe].split("=");if(1<It.length){var Re=It[0];It=It[1];var ye=Re.split("_");W=2<=ye.length&&ye[1]=="type"?W+(Re+"="+It+"&"):W+(Re+"=redacted&")}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+g+`
`+W})}function pc(o,m,g,T,z,k,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+g+`
`+k+" "+W})}function Mi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ca(o,g)+(T?" "+T:"")})}function Wl(o,m){o.info(function(){return"TIMEOUT: "+m})}hn.prototype.info=function(){};function Ca(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var k=z[0];if(k!="noop"&&k!="stop"&&k!="close")for(var W=1;W<z.length;W++)z[W]=""}}}}return Rn(g)}catch{return m}}var xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xn;function Un(){}Z(Un,As),Un.prototype.g=function(){return new XMLHttpRequest},Un.prototype.i=function(){return{}},xn=new Un;function Qe(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Sa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new se}function se(){this.i=null,this.g="",this.h=!1}var Ds={},dr={};function wn(o,m,g){o.L=1,o.v=Na(tn(m)),o.m=g,o.P=!0,ai(o,null)}function ai(o,m){o.F=Date.now(),Da(o),o.A=tn(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),xs(g.i,"t",T),o.C=0,g=o.j.J,o.h=new se,o.g=gu(o.j,g?m:null,!o.m),0<o.O&&(o.M=new gc(I(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(ba[0]=z.toString()),z=ba);for(var k=0;k<z.length;k++){var W=Xl(g,z[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Ni(),Cs(o.i,o.u,o.A,o.l,o.R,o.m)}Qe.prototype.ca=function(o){o=o.target;const m=this.M;m&&gn(o)==3?m.j():this.Y(o)},Qe.prototype.Y=function(o){try{if(o==this.g)t:{const ye=gn(this.g);var m=this.g.Ba();const fi=this.g.Z();if(!(3>ye)&&(ye!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||ye!=4||m==7||(m==8||0>=fi?Ni(3):Ni(2)),Ui(this);var g=this.g.Z();this.X=g;e:if(tu(this)){var T=lu(this.g);o="";var z=T.length,k=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),zn(this);var W="";break e}this.h.i=new p.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==z-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,pc(this.i,this.u,this.A,this.l,this.R,ye,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,pe=this.g;if((Vt=pe.g?pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(Vt)){var It=Vt;break e}}It=null}if(g=It)Mi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Va(this,g);else{this.o=!1,this.s=3,$t(12),Oe(this),zn(this);break t}}if(this.P){g=!0;let Ne;for(;!this.J&&this.C<W.length;)if(Ne=eu(this,W),Ne==dr){ye==4&&(this.s=4,$t(14),g=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ne==Ds){this.s=4,$t(15),Mi(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else Mi(this.i,this.l,Ne,null),Va(this,Ne);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ye!=4||W.length!=0||this.h.h||(this.s=1,$t(16),g=!1),this.o=this.o&&g,!g)Mi(this.i,this.l,W,"[Invalid Chunked Response]"),Oe(this),zn(this);else if(0<W.length&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.ba&&!Re.M&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),qa(Re),Re.M=!0,$t(11))}}else Mi(this.i,this.l,W,null),Va(this,W);ye==4&&Oe(this),this.o&&!this.J&&(ye==4?fu(this.j,this):(this.o=!1,Da(this)))}else Tc(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Oe(this),zn(this)}}}catch{}finally{}};function tu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function eu(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?dr:(g=Number(m.substring(g,T)),isNaN(g)?Ds:(T+=1,T+g>m.length?dr:(m=m.slice(T,T+g),o.C=T+g,m)))}Qe.prototype.cancel=function(){this.J=!0,Oe(this)};function Da(o){o.S=Date.now()+o.I,nu(o,o.I)}function nu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ce(I(o.ba,o),m)}function Ui(o){o.B&&(p.clearTimeout(o.B),o.B=null)}Qe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Wl(this.i,this.A),this.L!=2&&(Ni(),$t(17)),Oe(this),this.s=2,zn(this)):nu(this,this.S-o)};function zn(o){o.j.G==0||o.J||fu(o.j,o)}function Oe(o){Ui(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Ra(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Va(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Vs(g.h,o))){if(!o.K&&Vs(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Rr(g),Sr(g);else break t;Bs(g),$t(18)}}else g.za=z[1],0<g.za-g.T&&37500>z[2]&&g.F&&g.v==0&&!g.C&&(g.C=ce(I(g.Za,g),6e3));if(1>=gr(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else hi(g,11)}else if((o.K||g.g==o)&&Rr(g),!gt(m))for(z=g.Da.g.parse(m),m=0;m<z.length;m++){let It=z[m];if(g.T=It[0],It=It[1],g.G==2)if(It[0]=="c"){g.K=It[1],g.ia=It[2];const Re=It[3];Re!=null&&(g.la=Re,g.j.info("VER="+g.la));const ye=It[4];ye!=null&&(g.Aa=ye,g.j.info("SVER="+g.Aa));const fi=It[5];fi!=null&&typeof fi=="number"&&0<fi&&(T=1.5*fi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ne=o.g;if(Ne){const jn=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jn){var k=T.h;k.g||jn.indexOf("spdy")==-1&&jn.indexOf("quic")==-1&&jn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(pr(k,k.h),k.h=null))}if(T.D){const ks=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;ks&&(T.ya=ks,Gt(T.I,T.D,ks))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var W=o;if(T.qa=mu(T,T.J?T.ia:null,T.W),W.K){Ye(T.h,W);var Vt=W,pe=T.L;pe&&(Vt.I=pe),Vt.B&&(Ui(Vt),Da(Vt)),T.g=W}else cu(T);0<g.i.length&&br(g)}else It[0]!="stop"&&It[0]!="close"||hi(g,7);else g.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?hi(g,7):Ls(g):It[0]!="noop"&&g.l&&g.l.ta(It),g.v=0)}}Ni(4)}catch{}}var iu=class{constructor(o,m){this.g=o,this.map=m}};function ri(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function gr(o){return o.h?1:o.g?o.g.size:0}function Vs(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function pr(o,m){o.g?o.g.add(m):o.h=m}function Ye(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}ri.prototype.cancel=function(){if(this.i=Is(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Is(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return nt(o.i)}function yc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function yr(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function Os(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=yr(o),T=yc(o),z=T.length,k=0;k<z;k++)m.call(void 0,T[k],g&&g[k],o)}var Ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _c(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),z=null;if(0<=T){var k=o[g].substring(0,T);z=o[g].substring(T+1)}else k=o[g];m(k,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function he(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof he){this.h=o.h,Oa(this,o.j),this.o=o.o,this.g=o.g,zi(this,o.s),this.l=o.l;var m=o.i,g=new li;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),si(this,g),this.m=o.m}else o&&(m=String(o).match(Ia))?(this.h=!1,Oa(this,m[1]||"",!0),this.o=fn(m[2]||""),this.g=fn(m[3]||"",!0),zi(this,m[4]),this.l=fn(m[5]||"",!0),si(this,m[6]||"",!0),this.m=fn(m[7]||"")):(this.h=!1,this.i=new li(null,this.h))}he.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Ma(m,Ns,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ma(m,Ns,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Ma(g,g.charAt(0)=="/"?vc:Ms,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Ma(g,_r)),o.join("")};function tn(o){return new he(o)}function Oa(o,m,g){o.j=g?fn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function zi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function si(o,m,g){m instanceof li?(o.i=m,ru(o.i,o.h)):(g||(m=Ma(m,Ec)),o.i=new li(m,o.h))}function Gt(o,m,g){o.i.set(m,g)}function Na(o){return Gt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function fn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ma(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,au),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function au(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ns=/[#\/\?@]/g,Ms=/[#\?:]/g,vc=/[#\?]/g,Ec=/[#\?@]/g,_r=/#/g;function li(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function dn(o){o.g||(o.g=new Map,o.h=0,o.i&&_c(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=li.prototype,s.add=function(o,m){dn(this),this.i=null,o=Ln(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function ui(o,m){dn(o),m=Ln(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function oi(o,m){return dn(o),m=Ln(o,m),o.g.has(m)}s.forEach=function(o,m){dn(this),this.g.forEach(function(g,T){g.forEach(function(z){o.call(m,z,T,this)},this)},this)},s.na=function(){dn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const z=o[T];for(let k=0;k<z.length;k++)g.push(m[T])}return g},s.V=function(o){dn(this);let m=[];if(typeof o=="string")oi(this,o)&&(m=m.concat(this.g.get(Ln(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return dn(this),this.i=null,o=Ln(this,o),oi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function xs(o,m,g){ui(o,m),0<g.length&&(o.i=null,o.g.set(Ln(o,m),nt(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const k=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var z=k;W[T]!==""&&(z+="="+encodeURIComponent(String(W[T]))),o.push(z)}}return this.i=o.join("&")};function Ln(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ru(o,m){m&&!o.j&&(dn(o),o.i=null,o.g.forEach(function(g,T){var z=T.toLowerCase();T!=z&&(ui(this,T),xs(this,z,g))},o)),o.j=m}function xa(o,m){const g=new hn;if(p.Image){const T=new Image;T.onload=G(mn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=G(mn,g,"TestLoadImage: error",!1,m,T),T.onabort=G(mn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(mn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Cn(o,m){const g=new hn,T=new AbortController,z=setTimeout(()=>{T.abort(),mn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(z),k.ok?mn(g,"TestPingServer: ok",!0,m):mn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),mn(g,"TestPingServer: error",!1,m)})}function mn(o,m,g,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(g)}catch{}}function Ua(){this.g=new wa}function Pn(o,m,g){const T=g||"";try{Os(o,function(z,k){let W=z;_(z)&&(W=Rn(z)),m.push(T+k+"="+encodeURIComponent(W))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function Li(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(Li,As),Li.prototype.g=function(){return new ci(this.l,this.j)},Li.prototype.i=function(o){return function(){return o}}({});function ci(o,m){ie.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(ci,ie),s=ci.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,qn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Us(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Us(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Bn(this):qn(this),this.readyState==3&&Us(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Bn(this))},s.Qa=function(o){this.g&&(this.response=o,Bn(this))},s.ga=function(){this.g&&Bn(this)};function Bn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,qn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function qn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function zs(o){let m="";return zt(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function be(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=zs(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Gt(o,m,g))}function Bt(o){ie.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Bt,ie);var vr=/^https?$/i,za=["POST","PUT"];s=Bt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xn.g(),this.v=this.o?Ss(this.o):Ss(xn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){su(this,k);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)g.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),z=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(za,m,void 0))||T||z||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of g)this.g.setRequestHeader(k,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{La(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){su(this,k)}};function su(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Er(o),kn(o)}function Er(o){o.A||(o.A=!0,kt(o,"complete"),kt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,kt(this,"complete"),kt(this,"abort"),kn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kn(this,!0)),Bt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Tr(this):this.bb())},s.bb=function(){Tr(this)};function Tr(o){if(o.h&&typeof d<"u"&&(!o.v[1]||gn(o)!=4||o.Z()!=2)){if(o.u&&gn(o)==4)Be(o.Ea,0,o);else if(kt(o,"readystatechange"),gn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=W===0){var z=String(o.D).match(Ia)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),T=!vr.test(z?z.toLowerCase():"")}g=T}if(g)kt(o,"complete"),kt(o,"success");else{o.m=6;try{var k=2<gn(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Er(o)}}finally{kn(o)}}}}function kn(o,m){if(o.g){La(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||kt(o,"ready");try{g.onreadystatechange=T}catch{}}}function La(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function gn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),hr(m)}};function lu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Tc(o){const m={};o=(o.g&&2<=gn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(gt(o[T]))continue;var g=M(o[T]);const z=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=m[z]||[];m[z]=k,k.push(g)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Ar(o){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pa("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pa("baseRetryDelayMs",5e3,o),this.cb=Pa("retryDelaySeedMs",1e4,o),this.Wa=Pa("forwardChannelMaxRetries",2,o),this.wa=Pa("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(o&&o.concurrentRequestLimit),this.Da=new Ua,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ar.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){$t(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=mu(this,null,this.W),br(this)};function Ls(o){if(uu(o),o.G==3){var m=o.U++,g=tn(o.I);if(Gt(g,"SID",o.K),Gt(g,"RID",m),Gt(g,"TYPE","terminate"),Ba(o,g),m=new Qe(o,o.j,m),m.L=2,m.v=Na(tn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=gu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Da(m)}du(o)}function Sr(o){o.g&&(qa(o),o.g.cancel(),o.g=null)}function uu(o){Sr(o),o.u&&(p.clearTimeout(o.u),o.u=null),Rr(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function br(o){if(!mr(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||C(),st||(tt(),st=!0),Lt.add(m,o),o.B=0}}function Ac(o,m){return gr(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ce(I(o.Ga,o,m),qs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new Qe(this,this.j,o);let k=this.o;if(this.S&&(k?(k=S(k),V(k,this.S)):k=this.S),this.m!==null||this.O||(z.H=k,k=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=ou(this,z,m),g=tn(this.I),Gt(g,"RID",o),Gt(g,"CVER",22),this.D&&Gt(g,"X-HTTP-Session-Id",this.D),Ba(this,g),k&&(this.O?m="headers="+encodeURIComponent(String(zs(k)))+"&"+m:this.m&&be(g,this.m,k)),pr(this.h,z),this.Ua&&Gt(g,"TYPE","init"),this.P?(Gt(g,"$req",m),Gt(g,"SID","null"),z.T=!0,wn(z,g,null)):wn(z,g,m),this.G=2}}else this.G==3&&(o?Ps(this,o):this.i.length==0||mr(this.h)||Ps(this))};function Ps(o,m){var g;m?g=m.l:g=o.U++;const T=tn(o.I);Gt(T,"SID",o.K),Gt(T,"RID",g),Gt(T,"AID",o.T),Ba(o,T),o.m&&o.o&&be(T,o.m,o.o),g=new Qe(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=ou(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),pr(o.h,g),wn(g,T,m)}function Ba(o,m){o.H&&zt(o.H,function(g,T){Gt(m,T,g)}),o.l&&Os({},function(g,T){Gt(m,T,g)})}function ou(o,m,g){g=Math.min(o.i.length,g);var T=o.l?I(o.l.Na,o.l,o):null;t:{var z=o.i;let k=-1;for(;;){const W=["count="+g];k==-1?0<g?(k=z[0].g,W.push("ofs="+k)):k=0:W.push("ofs="+k);let Vt=!0;for(let pe=0;pe<g;pe++){let It=z[pe].g;const Re=z[pe].map;if(It-=k,0>It)k=Math.max(0,z[pe].g-100),Vt=!1;else try{Pn(Re,W,"req"+It+"_")}catch{T&&T(Re)}}if(Vt){T=W.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function cu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||C(),st||(tt(),st=!0),Lt.add(m,o),o.v=0}}function Bs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ce(I(o.Fa,o),qs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ce(I(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Sr(this),hu(this))};function qa(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function hu(o){o.g=new Qe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=tn(o.qa);Gt(m,"RID","rpc"),Gt(m,"SID",o.K),Gt(m,"AID",o.T),Gt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Gt(m,"TO",o.ja),Gt(m,"TYPE","xmlhttp"),Ba(o,m),o.m&&o.o&&be(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Na(tn(m)),g.m=null,g.P=!0,ai(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Sr(this),Bs(this),$t(19))};function Rr(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function fu(o,m){var g=null;if(o.g==m){Rr(o),qa(o),o.g=null;var T=2}else if(Vs(o.h,m))g=m.D,Ye(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;T=Oi(),kt(T,new ge(T,g)),br(o)}else cu(o);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Ac(o,m)||T==2&&Bs(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),z){case 1:hi(o,5);break;case 4:hi(o,10);break;case 3:hi(o,6);break;default:hi(o,2)}}}function qs(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function hi(o,m){if(o.j.info("Error code "+m),m==2){var g=I(o.fb,o),T=o.Xa;const z=!T;T=new he(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Oa(T,"https"),Na(T),z?xa(T.toString(),g):Cn(T.toString(),g)}else $t(2);o.G=0,o.l&&o.l.sa(m),du(o),uu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function du(o){if(o.G=0,o.ka=[],o.l){const m=Is(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ka,m),J(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function mu(o,m,g){var T=g instanceof he?tn(g):new he(g);if(T.g!="")m&&(T.g=m+"."+T.g),zi(T,T.s);else{var z=p.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var k=new he(null);T&&Oa(k,T),m&&(k.g=m),z&&zi(k,z),g&&(k.l=g),T=k}return g=o.D,m=o.ya,g&&m&&Gt(T,g,m),Gt(T,"VER",o.la),Ba(o,T),T}function gu(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Bt(new Li({eb:g})):new Bt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}s=pu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function wr(){}wr.prototype.g=function(o,m){return new Fe(o,m)};function Fe(o,m){ie.call(this),this.g=new Ar(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!gt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Hn(this)}Z(Fe,ie),Fe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fe.prototype.close=function(){Ls(this.g)},Fe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=Rn(o),o=g);m.i.push(new iu(m.Ya++,o)),m.G==3&&br(m)},Fe.prototype.N=function(){this.g.l=null,delete this.j,Ls(this.g),delete this.g,Fe.aa.N.call(this)};function yu(o){ni.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(yu,ni);function _u(){Rs.call(this),this.status=1}Z(_u,Rs);function Hn(o){this.g=o}Z(Hn,pu),Hn.prototype.ua=function(){kt(this.g,"a")},Hn.prototype.ta=function(o){kt(this.g,new yu(o))},Hn.prototype.sa=function(o){kt(this.g,new _u)},Hn.prototype.ra=function(){kt(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,Fe.prototype.send=Fe.prototype.o,Fe.prototype.open=Fe.prototype.m,Fe.prototype.close=Fe.prototype.close,T_=function(){return new wr},E_=function(){return Oi()},v_=Mn,Mf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,Co=xi,ii.COMPLETE="complete",__=ii,bs.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Vl=bs,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,y_=Bt}).apply(typeof Eo<"u"?Eo:typeof self<"u"?self:typeof window<"u"?window:{});const ly="@firebase/firestore",uy="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gs="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new c_("@firebase/firestore");function es(){return ar.logLevel}function it(s,...e){if(ar.logLevel<=Mt.DEBUG){const i=e.map(Wf);ar.debug(`Firestore (${gs}): ${s}`,...i)}}function Di(s,...e){if(ar.logLevel<=Mt.ERROR){const i=e.map(Wf);ar.error(`Firestore (${gs}): ${s}`,...i)}}function ls(s,...e){if(ar.logLevel<=Mt.WARN){const i=e.map(Wf);ar.warn(`Firestore (${gs}): ${s}`,...i)}}function Wf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,A_(s,r,i)}function A_(s,e,i){let r=`FIRESTORE (${gs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Di(r),new Error(r)}function qt(s,e,i,r){let u="Unexpected state";typeof i=="string"?u=i:r=i,s||A_(e,u,r)}function _t(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ms{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class s1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class l1{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let r=this.i;const u=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new oa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new oa,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new oa)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string",31837,{l:r}),new S_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new je(e)}}class u1{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o1{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new u1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,GT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const r=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>r(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new oy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new oy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=h1(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<i&&(r+=e.charAt(u[h]%62))}return r}}function At(s,e){return s<e?-1:s>e?1:0}function xf(s,e){let i=0;for(;i<s.length&&i<e.length;){const r=s.codePointAt(i),u=e.codePointAt(i);if(r!==u){if(r<128&&u<128)return At(r,u);{const h=b_(),d=f1(h.encode(cy(s,i)),h.encode(cy(e,i)));return d!==0?d:At(r,u)}}i+=r>65535?2:1}return At(s.length,e.length)}function cy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function f1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return At(s[i],e[i]);return At(s.length,e.length)}function us(s,e,i){return s.length===e.length&&s.every((r,u)=>i(r,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-62135596800,fy=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(e){return Te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*fy);return new Te(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<hy)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fy}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Te(0,0))}static max(){return new yt(new Te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="__name__";class Xn{constructor(e,i,r){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&dt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(r=>{i.push(r)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let u=0;u<r;u++){const h=Xn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return At(e.length,i.length)}static compareSegments(e,i){const r=Xn.isNumericId(e),u=Xn.isNumericId(i);return r&&!u?-1:!r&&u?1:r&&u?Xn.extractNumericId(e).compare(Xn.extractNumericId(i)):xf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}}class Wt extends Xn{construct(e,i,r){return new Wt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(u=>u.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const d1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Le extends Xn{construct(e,i,r){return new Le(e,i,r)}static isValidIdentifier(e){return d1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dy}static keyField(){return new Le([dy])}static fromServerFormat(e){const i=[];let r="",u=0;const h=()=>{if(r.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new lt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(r+=p,u++):(h(),u++)}if(h(),d)throw new lt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Le(i)}static emptyPath(){return new Le([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Wt.fromString(e))}static fromName(e){return new ot(Wt.fromString(e).popFirst(5))}static empty(){return new ot(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=-1;function m1(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(r===1e9?new Te(i+1,0):new Te(i,r));return new fa(u,ot.empty(),e)}function g1(s){return new fa(s.readTime,s.key,Bl)}class fa{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new fa(yt.min(),ot.empty(),Bl)}static max(){return new fa(yt.max(),ot.empty(),Bl)}}function p1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(s.documentKey,e.documentKey),i!==0?i:At(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==y1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,r)=>{i(e)})}static reject(e){return new F((i,r)=>{r(e)})}static waitFor(e){return new F((i,r)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},v=>r(v))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const r of e)i=i.next(u=>u?F.resolve(u):r());return i}static forEach(e,i){const r=[];return e.forEach((u,h)=>{r.push(i.call(this,u,h))}),this.waitFor(r)}static mapArray(e,i){return new F((r,u)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++p,p===h&&r(d)},A=>u(A))}})}static doWhile(e,i){return new F((r,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):r()};h()})}}function v1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ys(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>i.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Xo.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=-1;function Zo(s){return s==null}function Lo(s){return s===0&&1/s==-1/0}function E1(s){return typeof s=="number"&&Number.isInteger(s)&&!Lo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="";function T1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=my(e)),e=A1(s.get(i),e);return my(e)}function A1(s,e){let i=e;const r=s.length;for(let u=0;u<r;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case w_:i+="";break;default:i+=h}}return i}function my(s){return s+w_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function _a(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function C_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ee(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return i+r.left.size;u<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,r)=>(e(i,r),!1))}toString(){const e=[];return this.inorderTraversal((i,r)=>(e.push(`${i}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new To(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new To(this.root,e,this.comparator,!1)}getReverseIterator(){return new To(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new To(this.root,e,this.comparator,!0)}}class To{constructor(e,i,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,r,u,h){this.key=e,this.value=i,this.color=r??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,u,h){return new ze(e??this.key,i??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let u=this;const h=r(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,r),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,r,u,h){return this}insert(e,i,r){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.comparator=e,this.data=new ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,r)=>(e(i),!1))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new py(this.data.getIterator())}getIteratorFrom(e){return new py(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(r=>{i=i.add(r)}),i}isEqual(e){if(!(e instanceof Ae)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ae(this.comparator);return i.data=e,i}}class py{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Le.comparator)}static empty(){return new On([])}unionWith(e){let i=new Ae(Le.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return us(this.fields,e.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new D_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let u=0;u<i.length;u++)r[u]=i.charCodeAt(u);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const S1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(s){if(qt(!!s,39018),typeof s=="string"){let e=0;const i=S1.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:oe(s.seconds),nanos:oe(s.nanos)}}function oe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ma(s){return typeof s=="string"?Pe.fromBase64String(s):Pe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="server_timestamp",I_="__type__",O_="__previous_value__",N_="__local_write_time__";function ed(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[I_])===null||i===void 0?void 0:i.stringValue)===V_}function $o(s){const e=s.mapValue.fields[O_];return ed(e)?$o(e):e}function ql(s){const e=da(s.mapValue.fields[N_].timestampValue);return new Te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,i,r,u,h,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Po="(default)";class kl{constructor(e,i){this.projectId=e,this.database=i||Po}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Po}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__type__",R1="__max__",Ao={mapValue:{}},x_="__vector__",Bo="value";function ga(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ed(s)?4:C1(s)?9007199254740991:w1(s)?10:11:dt(28295,{value:s})}function Jn(s,e){if(s===e)return!0;const i=ga(s);if(i!==ga(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ql(s).isEqual(ql(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=da(u.timestampValue),p=da(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return ma(u.bytesValue).isEqual(ma(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return oe(u.geoPointValue.latitude)===oe(h.geoPointValue.latitude)&&oe(u.geoPointValue.longitude)===oe(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return oe(u.integerValue)===oe(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=oe(u.doubleValue),p=oe(h.doubleValue);return d===p?Lo(d)===Lo(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return us(s.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(gy(d)!==gy(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Jn(d[v],p[v])))return!1;return!0}(s,e);default:return dt(52216,{left:s})}}function Hl(s,e){return(s.values||[]).find(i=>Jn(i,e))!==void 0}function os(s,e){if(s===e)return 0;const i=ga(s),r=ga(e);if(i!==r)return At(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return At(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=oe(h.integerValue||h.doubleValue),v=oe(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(s,e);case 3:return yy(s.timestampValue,e.timestampValue);case 4:return yy(ql(s),ql(e));case 5:return xf(s.stringValue,e.stringValue);case 6:return function(h,d){const p=ma(h),v=ma(d);return p.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=At(p[_],v[_]);if(A!==0)return A}return At(p.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=At(oe(h.latitude),oe(d.latitude));return p!==0?p:At(oe(h.longitude),oe(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return _y(s.arrayValue,e.arrayValue);case 10:return function(h,d){var p,v,_,A;const O=h.fields||{},I=d.fields||{},G=(p=O[Bo])===null||p===void 0?void 0:p.arrayValue,Z=(v=I[Bo])===null||v===void 0?void 0:v.arrayValue,nt=At(((_=G==null?void 0:G.values)===null||_===void 0?void 0:_.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:_y(G,Z)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ao.mapValue&&d===Ao.mapValue)return 0;if(h===Ao.mapValue)return 1;if(d===Ao.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let O=0;O<v.length&&O<A.length;++O){const I=xf(v[O],A[O]);if(I!==0)return I;const G=os(p[v[O]],_[A[O]]);if(G!==0)return G}return At(v.length,A.length)}(s.mapValue,e.mapValue);default:throw dt(23264,{Pe:i})}}function yy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return At(s,e);const i=da(s),r=da(e),u=At(i.seconds,r.seconds);return u!==0?u:At(i.nanos,r.nanos)}function _y(s,e){const i=s.values||[],r=e.values||[];for(let u=0;u<i.length&&u<r.length;++u){const h=os(i[u],r[u]);if(h)return h}return At(i.length,r.length)}function cs(s){return Uf(s)}function Uf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const r=da(i);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return ma(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ot.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=Uf(h);return r+"]"}(s.arrayValue):"mapValue"in s?function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${Uf(i.fields[d])}`;return u+"}"}(s.mapValue):dt(61005,{value:s})}function Do(s){switch(ga(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$o(s);return e?16+Do(e):16;case 5:return 2*s.stringValue.length;case 6:return ma(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((u,h)=>u+Do(h),0)}(s.arrayValue);case 10:case 11:return function(r){let u=0;return _a(r.fields,(h,d)=>{u+=h.length+Do(d)}),u}(s.mapValue);default:throw dt(13486,{value:s})}}function zf(s){return!!s&&"integerValue"in s}function nd(s){return!!s&&"arrayValue"in s}function vy(s){return!!s&&"nullValue"in s}function Ey(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Vo(s){return!!s&&"mapValue"in s}function w1(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[M_])===null||i===void 0?void 0:i.stringValue)===x_}function Ml(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return _a(s.mapValue.fields,(i,r)=>e.mapValue.fields[i]=Ml(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ml(s.arrayValue.values[i]);return e}return Object.assign({},s)}function C1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===R1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Vo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(i)}setAll(e){let i=Le.emptyPath(),r={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,u),r={},u=[],i=p.popLast()}d?r[p.lastSegment()]=Ml(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,r,u)}delete(e){const i=this.field(e.popLast());Vo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=i.mapValue.fields[e.get(r)];Vo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,r){_a(i,(u,h)=>e[u]=h);for(const u of r)delete e[u]}clone(){return new on(Ml(this.value))}}function U_(s){const e=[];return _a(s.fields,(i,r)=>{const u=new Le([i]);if(Vo(r)){const h=U_(r.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,i,r,u,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ge(e,0,yt.min(),yt.min(),yt.min(),on.empty(),0)}static newFoundDocument(e,i,r,u){return new Ge(e,1,i,yt.min(),r,u,0)}static newNoDocument(e,i){return new Ge(e,2,i,yt.min(),yt.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Ge(e,3,i,yt.min(),yt.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,i){this.position=e,this.inclusive=i}}function Ty(s,e,i){let r=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?r=ot.comparator(ot.fromName(d.referenceValue),i.key):r=os(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ay(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Jn(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,i="asc"){this.field=e,this.dir=i}}function D1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{}class Ee extends z_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new I1(e,i,r):i==="array-contains"?new M1(e,r):i==="in"?new x1(e,r):i==="not-in"?new U1(e,r):i==="array-contains-any"?new z1(e,r):new Ee(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new O1(e,r):new N1(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(os(i,this.value)):i!==null&&ga(this.value)===ga(i)&&this.matchesComparison(os(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends z_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Wn(e,i)}matches(e){return L_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function L_(s){return s.op==="and"}function P_(s){return V1(s)&&L_(s)}function V1(s){for(const e of s.filters)if(e instanceof Wn)return!1;return!0}function Lf(s){if(s instanceof Ee)return s.field.canonicalString()+s.op.toString()+cs(s.value);if(P_(s))return s.filters.map(e=>Lf(e)).join(",");{const e=s.filters.map(i=>Lf(i)).join(",");return`${s.op}(${e})`}}function B_(s,e){return s instanceof Ee?function(r,u){return u instanceof Ee&&r.op===u.op&&r.field.isEqual(u.field)&&Jn(r.value,u.value)}(s,e):s instanceof Wn?function(r,u){return u instanceof Wn&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce((h,d,p)=>h&&B_(d,u.filters[p]),!0):!1}(s,e):void dt(19439)}function q_(s){return s instanceof Ee?function(i){return`${i.field.canonicalString()} ${i.op} ${cs(i.value)}`}(s):s instanceof Wn?function(i){return i.op.toString()+" {"+i.getFilters().map(q_).join(" ,")+"}"}(s):"Filter"}class I1 extends Ee{constructor(e,i,r){super(e,i,r),this.key=ot.fromName(r.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class O1 extends Ee{constructor(e,i){super(e,"in",i),this.keys=k_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class N1 extends Ee{constructor(e,i){super(e,"not-in",i),this.keys=k_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function k_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>ot.fromName(r.referenceValue))}class M1 extends Ee{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return nd(i)&&Hl(i.arrayValue,this.value)}}class x1 extends Ee{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class U1 extends Ee{constructor(e,i){super(e,"not-in",i)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Hl(this.value.arrayValue,i)}}class z1 extends Ee{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!nd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,i=null,r=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.Ie=null}}function Sy(s,e=null,i=[],r=[],u=null,h=null,d=null){return new L1(s,e,i,r,u,h,d)}function id(s){const e=_t(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(r=>Lf(r)).join(","),i+="|ob:",i+=e.orderBy.map(r=>function(h){return h.field.canonicalString()+h.dir}(r)).join(","),Zo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>cs(r)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>cs(r)).join(",")),e.Ie=i}return e.Ie}function ad(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!D1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!B_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ay(s.startAt,e.startAt)&&Ay(s.endAt,e.endAt)}function Pf(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i=null,r=[],u=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function P1(s,e,i,r,u,h,d,p){return new Jo(s,e,i,r,u,h,d,p)}function H_(s){return new Jo(s)}function by(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function B1(s){return s.collectionGroup!==null}function xl(s){const e=_t(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ae(Le.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new ko(h,r))}),i.has(Le.keyField().canonicalString())||e.Ee.push(new ko(Le.keyField(),r))}return e.Ee}function Zn(s){const e=_t(s);return e.de||(e.de=q1(e,xl(s))),e.de}function q1(s,e){if(s.limitType==="F")return Sy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new ko(u.field,h)});const i=s.endAt?new qo(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new qo(s.startAt.position,s.startAt.inclusive):null;return Sy(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Bf(s,e,i){return new Jo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Wo(s,e){return ad(Zn(s),Zn(e))&&s.limitType===e.limitType}function j_(s){return`${id(Zn(s))}|lt:${s.limitType}`}function ns(s){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(u=>q_(u)).join(", ")}]`),Zo(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(u=>cs(u)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(u=>cs(u)).join(",")),`Target(${r})`}(Zn(s))}; limitType=${s.limitType})`}function tc(s,e){return e.isFoundDocument()&&function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ot.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)}(s,e)&&function(r,u){for(const h of xl(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(r,u){return!(r.startAt&&!function(d,p,v){const _=Ty(d,p,v);return d.inclusive?_<=0:_<0}(r.startAt,xl(r),u)||r.endAt&&!function(d,p,v){const _=Ty(d,p,v);return d.inclusive?_>=0:_>0}(r.endAt,xl(r),u))}(s,e)}function k1(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function G_(s){return(e,i)=>{let r=!1;for(const u of xl(s)){const h=H1(u,e,i);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function H1(s,e,i){const r=s.field.isKeyField()?ot.comparator(e.key,i.key):function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?os(v,_):dt(42886)}(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return r.length===1?delete this.inner[i]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(i,r)=>{for(const[u,h]of r)e(u,h)})}isEmpty(){return C_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new ee(ot.comparator);function Vi(){return j1}const Q_=new ee(ot.comparator);function Il(...s){let e=Q_;for(const i of s)e=e.insert(i.key,i);return e}function Y_(s){let e=Q_;return s.forEach((i,r)=>e=e.insert(i,r.overlayedDocument)),e}function ir(){return Ul()}function F_(){return Ul()}function Ul(){return new sr(s=>s.toString(),(s,e)=>s.isEqual(e))}const G1=new ee(ot.comparator),Q1=new Ae(ot.comparator);function Dt(...s){let e=Q1;for(const i of s)e=e.add(i);return e}const Y1=new Ae(At);function F1(){return Y1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lo(e)?"-0":e}}function K_(s){return{integerValue:""+s}}function K1(s,e){return E1(e)?K_(e):rd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this._=void 0}}function X1(s,e,i){return s instanceof Ho?function(u,h){const d={fields:{[I_]:{stringValue:V_},[N_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ed(h)&&(h=$o(h)),h&&(d.fields[O_]=h),{mapValue:d}}(i,e):s instanceof jl?Z_(s,e):s instanceof Gl?$_(s,e):function(u,h){const d=X_(u,h),p=Ry(d)+Ry(u.Re);return zf(d)&&zf(u.Re)?K_(p):rd(u.serializer,p)}(s,e)}function Z1(s,e,i){return s instanceof jl?Z_(s,e):s instanceof Gl?$_(s,e):i}function X_(s,e){return s instanceof jo?function(r){return zf(r)||function(h){return!!h&&"doubleValue"in h}(r)}(e)?e:{integerValue:0}:null}class Ho extends ec{}class jl extends ec{constructor(e){super(),this.elements=e}}function Z_(s,e){const i=J_(e);for(const r of s.elements)i.some(u=>Jn(u,r))||i.push(r);return{arrayValue:{values:i}}}class Gl extends ec{constructor(e){super(),this.elements=e}}function $_(s,e){let i=J_(e);for(const r of s.elements)i=i.filter(u=>!Jn(u,r));return{arrayValue:{values:i}}}class jo extends ec{constructor(e,i){super(),this.serializer=e,this.Re=i}}function Ry(s){return oe(s.integerValue||s.doubleValue)}function J_(s){return nd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function $1(s,e){return s.field.isEqual(e.field)&&function(r,u){return r instanceof jl&&u instanceof jl||r instanceof Gl&&u instanceof Gl?us(r.elements,u.elements,Jn):r instanceof jo&&u instanceof jo?Jn(r.Re,u.Re):r instanceof Ho&&u instanceof Ho}(s.transform,e.transform)}class J1{constructor(e,i){this.version=e,this.transformResults=i}}class wi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Io(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class nc{}function W_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ev(s.key,wi.none()):new ic(s.key,s.data,wi.none());{const i=s.data,r=on.empty();let u=new Ae(Le.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new lr(s.key,r,new On(u.toArray()),wi.none())}}function W1(s,e,i){s instanceof ic?function(u,h,d){const p=u.value.clone(),v=Cy(u.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof lr?function(u,h,d){if(!Io(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Cy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(tv(u)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function zl(s,e,i,r){return s instanceof ic?function(h,d,p,v){if(!Io(h.precondition,d))return p;const _=h.value.clone(),A=Dy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,r):s instanceof lr?function(h,d,p,v){if(!Io(h.precondition,d))return p;const _=Dy(h.fieldTransforms,v,d),A=d.data;return A.setAll(tv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(O=>O.field))}(s,e,i,r):function(h,d,p){return Io(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function tA(s,e){let i=null;for(const r of s.fieldTransforms){const u=e.data.field(r.field),h=X_(r.transform,u||null);h!=null&&(i===null&&(i=on.empty()),i.set(r.field,h))}return i||null}function wy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&us(r,u,(h,d)=>$1(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ic extends nc{constructor(e,i,r,u=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class lr extends nc{constructor(e,i,r,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function tv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}}),e}function Cy(s,e,i){const r=new Map;qt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);r.set(h.field,Z1(d,p,i[u]))}return r}function Dy(s,e,i){const r=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);r.set(u.field,X1(h,d,e))}return r}class ev extends nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eA extends nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,i,r,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&W1(h,e,r[u])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=zl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=zl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=F_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const v=W_(d,p);v!==null&&r.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&us(this.mutations,e.mutations,(i,r)=>wy(i,r))&&us(this.baseMutations,e.baseMutations,(i,r)=>wy(i,r))}}class sd{constructor(e,i,r,u){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=u}static from(e,i,r){qt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let u=function(){return G1}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,r[d].version);return new sd(e,i,r,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,Nt;function rA(s){switch(s){case X.OK:return dt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function nv(s){if(s===void 0)return Di("GRPC error has no .code"),X.UNKNOWN;switch(s){case me.OK:return X.OK;case me.CANCELLED:return X.CANCELLED;case me.UNKNOWN:return X.UNKNOWN;case me.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case me.INTERNAL:return X.INTERNAL;case me.UNAVAILABLE:return X.UNAVAILABLE;case me.UNAUTHENTICATED:return X.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case me.NOT_FOUND:return X.NOT_FOUND;case me.ALREADY_EXISTS:return X.ALREADY_EXISTS;case me.PERMISSION_DENIED:return X.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case me.ABORTED:return X.ABORTED;case me.OUT_OF_RANGE:return X.OUT_OF_RANGE;case me.UNIMPLEMENTED:return X.UNIMPLEMENTED;case me.DATA_LOSS:return X.DATA_LOSS;default:return dt(39323,{code:s})}}(Nt=me||(me={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=new ua([4294967295,4294967295],0);function Vy(s){const e=b_().encode(s),i=new p_;return i.update(e),new Uint8Array(i.digest())}function Iy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ua([i,r],0),new ua([u,h],0)]}class ld{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ol(`Invalid padding: ${i}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=ua.fromNumber(this.pe)}we(e,i,r){let u=e.add(i.multiply(ua.fromNumber(r)));return u.compare(sA)===1&&(u=new ua([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Vy(e),[r,u]=Iy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(r,u,h);if(!this.be(d))return!1}return!0}static create(e,i,r){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new ld(h,u,i);return r.forEach(p=>d.insert(p)),d}insert(e){if(this.pe===0)return;const i=Vy(e),[r,u]=Iy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(r,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i,r,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const u=new Map;return u.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new ac(yt.min(),u,new ee(At),Vi(),Dt())}}class Yl{constructor(e,i,r,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Yl(r,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,i,r,u){this.De=e,this.removedTargetIds=i,this.key=r,this.ve=u}}class iv{constructor(e,i){this.targetId=e,this.Ce=i}}class av{constructor(e,i,r=Pe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=u}}class Oy{constructor(){this.Fe=0,this.Me=Ny(),this.xe=Pe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Dt(),i=Dt(),r=Dt();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:r=r.add(u);break;default:dt(38017,{changeType:h})}}),new Yl(this.xe,this.Oe,e,i,r)}Qe(){this.Ne=!1,this.Me=Ny()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class lA{constructor(e){this.ze=e,this.je=new Map,this.He=Vi(),this.Je=So(),this.Ye=So(),this.Ze=new ee(At)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const r=this.rt(i);switch(e.state){case 0:this.it(i)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(i);break;case 3:this.it(i)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),r.ke(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((r,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,r=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(Pf(h))if(r===0){const d=new ot(h.path);this.tt(i,d,Ge.newNoDocument(d,yt.min()))}else qt(r===1,20013,{expectedCount:r});else{const d=this.ut(i);if(d!==r){const p=this.ct(e),v=p?this.lt(p,e,d):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=ma(r).toUint8Array()}catch(v){if(v instanceof D_)return ls("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new ld(d,u,h)}catch(v){return ls(v instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.pe===0?null:p}lt(e,i,r){return i.Ce.count===r-this.Tt(e,i.targetId)?0:2}Tt(e,i){const r=this.ze.getRemoteKeysForTarget(i);let u=0;return r.forEach(h=>{const d=this.ze.Pt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const p=this._t(d);if(p){if(h.current&&Pf(p.target)){const v=new ot(p.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,Ge.newNoDocument(v,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let r=Dt();this.Ye.forEach((h,d)=>{let p=!0;d.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new ac(e,i,this.Ze,this.He,r);return this.He=Vi(),this.Je=So(),this.Ye=So(),this.Ze=new ee(At),u}et(e,i){if(!this.it(e))return;const r=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,r),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,r){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),r&&(this.He=this.He.insert(i,r))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new Oy,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Ae(At),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Ae(At),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Oy),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function So(){return new ee(ot.comparator)}function Ny(){return new ee(ot.comparator)}const uA={asc:"ASCENDING",desc:"DESCENDING"},oA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cA={and:"AND",or:"OR"};class hA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function qf(s,e){return s.useProto3Json||Zo(e)?e:{value:e}}function Go(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function fA(s,e){return Go(s,e.toTimestamp())}function $n(s){return qt(!!s,49232),yt.fromTimestamp(function(i){const r=da(i);return new Te(r.seconds,r.nanos)}(s))}function ud(s,e){return kf(s,e).canonicalString()}function kf(s,e){const i=function(u){return new Wt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function sv(s){const e=Wt.fromString(s);return qt(hv(e),10190,{key:e.toString()}),e}function Hf(s,e){return ud(s.databaseId,e.path)}function bf(s,e){const i=sv(e);if(i.get(1)!==s.databaseId.projectId)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(uv(i))}function lv(s,e){return ud(s.databaseId,e)}function dA(s){const e=sv(s);return e.length===4?Wt.emptyPath():uv(e)}function jf(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function uv(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function My(s,e,i){return{name:Hf(s,e),fields:i.value.mapValue.fields}}function mA(s,e){let i;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Pe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Pe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(_){const A=_.code===void 0?X.UNKNOWN:nv(_.code);return new lt(A,_.message||"")}(d);i=new av(r,u,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const u=bf(s,r.document.name),h=$n(r.document.updateTime),d=r.document.createTime?$n(r.document.createTime):yt.min(),p=new on({mapValue:{fields:r.document.fields}}),v=Ge.newFoundDocument(u,h,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Oo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const u=bf(s,r.document),h=r.readTime?$n(r.readTime):yt.min(),d=Ge.newNoDocument(u,h),p=r.removedTargetIds||[];i=new Oo([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const u=bf(s,r.document),h=r.removedTargetIds||[];i=new Oo([],h,u,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new aA(u,h),p=r.targetId;i=new iv(p,d)}}return i}function gA(s,e){let i;if(e instanceof ic)i={update:My(s,e.key,e.value)};else if(e instanceof ev)i={delete:Hf(s,e.key)};else if(e instanceof lr)i={update:My(s,e.key,e.data),updateMask:bA(e.fieldMask)};else{if(!(e instanceof eA))return dt(16599,{ft:e.type});i={verify:Hf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(r=>function(h,d){const p=d.transform;if(p instanceof Ho)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof jo)return{fieldPath:d.field.canonicalString(),increment:p.Re};throw dt(20930,{transform:d.transform})}(0,r))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:fA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)}(s,e.precondition)),i}function pA(s,e){return s&&s.length>0?(qt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?$n(u.updateTime):$n(h);return d.isEqual(yt.min())&&(d=$n(h)),new J1(d,u.transformResults||[])}(i,e))):[]}function yA(s,e){return{documents:[lv(s,e.path)]}}function _A(s,e){const i={structuredQuery:{}},r=e.path;let u;e.collectionGroup!==null?(u=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=lv(s,u);const h=function(_){if(_.length!==0)return cv(Wn.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(I){return{field:is(I.field),direction:TA(I.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=qf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:u}}function vA(s){let e=dA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let u=null;if(r>0){qt(r===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(O){const I=ov(O);return I instanceof Wn&&P_(I)?I.getFilters():[I]}(i.where));let d=[];i.orderBy&&(d=function(O){return O.map(I=>function(Z){return new ko(as(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(I))}(i.orderBy));let p=null;i.limit&&(p=function(O){let I;return I=typeof O=="object"?O.value:O,Zo(I)?null:I}(i.limit));let v=null;i.startAt&&(v=function(O){const I=!!O.before,G=O.values||[];return new qo(G,I)}(i.startAt));let _=null;return i.endAt&&(_=function(O){const I=!O.before,G=O.values||[];return new qo(G,I)}(i.endAt)),P1(e,u,d,h,p,"F",v,_)}function EA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ov(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=as(i.unaryFilter.field);return Ee.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=as(i.unaryFilter.field);return Ee.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=as(i.unaryFilter.field);return Ee.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=as(i.unaryFilter.field);return Ee.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Ee.create(as(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Wn.create(i.compositeFilter.filters.map(r=>ov(r)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(i.compositeFilter.op))}(s):dt(30097,{filter:s})}function TA(s){return uA[s]}function AA(s){return oA[s]}function SA(s){return cA[s]}function is(s){return{fieldPath:s.canonicalString()}}function as(s){return Le.fromServerFormat(s.fieldPath)}function cv(s){return s instanceof Ee?function(i){if(i.op==="=="){if(Ey(i.value))return{unaryFilter:{field:is(i.field),op:"IS_NAN"}};if(vy(i.value))return{unaryFilter:{field:is(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ey(i.value))return{unaryFilter:{field:is(i.field),op:"IS_NOT_NAN"}};if(vy(i.value))return{unaryFilter:{field:is(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:is(i.field),op:AA(i.op),value:i.value}}}(s):s instanceof Wn?function(i){const r=i.getFilters().map(u=>cv(u));return r.length===1?r[0]:{compositeFilter:{op:SA(i.op),filters:r}}}(s):dt(54877,{filter:s})}function bA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function hv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,i,r,u,h=yt.min(),d=yt.min(),p=Pe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.wt=e}}function wA(s){const e=vA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.yn=new DA}addToCollectionParentIndex(e,i){return this.yn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.yn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(fa.min())}updateCollectionGroup(e,i,r){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class DA{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i]||new Ae(Wt.comparator),h=!u.has(r);return this.index[i]=u.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i];return u&&u.has(r)}getEntries(e){return(this.index[e]||new Ae(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fv=41943040;class Je{static withCacheSize(e){return new Je(e,Je.DEFAULT_COLLECTION_PERCENTILE,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Je.DEFAULT_COLLECTION_PERCENTILE=10,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Je.DEFAULT=new Je(fv,Je.DEFAULT_COLLECTION_PERCENTILE,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Je.DISABLED=new Je(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new hs(0)}static ir(){return new hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="LruGarbageCollector",VA=1048576;function zy([s,e],[i,r]){const u=At(s,i);return u===0?At(e,r):u}class IA{constructor(e){this.cr=e,this.buffer=new Ae(zy),this.lr=0}hr(){return++this.lr}Pr(e){const i=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();zy(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class OA{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){it(Uy,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ys(i)?it(Uy,"Ignoring IndexedDB error during garbage collection: ",i):await ps(i)}await this.Ir(3e5)})}}class NA{constructor(e,i){this.Er=e,this.params=i}calculateTargetCount(e,i){return this.Er.dr(e).next(r=>Math.floor(i/100*r))}nthSequenceNumber(e,i){if(i===0)return F.resolve(Xo.le);const r=new IA(i);return this.Er.forEachTarget(e,u=>r.Pr(u.sequenceNumber)).next(()=>this.Er.Ar(e,u=>r.Pr(u))).next(()=>r.maxValue)}removeTargets(e,i,r){return this.Er.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Er.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(xy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xy):this.Rr(e,i))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,i){let r,u,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),u=this.params.maximumSequenceNumbersToCollect):u=O,d=Date.now(),this.nthSequenceNumber(e,u))).next(O=>(r=O,p=Date.now(),this.removeTargets(e,r,i))).next(O=>(h=O,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(_=Date.now(),es()<=Mt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${O} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:O})))}}function MA(s,e){return new NA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.changes=new sr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?F.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,i,r,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(r=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(r!==null&&zl(r.mutation,u,On.empty(),Te.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.getLocalViewOfDocuments(e,r,Dt()).next(()=>r))}getLocalViewOfDocuments(e,i,r=Dt()){const u=ir();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,r).next(h=>{let d=Il();return h.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const r=ir();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,Dt()))}populateOverlays(e,i,r){const u=[];return r.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,r,u){let h=Vi();const d=Ul(),p=function(){return Ul()}();return i.forEach((v,_)=>{const A=r.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof lr)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),zl(A.mutation,_,A.mutation.getFieldMask(),Te.now())):d.set(_.key,On.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var O;return p.set(_,new UA(A,(O=d.get(_))!==null&&O!==void 0?O:null))}),p))}recalculateAndSaveOverlays(e,i){const r=Ul();let u=new ee((d,p)=>d-p),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||On.empty();A=p.applyToLocalView(_,A),r.set(v,A);const O=(u.get(p.batchId)||Dt()).add(v);u=u.insert(p.batchId,O)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,O=F_();A.forEach(I=>{if(!h.has(I)){const G=W_(i.get(I),r.get(I));G!==null&&O.set(I,G),h=h.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,O))}return F.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,i,r,u){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):B1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,u):this.getDocumentsMatchingCollectionQuery(e,i,r,u)}getNextDocuments(e,i,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,u-h.size):F.resolve(ir());let p=Bl,v=h;return d.next(_=>F.forEach(_,(A,O)=>(p<O.largestBatchId&&(p=O.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(I=>{v=v.insert(A,I)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Dt())).next(A=>({batchId:p,changes:Y_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(r=>{let u=Il();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,r,u){const h=i.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(e,h).next(p=>F.forEach(p,v=>{const _=function(O,I){return new Jo(I,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,u).next(A=>{A.forEach((O,I)=>{d=d.insert(O,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ge.newInvalidDocument(A)))});let p=Il();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&zl(A.mutation,_,On.empty(),Te.now()),tc(i,_)&&(p=p.insert(v,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,i){return F.resolve(this.Fr.get(i))}saveBundleMetadata(e,i){return this.Fr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:$n(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.Mr.get(i))}saveNamedQuery(e,i){return this.Mr.set(i.name,function(u){return{name:u.name,query:wA(u.bundledQuery),readTime:$n(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.overlays=new ee(ot.comparator),this.Or=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ir();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&r.set(u,h)})).next(()=>r)}saveOverlays(e,i,r){return r.forEach((u,h)=>{this.St(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,r){const u=this.Or.get(r);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Or.delete(r)),F.resolve()}getOverlaysForCollection(e,i,r){const u=ir(),h=i.length+1,d=new ot(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&u.set(v.getKey(),v)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,r,u){let h=new ee((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=ir(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=ir(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>p.set(_,A)),!(p.size()>=u)););return F.resolve(p)}St(e,i,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.Or.get(u.largestBatchId).delete(r.key);this.Or.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new iA(i,r));let h=this.Or.get(i);h===void 0&&(h=Dt(),this.Or.set(i,h)),this.Or.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.Nr=new Ae(Ve.Br),this.Lr=new Ae(Ve.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,i){const r=new Ve(e,i);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,i){e.forEach(r=>this.addReference(r,i))}removeReference(e,i){this.Qr(new Ve(e,i))}$r(e,i){e.forEach(r=>this.removeReference(r,i))}Ur(e){const i=new ot(new Wt([])),r=new Ve(i,e),u=new Ve(i,e+1),h=[];return this.Lr.forEachInRange([r,u],d=>{this.Qr(d),h.push(d.key)}),h}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const i=new ot(new Wt([])),r=new Ve(i,e),u=new Ve(i,e+1);let h=Dt();return this.Lr.forEachInRange([r,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ve(e,0),r=this.Nr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ve{constructor(e,i){this.key=e,this.Gr=i}static Br(e,i){return ot.comparator(e.key,i.key)||At(e.Gr,i.Gr)}static kr(e,i){return At(e.Gr,i.Gr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new Ae(Ve.Br)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,u){const h=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new nA(h,i,r,u);this.mutationQueue.push(d);for(const p of u)this.zr=this.zr.add(new Ve(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,u=this.Hr(r),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?td:this.Jn-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ve(i,0),u=new Ve(i,Number.POSITIVE_INFINITY),h=[];return this.zr.forEachInRange([r,u],d=>{const p=this.jr(d.Gr);h.push(p)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ae(At);return i.forEach(u=>{const h=new Ve(u,0),d=new Ve(u,Number.POSITIVE_INFINITY);this.zr.forEachInRange([h,d],p=>{r=r.add(p.Gr)})}),F.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,u=r.length+1;let h=r;ot.isDocumentKey(h)||(h=h.child(""));const d=new Ve(new ot(h),0);let p=new Ae(At);return this.zr.forEachWhile(v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===u&&(p=p.add(v.Gr)),!0)},d),F.resolve(this.Jr(p))}Jr(e){const i=[];return e.forEach(r=>{const u=this.jr(r);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return F.forEach(i.mutations,u=>{const h=new Ve(u.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,i){const r=new Ve(i,0),u=this.zr.firstAfterOrEqual(r);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Yr(e,i){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const i=this.Hr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.Zr=e,this.docs=function(){return new ee(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,u=this.docs.get(r),h=u?u.size:0,d=this.Zr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return F.resolve(r?r.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(e,i){let r=Vi();return i.forEach(u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():Ge.newInvalidDocument(u))}),F.resolve(r)}getDocumentsMatchingQuery(e,i,r,u){let h=Vi();const d=i.path,p=new ot(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||p1(g1(A),r)<=0||(u.has(A.key)||tc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,r,u){dt(9500)}Xr(e,i){return F.forEach(this.docs,r=>i(r))}newChangeBuffer(e){return new HA(this)}getSize(e){return F.resolve(this.size)}}class HA extends xA{constructor(e){super(),this.vr=e}applyChanges(e){const i=[];return this.changes.forEach((r,u)=>{u.isValidDocument()?i.push(this.vr.addEntry(e,u)):this.vr.removeEntry(r)}),F.waitFor(i)}getFromCache(e,i){return this.vr.getEntry(e,i)}getAllFromCache(e,i){return this.vr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.persistence=e,this.ei=new sr(i=>id(i),ad),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ti=0,this.ni=new od,this.targetCount=0,this.ri=hs.rr()}forEachTarget(e,i){return this.ei.forEach((r,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ti&&(this.ti=i),F.resolve()}ar(e){this.ei.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ri=new hs(i),this.highestTargetId=i),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,i){return this.ar(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.ar(i),F.resolve()}removeTargetData(e,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,r){let u=0;const h=[];return this.ei.forEach((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ei.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const r=this.ei.get(i)||null;return F.resolve(r)}addMatchingKeys(e,i,r){return this.ni.qr(i,r),F.resolve()}removeMatchingKeys(e,i,r){this.ni.$r(i,r);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ni.Ur(i),F.resolve()}getMatchingKeysForTargetId(e,i){const r=this.ni.Wr(i);return F.resolve(r)}containsKey(e,i){return F.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,i){this.ii={},this.overlays={},this.si=new Xo(0),this.oi=!1,this.oi=!0,this._i=new BA,this.referenceDelegate=e(this),this.ai=new jA(this),this.indexManager=new CA,this.remoteDocumentCache=function(u){return new kA(u)}(r=>this.referenceDelegate.ui(r)),this.serializer=new RA(i),this.ci=new LA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new PA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ii[e.toKey()];return r||(r=new qA(i,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,i,r){it("MemoryPersistence","Starting transaction:",e);const u=new GA(this.si.next());return this.referenceDelegate.li(),r(u).next(h=>this.referenceDelegate.hi(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Pi(e,i){return F.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,i)))}}class GA extends _1{constructor(e){super(),this.currentSequenceNumber=e}}class cd{constructor(e){this.persistence=e,this.Ti=new od,this.Ii=null}static Ei(e){return new cd(e)}get di(){if(this.Ii)return this.Ii;throw dt(60996)}addReference(e,i,r){return this.Ti.addReference(r,i),this.di.delete(r.toString()),F.resolve()}removeReference(e,i,r){return this.Ti.removeReference(r,i),this.di.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),F.resolve()}removeTarget(e,i){this.Ti.Ur(i.targetId).forEach(u=>this.di.add(u.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.di.add(h.toString()))}).next(()=>r.removeTargetData(e,i))}li(){this.Ii=new Set}hi(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.di,r=>{const u=ot.fromPath(r);return this.Ai(e,u).next(h=>{h||i.removeEntry(u,yt.min())})}).next(()=>(this.Ii=null,i.apply(e)))}updateLimboDocument(e,i){return this.Ai(e,i).next(r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(e){return 0}Ai(e,i){return F.or([()=>F.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Pi(e,i)])}}class Qo{constructor(e,i){this.persistence=e,this.Ri=new sr(r=>T1(r.path),(r,u)=>r.isEqual(u)),this.garbageCollector=MA(this,i)}static Ei(e,i){return new Qo(e,i)}li(){}hi(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>i.next(u=>r+u))}Vr(e){let i=0;return this.Ar(e,r=>{i++}).next(()=>i)}Ar(e,i){return F.forEach(this.Ri,(r,u)=>this.gr(e,r,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.Xr(e,d=>this.gr(e,d,i).next(p=>{p||(r++,h.removeEntry(d,yt.min()))})).next(()=>h.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,i){return this.Ri.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.Ri.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,i,r){return this.Ri.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.Ri.set(i,e.currentSequenceNumber),F.resolve()}ui(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Do(e.data.value)),i}gr(e,i,r){return F.or([()=>this.persistence.Pi(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.Ri.get(i);return F.resolve(u!==void 0&&u>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,i,r,u){this.targetId=e,this.fromCache=i,this.ls=r,this.hs=u}static Ps(e,i){let r=Dt(),u=Dt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new hd(e,i.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return kE()?8:v1(BE())>0?6:4}()}initialize(e,i){this.As=e,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(e,i,r,u){const h={result:null};return this.Rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Vs(e,i,u,r).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new QA;return this.fs(e,i,d).next(p=>{if(h.result=p,this.Is)return this.gs(e,i,d,p.size)})}).next(()=>h.result)}gs(e,i,r,u){return r.documentReadCount<this.Es?(es()<=Mt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ns(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),F.resolve()):(es()<=Mt.DEBUG&&it("QueryEngine","Query:",ns(i),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.ds*u?(es()<=Mt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ns(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(i))):F.resolve())}Rs(e,i){if(by(i))return F.resolve(null);let r=Zn(i);return this.indexManager.getIndexType(e,r).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Bf(i,null,"F"),r=Zn(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next(h=>{const d=Dt(...h);return this.As.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,r).next(v=>{const _=this.ps(i,p);return this.ys(i,_,d,v.readTime)?this.Rs(e,Bf(i,null,"F")):this.ws(e,_,i,v)}))})))}Vs(e,i,r,u){return by(i)||u.isEqual(yt.min())?F.resolve(null):this.As.getDocuments(e,r).next(h=>{const d=this.ps(i,h);return this.ys(i,d,r,u)?F.resolve(null):(es()<=Mt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ns(i)),this.ws(e,d,i,m1(u,Bl)).next(p=>p))})}ps(e,i){let r=new Ae(G_(e));return i.forEach((u,h)=>{tc(e,h)&&(r=r.add(h))}),r}ys(e,i,r,u){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}fs(e,i,r){return es()<=Mt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ns(i)),this.As.getDocumentsMatchingQuery(e,i,fa.min(),r)}ws(e,i,r,u){return this.As.getDocumentsMatchingQuery(e,r,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="LocalStore",FA=3e8;class KA{constructor(e,i,r,u){this.persistence=e,this.bs=i,this.serializer=u,this.Ss=new ee(At),this.Ds=new sr(h=>id(h),ad),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zA(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ss))}}function XA(s,e,i,r){return new KA(s,e,i,r)}async function mv(s,e){const i=_t(s);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let u;return i.mutationQueue.getAllMutationBatches(r).next(h=>(u=h,i.Fs(e),i.mutationQueue.getAllMutationBatches(r))).next(h=>{const d=[],p=[];let v=Dt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next(_=>({Ms:_,removedBatchIds:d,addedBatchIds:p}))})})}function ZA(s,e){const i=_t(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const u=e.batch.keys(),h=i.Cs.newChangeBuffer({trackRemovals:!0});return function(p,v,_,A){const O=_.batch,I=O.keys();let G=F.resolve();return I.forEach(Z=>{G=G.next(()=>A.getEntry(v,Z)).next(nt=>{const J=_.docVersions.get(Z);qt(J!==null,48541),nt.version.compareTo(J)<0&&(O.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))})}),G.next(()=>p.mutationQueue.removeMutationBatch(v,O))}(i,r,e,h).next(()=>h.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let v=Dt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(r,u))})}function gv(s){const e=_t(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.ai.getLastRemoteSnapshotVersion(i))}function $A(s,e){const i=_t(s),r=e.snapshotVersion;let u=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});u=i.Ss;const p=[];e.targetChanges.forEach((A,O)=>{const I=u.get(O);if(!I)return;p.push(i.ai.removeMatchingKeys(h,A.removedDocuments,O).next(()=>i.ai.addMatchingKeys(h,A.addedDocuments,O)));let G=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(O)!==null?G=G.withResumeToken(Pe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),u=u.insert(O,G),function(nt,J,St){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=FA?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(I,G,A)&&p.push(i.ai.updateTargetData(h,G))});let v=Vi(),_=Dt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(JA(h,d,e.documentUpdates).next(A=>{v=A.xs,_=A.Os})),!r.isEqual(yt.min())){const A=i.ai.getLastRemoteSnapshotVersion(h).next(O=>i.ai.setTargetsMetadata(h,h.currentSequenceNumber,r));p.push(A)}return F.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Ss=u,h))}function JA(s,e,i){let r=Dt(),u=Dt();return i.forEach(h=>r=r.add(h)),e.getEntries(s,r).next(h=>{let d=Vi();return i.forEach((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(p)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):it(fd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)}),{xs:d,Os:u}})}function WA(s,e){const i=_t(s);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=td),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tS(s,e){const i=_t(s);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let u;return i.ai.getTargetData(r,e).next(h=>h?(u=h,F.resolve(u)):i.ai.allocateTargetId(r).next(d=>(u=new ra(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.ai.addTargetData(r,u).next(()=>u))))}).then(r=>{const u=i.Ss.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(r.targetId,r),i.Ds.set(e,r.targetId)),r})}async function Gf(s,e,i){const r=_t(s),u=r.Ss.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,d=>r.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!ys(d))throw d;it(fd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(u.target)}function Ly(s,e,i){const r=_t(s);let u=yt.min(),h=Dt();return r.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const O=_t(v),I=O.Ds.get(A);return I!==void 0?F.resolve(O.Ss.get(I)):O.ai.getTargetData(_,A)}(r,d,Zn(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(d,p.targetId).next(v=>{h=v})}).next(()=>r.bs.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?h:Dt())).next(p=>(eS(r,k1(e),p),{documents:p,Ns:h})))}function eS(s,e,i){let r=s.vs.get(e)||yt.min();i.forEach((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)}),s.vs.set(e,r)}class Py{constructor(){this.activeTargetIds=F1()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nS{constructor(){this.So=new Py,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,i,r){this.Do[e]=i}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Py,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="ConnectivityMonitor";class qy{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){it(By,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){it(By,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo=null;function Qf(){return bo===null?bo=function(){return 268435456+Math.round(2147483648*Math.random())}():bo++,"0x"+bo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="RestConnection",aS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rS{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+e.host,this.ko=`projects/${r}/databases/${u}`,this.qo=this.databaseId.database===Po?`project_id=${r}`:`project_id=${r}&database_id=${u}`}Qo(e,i,r,u,h){const d=Qf(),p=this.$o(e,i.toUriEncodedString());it(Rf,`Sending RPC '${e}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(v,u,h);const{host:_}=new URL(p),A=$f(_);return this.Ko(e,p,v,r,A).then(O=>(it(Rf,`Received RPC '${e}' ${d}: `,O),O),O=>{throw ls(Rf,`RPC '${e}' ${d} failed with error: `,O,"url: ",p,"request:",r),O})}Wo(e,i,r,u,h,d){return this.Qo(e,i,r,u,h)}Uo(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),r&&r.headers.forEach((u,h)=>e[h]=u)}$o(e,i){const r=aS[e];return`${this.Lo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class lS extends rS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,i,r,u,h){const d=Qf();return new Promise((p,v)=>{const _=new y_;_.setWithCredentials(!0),_.listenOnce(__.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Co.NO_ERROR:const O=_.getResponseJson();it(He,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(O)),p(O);break;case Co.TIMEOUT:it(He,`RPC '${e}' ${d} timed out`),v(new lt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:const I=_.getStatus();if(it(He,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G==null?void 0:G.error;if(Z&&Z.status&&Z.message){const nt=function(St){const gt=St.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(gt)>=0?gt:X.UNKNOWN}(Z.status);v(new lt(nt,Z.message))}else v(new lt(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new lt(X.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{s_:e,streamId:d,o_:_.getLastErrorCode(),__:_.getLastError()})}}finally{it(He,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);it(He,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,r,15)})}a_(e,i,r){const u=Qf(),h=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=T_(),p=E_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Uo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");it(He,`Creating RPC '${e}' stream ${u}: ${A}`,v);const O=d.createWebChannel(A,v);let I=!1,G=!1;const Z=new sS({Go:J=>{G?it(He,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(I||(it(He,`Opening RPC '${e}' stream ${u} transport.`),O.open(),I=!0),it(He,`RPC '${e}' stream ${u} sending:`,J),O.send(J))},zo:()=>O.close()}),nt=(J,St,gt)=>{J.listen(St,ft=>{try{gt(ft)}catch(xt){setTimeout(()=>{throw xt},0)}})};return nt(O,Vl.EventType.OPEN,()=>{G||(it(He,`RPC '${e}' stream ${u} transport opened.`),Z.t_())}),nt(O,Vl.EventType.CLOSE,()=>{G||(G=!0,it(He,`RPC '${e}' stream ${u} transport closed`),Z.r_())}),nt(O,Vl.EventType.ERROR,J=>{G||(G=!0,ls(He,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),Z.r_(new lt(X.UNAVAILABLE,"The operation could not be completed")))}),nt(O,Vl.EventType.MESSAGE,J=>{var St;if(!G){const gt=J.data[0];qt(!!gt,16349);const ft=gt,xt=(ft==null?void 0:ft.error)||((St=ft[0])===null||St===void 0?void 0:St.error);if(xt){it(He,`RPC '${e}' stream ${u} received error:`,xt);const vt=xt.status;let zt=function(w){const V=me[w];if(V!==void 0)return nv(V)}(vt),N=xt.message;zt===void 0&&(zt=X.INTERNAL,N="Unknown error status: "+vt+" with message "+xt.message),G=!0,Z.r_(new lt(zt,N)),O.close()}else it(He,`RPC '${e}' stream ${u} received:`,gt),Z.i_(gt)}}),nt(p,v_.STAT_EVENT,J=>{J.stat===Mf.PROXY?it(He,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===Mf.NOPROXY&&it(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.n_()},0),Z}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(s){return new hA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,i,r=1e3,u=1.5,h=6e4){this.bi=e,this.timerId=i,this.u_=r,this.c_=u,this.l_=h,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const i=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),u=Math.max(0,i-r);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,u,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="PersistentStream";class yv{constructor(e,i,r,u,h,d,p,v){this.bi=e,this.R_=r,this.V_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new pv(e,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Di(i.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,u])=>{this.m_===i&&this.B_(r,u)},r=>{e(()=>{const u=new lt(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(u)})})}B_(e,i){const r=this.N_(this.m_);this.stream=this.k_(e,i),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(u=>{r(()=>this.L_(u))}),this.stream.onMessage(u=>{r(()=>++this.p_==1?this.q_(u):this.onNext(u))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return it(ky,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return i=>{this.bi.enqueueAndForget(()=>this.m_===e?i():(it(ky,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uS extends yv{constructor(e,i,r,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}k_(e,i){return this.connection.a_("Listen",e,i)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const i=mA(this.serializer,e),r=function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?$n(d.readTime):yt.min()}(e);return this.listener.Q_(i,r)}U_(e){const i={};i.database=jf(this.serializer),i.addTarget=function(h,d){let p;const v=d.target;if(p=Pf(v)?{documents:yA(h,v)}:{query:_A(h,v).gt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=rv(h,d.resumeToken);const _=qf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Go(h,d.snapshotVersion.toTimestamp());const _=qf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const r=EA(this.serializer,e);r&&(i.labels=r),this.F_(i)}K_(e){const i={};i.database=jf(this.serializer),i.removeTarget=e,this.F_(i)}}class oS extends yv{constructor(e,i,r,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,i){return this.connection.a_("Write",e,i)}q_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const i=pA(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.j_(r,i)}H_(){const e={};e.database=jf(this.serializer),this.F_(e)}G_(e){const i={streamToken:this.lastStreamToken,writes:e.map(r=>gA(this.serializer,r))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{}class hS extends cS{constructor(e,i,r,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=u,this.J_=!1}Y_(){if(this.J_)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,i,r,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Qo(e,kf(i,r),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(X.UNKNOWN,h.toString())})}Wo(e,i,r,u,h){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Wo(e,kf(i,r),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(X.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class fS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Di(i),this.ea=!1):it("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="RemoteStore";class dS{constructor(e,i,r,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=h,this.ca.vo(d=>{r.enqueueAndForget(async()=>{ur(this)&&(it(rr,"Restarting streams for network reachability change."),await async function(v){const _=_t(v);_.aa.add(4),await Fl(_),_.la.set("Unknown"),_.aa.delete(4),await sc(_)}(this))})}),this.la=new fS(r,u)}}async function sc(s){if(ur(s))for(const e of s.ua)await e(!0)}async function Fl(s){for(const e of s.ua)await e(!1)}function _v(s,e){const i=_t(s);i._a.has(e.targetId)||(i._a.set(e.targetId,e),pd(i)?gd(i):_s(i).b_()&&md(i,e))}function dd(s,e){const i=_t(s),r=_s(i);i._a.delete(e),r.b_()&&vv(i,e),i._a.size===0&&(r.b_()?r.v_():ur(i)&&i.la.set("Unknown"))}function md(s,e){if(s.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}_s(s).U_(e)}function vv(s,e){s.ha.Ke(e),_s(s).K_(e)}function gd(s){s.ha=new lA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s._a.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),_s(s).start(),s.la.ta()}function pd(s){return ur(s)&&!_s(s).w_()&&s._a.size>0}function ur(s){return _t(s).aa.size===0}function Ev(s){s.ha=void 0}async function mS(s){s.la.set("Online")}async function gS(s){s._a.forEach((e,i)=>{md(s,e)})}async function pS(s,e){Ev(s),pd(s)?(s.la.ia(e),gd(s)):s.la.set("Unknown")}async function yS(s,e,i){if(s.la.set("Online"),e instanceof av&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u._a.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u._a.delete(p),u.ha.removeTarget(p))}(s,e)}catch(r){it(rr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yo(s,r)}else if(e instanceof Oo?s.ha.Xe(e):e instanceof iv?s.ha.ot(e):s.ha.nt(e),!i.isEqual(yt.min()))try{const r=await gv(s.localStore);i.compareTo(r)>=0&&await function(h,d){const p=h.ha.It(d);return p.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h._a.get(_);A&&h._a.set(_,A.withResumeToken(v.resumeToken,d))}}),p.targetMismatches.forEach((v,_)=>{const A=h._a.get(v);if(!A)return;h._a.set(v,A.withResumeToken(Pe.EMPTY_BYTE_STRING,A.snapshotVersion)),vv(h,v);const O=new ra(A.target,v,_,A.sequenceNumber);md(h,O)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(r){it(rr,"Failed to raise snapshot:",r),await Yo(s,r)}}async function Yo(s,e,i){if(!ys(e))throw e;s.aa.add(1),await Fl(s),s.la.set("Offline"),i||(i=()=>gv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(rr,"Retrying IndexedDB access"),await i(),s.aa.delete(1),await sc(s)})}function Tv(s,e){return e().catch(i=>Yo(s,i,e))}async function lc(s){const e=_t(s),i=pa(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:td;for(;_S(e);)try{const u=await WA(e.localStore,r);if(u===null){e.oa.length===0&&i.v_();break}r=u.batchId,vS(e,u)}catch(u){await Yo(e,u)}Av(e)&&Sv(e)}function _S(s){return ur(s)&&s.oa.length<10}function vS(s,e){s.oa.push(e);const i=pa(s);i.b_()&&i.W_&&i.G_(e.mutations)}function Av(s){return ur(s)&&!pa(s).w_()&&s.oa.length>0}function Sv(s){pa(s).start()}async function ES(s){pa(s).H_()}async function TS(s){const e=pa(s);for(const i of s.oa)e.G_(i.mutations)}async function AS(s,e,i){const r=s.oa.shift(),u=sd.from(r,e,i);await Tv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await lc(s)}async function SS(s,e){e&&pa(s).W_&&await async function(r,u){if(function(d){return rA(d)&&d!==X.ABORTED}(u.code)){const h=r.oa.shift();pa(r).D_(),await Tv(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,u)),await lc(r)}}(s,e),Av(s)&&Sv(s)}async function Hy(s,e){const i=_t(s);i.asyncQueue.verifyOperationInProgress(),it(rr,"RemoteStore received new credentials");const r=ur(i);i.aa.add(3),await Fl(i),r&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.aa.delete(3),await sc(i)}async function bS(s,e){const i=_t(s);e?(i.aa.delete(2),await sc(i)):e||(i.aa.add(2),await Fl(i),i.la.set("Unknown"))}function _s(s){return s.Pa||(s.Pa=function(i,r,u){const h=_t(i);return h.Y_(),new uS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{jo:mS.bind(null,s),Jo:gS.bind(null,s),Zo:pS.bind(null,s),Q_:yS.bind(null,s)}),s.ua.push(async e=>{e?(s.Pa.D_(),pd(s)?gd(s):s.la.set("Unknown")):(await s.Pa.stop(),Ev(s))})),s.Pa}function pa(s){return s.Ta||(s.Ta=function(i,r,u){const h=_t(i);return h.Y_(),new oS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{jo:()=>Promise.resolve(),Jo:ES.bind(null,s),Zo:SS.bind(null,s),z_:TS.bind(null,s),j_:AS.bind(null,s)}),s.ua.push(async e=>{e?(s.Ta.D_(),await lc(s)):(await s.Ta.stop(),s.oa.length>0&&(it(rr,`Stopping write stream with ${s.oa.length} pending writes`),s.oa=[]))})),s.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,i,r,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,u,h){const d=Date.now()+r,p=new yd(e,i,d,u,h);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _d(s,e){if(Di("AsyncQueue",`${e}: ${s}`),ys(s))return new lt(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{static emptySet(e){return new ss(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ot.comparator(i.key,r.key):(i,r)=>ot.comparator(i.key,r.key),this.keyedMap=Il(),this.sortedSet=new ee(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,r)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ss)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new ss;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.Ia=new ee(ot.comparator)}track(e){const i=e.doc.key,r=this.Ia.get(i);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(i,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(i):e.type===1&&r.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):dt(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(i,e)}da(){const e=[];return this.Ia.inorderTraversal((i,r)=>{e.push(r)}),e}}class fs{constructor(e,i,r,u,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new fs(e,i,ss.emptySet(i),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==r[u].type||!i[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class wS{constructor(){this.queries=Gy(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,r){const u=_t(i),h=u.queries;u.queries=Gy(),h.forEach((d,p)=>{for(const v of p.Ra)v.onError(r)})})(this,new lt(X.ABORTED,"Firestore shutting down"))}}function Gy(){return new sr(s=>j_(s),Wo)}async function CS(s,e){const i=_t(s);let r=3;const u=e.query;let h=i.queries.get(u);h?!h.Va()&&e.ma()&&(r=2):(h=new RS,r=e.ma()?0:1);try{switch(r){case 0:h.Aa=await i.onListen(u,!0);break;case 1:h.Aa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=_d(d,`Initialization of query '${ns(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.Ra.push(e),e.ga(i.onlineState),h.Aa&&e.pa(h.Aa)&&vd(i)}async function DS(s,e){const i=_t(s),r=e.query;let u=3;const h=i.queries.get(r);if(h){const d=h.Ra.indexOf(e);d>=0&&(h.Ra.splice(d,1),h.Ra.length===0?u=e.ma()?0:1:!h.Va()&&e.ma()&&(u=2))}switch(u){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function VS(s,e){const i=_t(s);let r=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.Ra)p.pa(u)&&(r=!0);d.Aa=u}}r&&vd(i)}function IS(s,e,i){const r=_t(s),u=r.queries.get(e);if(u)for(const h of u.Ra)h.onError(i);r.queries.delete(e)}function vd(s){s.fa.forEach(e=>{e.next()})}var Yf,Qy;(Qy=Yf||(Yf={})).ya="default",Qy.Cache="cache";class OS{constructor(e,i,r){this.query=e,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)u.type!==3&&r.push(u);e=new fs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ba?this.Da(e)&&(this.wa.next(e),i=!0):this.va(e,this.onlineState)&&(this.Ca(e),i=!0),this.Sa=e,i}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),i=!0),i}va(e,i){if(!e.fromCache||!this.ma())return!0;const r=i!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(e){e=fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Yf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.key=e}}class Rv{constructor(e){this.key=e}}class NS{constructor(e,i){this.query=e,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Dt(),this.mutatedKeys=Dt(),this.Ua=G_(e),this.Ka=new ss(this.Ua)}get Wa(){return this.qa}Ga(e,i){const r=i?i.za:new jy,u=i?i.Ka:this.Ka;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,O)=>{const I=u.get(A),G=tc(this.query,O)?O:null,Z=!!I&&this.mutatedKeys.has(I.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;I&&G?I.data.isEqual(G.data)?Z!==nt&&(r.track({type:3,doc:G}),J=!0):this.ja(I,G)||(r.track({type:2,doc:G}),J=!0,(v&&this.Ua(G,v)>0||_&&this.Ua(G,_)<0)&&(p=!0)):!I&&G?(r.track({type:0,doc:G}),J=!0):I&&!G&&(r.track({type:1,doc:I}),J=!0,(v||_)&&(p=!0)),J&&(G?(d=d.add(G),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{Ka:d,za:r,ys:p,mutatedKeys:h}}ja(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,u){const h=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const d=e.za.da();d.sort((A,O)=>function(G,Z){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:J})}};return nt(G)-nt(Z)}(A.type,O.type)||this.Ua(A.doc,O.doc)),this.Ha(r),u=u!=null&&u;const p=i&&!u?this.Ja():[],v=this.$a.size===0&&this.current&&!u?1:0,_=v!==this.Qa;return this.Qa=v,d.length!==0||_?{snapshot:new fs(this.query,e.Ka,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:p}:{Ya:p}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new jy,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Dt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const i=[];return e.forEach(r=>{this.$a.has(r)||i.push(new Rv(r))}),this.$a.forEach(r=>{e.has(r)||i.push(new bv(r))}),i}Xa(e){this.qa=e.Ns,this.$a=Dt();const i=this.Ga(e.documents);return this.applyChanges(i,!0)}eu(){return fs.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Ed="SyncEngine";class MS{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class xS{constructor(e){this.key=e,this.tu=!1}}class US{constructor(e,i,r,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new sr(p=>j_(p),Wo),this.iu=new Map,this.su=new Set,this.ou=new ee(ot.comparator),this._u=new Map,this.au=new od,this.uu={},this.cu=new Map,this.lu=hs.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function zS(s,e,i=!0){const r=Ov(s);let u;const h=r.ru.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.eu()):u=await wv(r,e,i,!0),u}async function LS(s,e){const i=Ov(s);await wv(i,e,!0,!1)}async function wv(s,e,i,r){const u=await tS(s.localStore,Zn(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await PS(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&_v(s.remoteStore,u),p}async function PS(s,e,i,r,u){s.Pu=(O,I,G)=>async function(nt,J,St,gt){let ft=J.view.Ga(St);ft.ys&&(ft=await Ly(nt.localStore,J.query,!1).then(({documents:N})=>J.view.Ga(N,ft)));const xt=gt&&gt.targetChanges.get(J.targetId),vt=gt&&gt.targetMismatches.get(J.targetId)!=null,zt=J.view.applyChanges(ft,nt.isPrimaryClient,xt,vt);return Fy(nt,J.targetId,zt.Ya),zt.snapshot}(s,O,I,G);const h=await Ly(s.localStore,e,!0),d=new NS(e,h.Ns),p=d.Ga(h.documents),v=Yl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",u),_=d.applyChanges(p,s.isPrimaryClient,v);Fy(s,i,_.Ya);const A=new MS(e,i,d);return s.ru.set(e,A),s.iu.has(i)?s.iu.get(i).push(e):s.iu.set(i,[e]),_.snapshot}async function BS(s,e,i){const r=_t(s),u=r.ru.get(e),h=r.iu.get(u.targetId);if(h.length>1)return r.iu.set(u.targetId,h.filter(d=>!Wo(d,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await Gf(r.localStore,u.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(u.targetId),i&&dd(r.remoteStore,u.targetId),Ff(r,u.targetId)}).catch(ps)):(Ff(r,u.targetId),await Gf(r.localStore,u.targetId,!0))}async function qS(s,e){const i=_t(s),r=i.ru.get(e),u=i.iu.get(r.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),dd(i.remoteStore,r.targetId))}async function kS(s,e,i){const r=KS(s);try{const u=await function(d,p){const v=_t(d),_=Te.now(),A=p.reduce((G,Z)=>G.add(Z.key),Dt());let O,I;return v.persistence.runTransaction("Locally write mutations","readwrite",G=>{let Z=Vi(),nt=Dt();return v.Cs.getEntries(G,A).next(J=>{Z=J,Z.forEach((St,gt)=>{gt.isValidDocument()||(nt=nt.add(St))})}).next(()=>v.localDocuments.getOverlayedDocuments(G,Z)).next(J=>{O=J;const St=[];for(const gt of p){const ft=tA(gt,O.get(gt.key).overlayedDocument);ft!=null&&St.push(new lr(gt.key,ft,U_(ft.value.mapValue),wi.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,St,p)}).next(J=>{I=J;const St=J.applyToLocalDocumentSet(O,nt);return v.documentOverlayCache.saveOverlays(G,J.batchId,St)})}).then(()=>({batchId:I.batchId,changes:Y_(O)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(u.batchId),function(d,p,v){let _=d.uu[d.currentUser.toKey()];_||(_=new ee(At)),_=_.insert(p,v),d.uu[d.currentUser.toKey()]=_}(r,u.batchId,i),await Kl(r,u.changes),await lc(r.remoteStore)}catch(u){const h=_d(u,"Failed to persist write");i.reject(h)}}async function Cv(s,e){const i=_t(s);try{const r=await $A(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i._u.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.tu=!0:u.modifiedDocuments.size>0?qt(d.tu,14607):u.removedDocuments.size>0&&(qt(d.tu,42227),d.tu=!1))}),await Kl(i,r,e)}catch(r){await ps(r)}}function Yy(s,e,i){const r=_t(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const u=[];r.ru.forEach((h,d)=>{const p=d.view.ga(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const v=_t(d);v.onlineState=p;let _=!1;v.queries.forEach((A,O)=>{for(const I of O.Ra)I.ga(p)&&(_=!0)}),_&&vd(v)}(r.eventManager,e),u.length&&r.nu.Q_(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HS(s,e,i){const r=_t(s);r.sharedClientState.updateQueryState(e,"rejected",i);const u=r._u.get(e),h=u&&u.key;if(h){let d=new ee(ot.comparator);d=d.insert(h,Ge.newNoDocument(h,yt.min()));const p=Dt().add(h),v=new ac(yt.min(),new Map,new ee(At),d,p);await Cv(r,v),r.ou=r.ou.remove(h),r._u.delete(e),Td(r)}else await Gf(r.localStore,e,!1).then(()=>Ff(r,e,i)).catch(ps)}async function jS(s,e){const i=_t(s),r=e.batch.batchId;try{const u=await ZA(i.localStore,e);Vv(i,r,null),Dv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Kl(i,u)}catch(u){await ps(u)}}async function GS(s,e,i){const r=_t(s);try{const u=await function(d,p){const v=_t(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next(O=>(qt(O!==null,37113),A=O.keys(),v.mutationQueue.removeMutationBatch(_,O))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(r.localStore,e);Vv(r,e,i),Dv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Kl(r,u)}catch(u){await ps(u)}}function Dv(s,e){(s.cu.get(e)||[]).forEach(i=>{i.resolve()}),s.cu.delete(e)}function Vv(s,e,i){const r=_t(s);let u=r.uu[r.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),r.uu[r.currentUser.toKey()]=u}}function Ff(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.iu.get(e))s.ru.delete(r),i&&s.nu.Tu(r,i);s.iu.delete(e),s.isPrimaryClient&&s.au.Ur(e).forEach(r=>{s.au.containsKey(r)||Iv(s,r)})}function Iv(s,e){s.su.delete(e.path.canonicalString());const i=s.ou.get(e);i!==null&&(dd(s.remoteStore,i),s.ou=s.ou.remove(e),s._u.delete(i),Td(s))}function Fy(s,e,i){for(const r of i)r instanceof bv?(s.au.addReference(r.key,e),QS(s,r)):r instanceof Rv?(it(Ed,"Document no longer in limbo: "+r.key),s.au.removeReference(r.key,e),s.au.containsKey(r.key)||Iv(s,r.key)):dt(19791,{Iu:r})}function QS(s,e){const i=e.key,r=i.path.canonicalString();s.ou.get(i)||s.su.has(r)||(it(Ed,"New document in limbo: "+i),s.su.add(r),Td(s))}function Td(s){for(;s.su.size>0&&s.ou.size<s.maxConcurrentLimboResolutions;){const e=s.su.values().next().value;s.su.delete(e);const i=new ot(Wt.fromString(e)),r=s.lu.next();s._u.set(r,new xS(i)),s.ou=s.ou.insert(i,r),_v(s.remoteStore,new ra(Zn(H_(i.path)),r,"TargetPurposeLimboResolution",Xo.le))}}async function Kl(s,e,i){const r=_t(s),u=[],h=[],d=[];r.ru.isEmpty()||(r.ru.forEach((p,v)=>{d.push(r.Pu(v,e,i).then(_=>{var A;if((_||i)&&r.isPrimaryClient){const O=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(v.targetId,O?"current":"not-current")}if(_){u.push(_);const O=hd.Ps(v.targetId,_);h.push(O)}}))}),await Promise.all(d),r.nu.Q_(u),await async function(v,_){const A=_t(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>F.forEach(_,I=>F.forEach(I.ls,G=>A.persistence.referenceDelegate.addReference(O,I.targetId,G)).next(()=>F.forEach(I.hs,G=>A.persistence.referenceDelegate.removeReference(O,I.targetId,G)))))}catch(O){if(!ys(O))throw O;it(fd,"Failed to update sequence numbers: "+O)}for(const O of _){const I=O.targetId;if(!O.fromCache){const G=A.Ss.get(I),Z=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(Z);A.Ss=A.Ss.insert(I,nt)}}}(r.localStore,h))}async function YS(s,e){const i=_t(s);if(!i.currentUser.isEqual(e)){it(Ed,"User change. New user:",e.toKey());const r=await mv(i.localStore,e);i.currentUser=e,function(h,d){h.cu.forEach(p=>{p.forEach(v=>{v.reject(new lt(X.CANCELLED,d))})}),h.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kl(i,r.Ms)}}function FS(s,e){const i=_t(s),r=i._u.get(e);if(r&&r.tu)return Dt().add(r.key);{let u=Dt();const h=i.iu.get(e);if(!h)return u;for(const d of h){const p=i.ru.get(d);u=u.unionWith(p.view.Wa)}return u}}function Ov(s){const e=_t(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HS.bind(null,e),e.nu.Q_=VS.bind(null,e.eventManager),e.nu.Tu=IS.bind(null,e.eventManager),e}function KS(s){const e=_t(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GS.bind(null,e),e}class Fo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,i){return null}fu(e,i){return null}Vu(e){return XA(this.persistence,new YA,e.initialUser,this.serializer)}Ru(e){return new dv(cd.Ei,this.serializer)}Au(e){return new nS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fo.provider={build:()=>new Fo};class XS extends Fo{constructor(e){super(),this.cacheSizeBytes=e}mu(e,i){qt(this.persistence.referenceDelegate instanceof Qo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new OA(r,e.asyncQueue,i)}Ru(e){const i=this.cacheSizeBytes!==void 0?Je.withCacheSize(this.cacheSizeBytes):Je.DEFAULT;return new dv(r=>Qo.Ei(r,i),this.serializer)}}class Kf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Yy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YS.bind(null,this.syncEngine),await bS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wS}()}createDatastore(e){const i=rc(e.databaseInfo.databaseId),r=function(h){return new lS(h)}(e.databaseInfo);return function(h,d,p,v){return new hS(h,d,p,v)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,u,h,d,p){return new dS(r,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>Yy(this.syncEngine,i,0),function(){return qy.C()?new qy:new iS}())}createSyncEngine(e,i){return function(u,h,d,p,v,_,A){const O=new US(u,h,d,p,v,_);return A&&(O.hu=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=_t(u);it(rr,"RemoteStore shutting down."),h.aa.add(5),await Fl(h),h.ca.shutdown(),h.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Kf.provider={build:()=>new Kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="FirestoreClient";class $S{constructor(e,i,r,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=u,this.user=je.UNAUTHENTICATED,this.clientId=R_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,async d=>{it(ya,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(it(ya,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=_d(i,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cf(s,e){s.asyncQueue.verifyOperationInProgress(),it(ya,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener(async u=>{r.isEqual(u)||(await mv(e.localStore,u),r=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Ky(s,e){s.asyncQueue.verifyOperationInProgress();const i=await JS(s);it(ya,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(r=>Hy(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,u)=>Hy(e.remoteStore,u)),s._onlineComponents=e}async function JS(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(ya,"Using user provided OfflineComponentProvider");try{await Cf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ls("Error using user provided cache. Falling back to memory cache: "+i),await Cf(s,new Fo)}}else it(ya,"Using default OfflineComponentProvider"),await Cf(s,new XS(void 0));return s._offlineComponents}async function Nv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(ya,"Using user provided OnlineComponentProvider"),await Ky(s,s._uninitializedComponentsProvider._online)):(it(ya,"Using default OnlineComponentProvider"),await Ky(s,new Kf))),s._onlineComponents}function WS(s){return Nv(s).then(e=>e.syncEngine)}async function tb(s){const e=await Nv(s),i=e.eventManager;return i.onListen=zS.bind(null,e.syncEngine),i.onUnlisten=BS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=LS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=qS.bind(null,e.syncEngine),i}function eb(s,e,i={}){const r=new oa;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,p,v,_){const A=new ZS({next:I=>{A.yu(),d.enqueueAndForget(()=>DS(h,O)),I.fromCache&&v.source==="server"?_.reject(new lt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),O=new OS(p,A,{includeMetadataChanges:!0,Fa:!0});return CS(h,O)}(await tb(s),s.asyncQueue,e,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(s,e,i){if(!i)throw new lt(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function nb(s,e,i,r){if(e===!0&&r===!0)throw new lt(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Zy(s){if(!ot.isDocumentKey(s))throw new lt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $y(s){if(ot.isDocumentKey(s))throw new lt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ad(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function Ql(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new lt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ad(s);throw new lt(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="firestore.googleapis.com",Jy=!0;class Wy{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uv,this.ssl=Jy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Jy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VA)throw new lt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,u){return r.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uc{constructor(e,i,r,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new r1;switch(r.type){case"firstParty":return new o1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,u_("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=Xy.get(i);r&&(it("ComponentProvider","Removing Datastore"),Xy.delete(i),r.terminate())}(this),Promise.resolve()}}function ib(s,e,i,r={}){var u;s=Ql(s,uc);const h=$f(e),d=s._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),v=`${e}:${i}`;d.host!==Uv&&d.host!==v&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:r});if(!xo(_,p)&&(s._setSettings(_),h&&(UE(`https://${v}`),u_("Firestore",!0)),r.mockUserToken)){let A,O;if(typeof r.mockUserToken=="string")A=r.mockUserToken,O=je.MOCK_USER;else{A=zE(r.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new lt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new je(I)}s._authCredentials=new s1(new S_(A,O))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oc(this.firestore,e,this._query)}}class bn{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class ca extends oc{constructor(e,i,r){super(e,i,H_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ot(e))}withConverter(e){return new ca(this.firestore,e,this._path)}}function ab(s,e,...i){if(s=ha(s),xv("collection","path",e),s instanceof uc){const r=Wt.fromString(e,...i);return $y(r),new ca(s,null,r)}{if(!(s instanceof bn||s instanceof ca))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return $y(r),new ca(s.firestore,null,r)}}function rb(s,e,...i){if(s=ha(s),arguments.length===1&&(e=R_.newId()),xv("doc","path",e),s instanceof uc){const r=Wt.fromString(e,...i);return Zy(r),new bn(s,null,new ot(r))}{if(!(s instanceof bn||s instanceof ca))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return Zy(r),new bn(s.firestore,s instanceof ca?s.converter:null,new ot(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="AsyncQueue";class e_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new pv(this,"async_queue_retry"),this.ju=()=>{const r=wf();r&&it(t_,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const i=wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const i=wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new oa;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ys(e))throw e;it(t_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const i=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Di("INTERNAL UNHANDLED ERROR: ",n_(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=i,i}enqueueAfterDelay(e,i,r){this.Ju(),this.zu.indexOf(e)>-1&&(i=0);const u=yd.createAndSchedule(this,e,i,r,h=>this.Xu(h));return this.Uu.push(u),u}Ju(){this.Ku&&dt(47125,{ec:n_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const i of this.Uu)if(i.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const i=this.Uu.indexOf(e);this.Uu.splice(i,1)}}function n_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Sd extends uc{constructor(e,i,r,u){super(e,i,r,u),this.type="firestore",this._queue=new e_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e_(e),this._firestoreClient=void 0,await e}}}function sb(s,e){const i=typeof s=="object"?s:KT(),r=typeof s=="string"?s:Po,u=jT(i,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=ME("firestore");h&&ib(u,...h)}return u}function zv(s){if(s._terminated)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||lb(s),s._firestoreClient}function lb(s){var e,i,r;const u=s._freezeSettings(),h=function(p,v,_,A){return new b1(p,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Mv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=u.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new $S(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ds(Pe.fromBase64String(e))}catch(i){throw new lt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ds(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Le(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=/^__.*__$/;class Lv{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new lr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Pv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{oc:s})}}class Cd{constructor(e,i,r,u,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=u,h===void 0&&this._c(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Cd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ac({path:r,cc:!1});return u.lc(e),u}hc(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ac({path:r,cc:!1});return u._c(),u}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ko(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Pv(this.oc)&&ub.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class ob{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||rc(e)}dc(e,i,r,u=!1){return new Cd({oc:e,methodName:i,Ec:r,path:Le.emptyPath(),cc:!1,Ic:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cb(s){const e=s._freezeSettings(),i=rc(s._databaseId);return new ob(s._databaseId,!!e.ignoreUndefinedProperties,i)}class hc extends bd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hc}}function hb(s,e,i,r){const u=s.dc(1,e,i);qv("Data must be an object, but it was:",u,r);const h=[],d=on.empty();_a(r,(v,_)=>{const A=Dd(e,v,i);_=ha(_);const O=u.hc(A);if(_ instanceof hc)h.push(A);else{const I=fc(_,O);I!=null&&(h.push(A),d.set(A,I))}});const p=new On(h);return new Lv(d,p,u.fieldTransforms)}function fb(s,e,i,r,u,h){const d=s.dc(1,e,i),p=[i_(e,r,i)],v=[u];if(h.length%2!=0)throw new lt(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)p.push(i_(e,h[I])),v.push(h[I+1]);const _=[],A=on.empty();for(let I=p.length-1;I>=0;--I)if(!gb(_,p[I])){const G=p[I];let Z=v[I];Z=ha(Z);const nt=d.hc(G);if(Z instanceof hc)_.push(G);else{const J=fc(Z,nt);J!=null&&(_.push(G),A.set(G,J))}}const O=new On(_);return new Lv(A,O,d.fieldTransforms)}function fc(s,e){if(Bv(s=ha(s)))return qv("Unsupported field value:",e,s),db(s,e);if(s instanceof bd)return function(r,u){if(!Pv(u.oc))throw u.Tc(`${r._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Tc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,u){const h=[];let d=0;for(const p of r){let v=fc(p,u.Pc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(s,e)}return function(r,u){if((r=ha(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return K1(u.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Te.fromDate(r);return{timestampValue:Go(u.serializer,h)}}if(r instanceof Te){const h=new Te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Go(u.serializer,h)}}if(r instanceof Rd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ds)return{bytesValue:rv(u.serializer,r._byteString)};if(r instanceof bn){const h=u.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw u.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ud(r.firestore._databaseId||u.databaseId,r._key.path)}}if(r instanceof wd)return function(d,p){return{mapValue:{fields:{[M_]:{stringValue:x_},[Bo]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw p.Tc("VectorValues must only contain numeric values.");return rd(p.serializer,_)})}}}}}}(r,u);throw u.Tc(`Unsupported field value: ${Ad(r)}`)}(s,e)}function db(s,e){const i={};return C_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(s,(r,u)=>{const h=fc(u,e.uc(r));h!=null&&(i[r]=h)}),{mapValue:{fields:i}}}function Bv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Te||s instanceof Rd||s instanceof ds||s instanceof bn||s instanceof bd||s instanceof wd)}function qv(s,e,i){if(!Bv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const r=Ad(i);throw r==="an object"?e.Tc(s+" a custom object"):e.Tc(s+" "+r)}}function i_(s,e,i){if((e=ha(e))instanceof cc)return e._internalPath;if(typeof e=="string")return Dd(s,e);throw Ko("Field path arguments must be of type string or ",s,!1,void 0,i)}const mb=new RegExp("[~\\*/\\[\\]]");function Dd(s,e,i){if(e.search(mb)>=0)throw Ko(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new cc(...e.split("."))._internalPath}catch{throw Ko(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ko(s,e,i,r,u){const h=r&&!r.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${u}`),v+=")"),new lt(X.INVALID_ARGUMENT,p+s+v)}function gb(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,i,r,u,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Hv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class pb extends kv{data(){return super.data()}}function Hv(s,e){return typeof e=="string"?Dd(s,e):e instanceof cc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _b{convertValue(e,i="none"){switch(ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return _a(e,(u,h)=>{r[u]=this.convertValue(h,i)}),r}convertVectorValue(e){var i,r,u;const h=(u=(r=(i=e.fields)===null||i===void 0?void 0:i[Bo].arrayValue)===null||r===void 0?void 0:r.values)===null||u===void 0?void 0:u.map(d=>oe(d.doubleValue));return new wd(h)}convertGeoPoint(e){return new Rd(oe(e.latitude),oe(e.longitude))}convertArray(e,i){return(e.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(e,i){switch(i){case"previous":const r=$o(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const i=da(e);return new Te(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Wt.fromString(e);qt(hv(r),9688,{name:e});const u=new kl(r.get(1),r.get(3)),h=new ot(r.popFirst(5));return u.isEqual(i)||Di(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vb extends kv{constructor(e,i,r,u,h,d){super(e,i,r,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new No(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Hv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class No extends vb{data(e={}){return super.data(e)}}class Eb{constructor(e,i,r,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ro(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(r=>{e.call(i,new No(this._firestore,this._userDataWriter,r.key,r,new Ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const v=new No(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Ro(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const v=new No(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Ro(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Tb(p.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Tb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}class Ab extends _b{constructor(e){super(),this.firestore=e}convertBytes(e){return new ds(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,i)}}function Sb(s){s=Ql(s,oc);const e=Ql(s.firestore,Sd),i=zv(e),r=new Ab(e);return yb(s._query),eb(i,s._query).then(u=>new Eb(e,r,s,u))}function bb(s,e,i,...r){s=Ql(s,bn);const u=Ql(s.firestore,Sd),h=cb(u);let d;return d=typeof(e=ha(e))=="string"||e instanceof cc?fb(h,"updateDoc",s._key,e,i,r):hb(h,"updateDoc",s._key,e),Rb(u,[d.toMutation(s._key,wi.exists(!0))])}function Rb(s,e){return function(r,u){const h=new oa;return r.asyncQueue.enqueueAndForget(async()=>kS(await WS(r),u,h)),h.promise}(zv(s),e)}(function(e,i=!0){(function(u){gs=u})(FT),zo(new Ll("firestore",(r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new Sd(new l1(r.getProvider("auth-internal")),new c1(d,r.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),rs(ly,uy,e),rs(ly,uy,"esm2017")})();var wb="firebase",Cb="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(wb,Cb,"app");const Db={apiKey:"AIzaSyDsytFAFbdEl9CQPpnO9FvOOJTsZsOOhBQ",authDomain:"dsa-sheet-todo-list.firebaseapp.com",projectId:"dsa-sheet-todo-list",storageBucket:"dsa-sheet-todo-list.firebasestorage.app",messagingSenderId:"180934472052",appId:"1:180934472052:web:b3466509439a3358c77c21",measurementId:"G-FGXEE8FFJX"},Vb=d_(Db),a_=sb(Vb),Ib=()=>{const[s,e]=wo.useState({}),[i,r]=wo.useState({});wo.useEffect(()=>{Sb(ab(a_,"love_babbar_sheet")).then(d=>{const p=d.docs.map(_=>({id:_.id,..._.data()})),v={};p.forEach(_=>{v[_.topic]||(v[_.topic]=[]),v[_.topic].push(_)}),e(v)})},[]);const u=(d,p)=>{const v=rb(a_,"love_babbar_sheet",d);bb(v,{practiced:!p}),e(_=>{const A={..._};for(const O in A)A[O]=A[O].map(I=>I.id===d?{...I,practiced:!p}:I);return A})},h=d=>{r(p=>({...p,[d]:!p[d]}))};return Sn.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[Sn.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-800 dark:text-gray-100",children:"Love Babbar DSA Sheet"}),Object.entries(s).map(([d,p])=>Sn.jsxs("div",{className:"mb-6 border rounded-lg shadow-sm dark:border-gray-700",children:[Sn.jsxs("button",{onClick:()=>h(d),className:"w-full flex justify-between items-center px-4 py-3 text-left font-semibold text-lg bg-gray-100 dark:bg-gray-800 dark:text-gray-100",children:[d,Sn.jsx("span",{children:i[d]?"▲":"▼"})]}),i[d]&&Sn.jsx("ul",{className:"divide-y dark:divide-gray-700",children:p.map(v=>Sn.jsxs("li",{className:"flex justify-between items-center px-4 py-3 bg-white dark:bg-gray-900",children:[Sn.jsx("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",className:`text-blue-600 hover:underline flex-1 ${v.practiced?"line-through text-gray-400":"text-gray-900 dark:text-gray-100"}`,children:v.question}),Sn.jsx("input",{type:"checkbox",checked:v.practiced,onChange:()=>u(v.id,v.practiced),className:"w-5 h-5 cursor-pointer accent-green-600"})]},v.id))})]},d))]})};function Ob(){return Sn.jsx(Ib,{})}AE.createRoot(document.getElementById("root")).render(Sn.jsx(wo.StrictMode,{children:Sn.jsx(Ob,{})}));
