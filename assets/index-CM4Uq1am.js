(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function FA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yd={exports:{}},ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function KA(){if(a_)return ol;a_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return ol.Fragment=t,ol.jsx=n,ol.jsxs=n,ol}var o_;function QA(){return o_||(o_=1,yd.exports=KA()),yd.exports}var st=QA(),_d={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function YA(){if(l_)return St;l_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,nt={};function Z(C,Y,et){this.props=C,this.context=Y,this.refs=nt,this.updater=et||q}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function At(){}At.prototype=Z.prototype;function dt(C,Y,et){this.props=C,this.context=Y,this.refs=nt,this.updater=et||q}var ut=dt.prototype=new At;ut.constructor=dt,$(ut,Z.prototype),ut.isPureReactComponent=!0;var Mt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Vt=Object.prototype.hasOwnProperty;function M(C,Y,et,W,ct,Rt){return et=Rt.ref,{$$typeof:r,type:C,key:Y,ref:et!==void 0?et:null,props:Rt}}function S(C,Y){return M(C.type,Y,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function N(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return Y[et]})}var V=/\/+/g;function x(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):Y.toString(36)}function R(){}function Ve(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,Y,et,W,ct){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(Rt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case r:case t:_t=!0;break;case A:return _t=C._init,re(_t(C._payload),Y,et,W,ct)}}if(_t)return ct=ct(C),_t=W===""?"."+x(C,0):W,Mt(ct)?(et="",_t!=null&&(et=_t.replace(V,"$&/")+"/"),re(ct,Y,et,"",function(Bn){return Bn})):ct!=null&&(w(ct)&&(ct=S(ct,et+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(V,"$&/")+"/")+_t)),Y.push(ct)),1;_t=0;var Re=W===""?".":W+":";if(Mt(C))for(var Zt=0;Zt<C.length;Zt++)W=C[Zt],Rt=Re+x(W,Zt),_t+=re(W,Y,et,Rt,ct);else if(Zt=D(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(W=C.next()).done;)W=W.value,Rt=Re+x(W,Zt++),_t+=re(W,Y,et,Rt,ct);else if(Rt==="object"){if(typeof C.then=="function")return re(Ve(C),Y,et,W,ct);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return _t}function H(C,Y,et){if(C==null)return C;var W=[],ct=0;return re(C,W,"","",function(Rt){return Y.call(et,Rt,ct++)}),W}function tt(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function zt(){}return St.Children={map:H,forEach:function(C,Y,et){H(C,function(){Y.apply(this,arguments)},et)},count:function(C){var Y=0;return H(C,function(){Y++}),Y},toArray:function(C){return H(C,function(Y){return Y})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=Z,St.Fragment=n,St.Profiler=l,St.PureComponent=dt,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return vt.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,Y,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=$({},C.props),ct=C.key,Rt=void 0;if(Y!=null)for(_t in Y.ref!==void 0&&(Rt=void 0),Y.key!==void 0&&(ct=""+Y.key),Y)!Vt.call(Y,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Y.ref===void 0||(W[_t]=Y[_t]);var _t=arguments.length-2;if(_t===1)W.children=et;else if(1<_t){for(var Re=Array(_t),Zt=0;Zt<_t;Zt++)Re[Zt]=arguments[Zt+2];W.children=Re}return M(C.type,ct,void 0,void 0,Rt,W)},St.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},St.createElement=function(C,Y,et){var W,ct={},Rt=null;if(Y!=null)for(W in Y.key!==void 0&&(Rt=""+Y.key),Y)Vt.call(Y,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ct[W]=Y[W]);var _t=arguments.length-2;if(_t===1)ct.children=et;else if(1<_t){for(var Re=Array(_t),Zt=0;Zt<_t;Zt++)Re[Zt]=arguments[Zt+2];ct.children=Re}if(C&&C.defaultProps)for(W in _t=C.defaultProps,_t)ct[W]===void 0&&(ct[W]=_t[W]);return M(C,Rt,void 0,void 0,null,ct)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:g,render:C}},St.isValidElement=w,St.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},St.memo=function(C,Y){return{$$typeof:_,type:C,compare:Y===void 0?null:Y}},St.startTransition=function(C){var Y=vt.T,et={};vt.T=et;try{var W=C(),ct=vt.S;ct!==null&&ct(et,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(zt,ot)}catch(Rt){ot(Rt)}finally{vt.T=Y}},St.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},St.use=function(C){return vt.H.use(C)},St.useActionState=function(C,Y,et){return vt.H.useActionState(C,Y,et)},St.useCallback=function(C,Y){return vt.H.useCallback(C,Y)},St.useContext=function(C){return vt.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,Y){return vt.H.useDeferredValue(C,Y)},St.useEffect=function(C,Y,et){var W=vt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,Y)},St.useId=function(){return vt.H.useId()},St.useImperativeHandle=function(C,Y,et){return vt.H.useImperativeHandle(C,Y,et)},St.useInsertionEffect=function(C,Y){return vt.H.useInsertionEffect(C,Y)},St.useLayoutEffect=function(C,Y){return vt.H.useLayoutEffect(C,Y)},St.useMemo=function(C,Y){return vt.H.useMemo(C,Y)},St.useOptimistic=function(C,Y){return vt.H.useOptimistic(C,Y)},St.useReducer=function(C,Y,et){return vt.H.useReducer(C,Y,et)},St.useRef=function(C){return vt.H.useRef(C)},St.useState=function(C){return vt.H.useState(C)},St.useSyncExternalStore=function(C,Y,et){return vt.H.useSyncExternalStore(C,Y,et)},St.useTransition=function(){return vt.H.useTransition()},St.version="19.1.0",St}var u_;function sm(){return u_||(u_=1,_d.exports=YA()),_d.exports}var le=sm();const Rs=FA(le);var vd={exports:{}},ll={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function XA(){return c_||(c_=1,function(r){function t(H,tt){var ot=H.length;H.push(tt);t:for(;0<ot;){var zt=ot-1>>>1,C=H[zt];if(0<l(C,tt))H[zt]=tt,H[ot]=C,ot=zt;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],ot=H.pop();if(ot!==tt){H[0]=ot;t:for(var zt=0,C=H.length,Y=C>>>1;zt<Y;){var et=2*(zt+1)-1,W=H[et],ct=et+1,Rt=H[ct];if(0>l(W,ot))ct<C&&0>l(Rt,W)?(H[zt]=Rt,H[ct]=ot,zt=ct):(H[zt]=W,H[et]=ot,zt=et);else if(ct<C&&0>l(Rt,ot))H[zt]=Rt,H[ct]=ot,zt=ct;else break t}}return tt}function l(H,tt){var ot=H.sortIndex-tt.sortIndex;return ot!==0?ot:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],A=1,I=null,D=3,q=!1,$=!1,nt=!1,Z=!1,At=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Mt(H){for(var tt=n(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=H)s(_),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=n(_)}}function vt(H){if(nt=!1,Mt(H),!$)if(n(p)!==null)$=!0,Vt||(Vt=!0,x());else{var tt=n(_);tt!==null&&re(vt,tt.startTime-H)}}var Vt=!1,M=-1,S=5,w=-1;function N(){return Z?!0:!(r.unstable_now()-w<S)}function V(){if(Z=!1,Vt){var H=r.unstable_now();w=H;var tt=!0;try{t:{$=!1,nt&&(nt=!1,dt(M),M=-1),q=!0;var ot=D;try{e:{for(Mt(H),I=n(p);I!==null&&!(I.expirationTime>H&&N());){var zt=I.callback;if(typeof zt=="function"){I.callback=null,D=I.priorityLevel;var C=zt(I.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){I.callback=C,Mt(H),tt=!0;break e}I===n(p)&&s(p),Mt(H)}else s(p);I=n(p)}if(I!==null)tt=!0;else{var Y=n(_);Y!==null&&re(vt,Y.startTime-H),tt=!1}}break t}finally{I=null,D=ot,q=!1}tt=void 0}}finally{tt?x():Vt=!1}}}var x;if(typeof ut=="function")x=function(){ut(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ve=R.port2;R.port1.onmessage=V,x=function(){Ve.postMessage(null)}}else x=function(){At(V,0)};function re(H,tt){M=At(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var tt=3;break;default:tt=D}var ot=D;D=tt;try{return H()}finally{D=ot}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=D;D=H;try{return tt()}finally{D=ot}},r.unstable_scheduleCallback=function(H,tt,ot){var zt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?zt+ot:zt):ot=zt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,H={id:A++,callback:tt,priorityLevel:H,startTime:ot,expirationTime:C,sortIndex:-1},ot>zt?(H.sortIndex=ot,t(_,H),n(p)===null&&H===n(_)&&(nt?(dt(M),M=-1):nt=!0,re(vt,ot-zt))):(H.sortIndex=C,t(p,H),$||q||($=!0,Vt||(Vt=!0,x()))),H},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(H){var tt=D;return function(){var ot=D;D=tt;try{return H.apply(this,arguments)}finally{D=ot}}}}(Td)),Td}var h_;function $A(){return h_||(h_=1,Ed.exports=XA()),Ed.exports}var Ad={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function ZA(){if(f_)return Ge;f_=1;var r=sm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:_,implementation:A}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,A)},Ge.flushSync=function(p){var _=f.T,A=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=A,s.d.f()}},Ge.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:D,fetchPriority:q}):A==="script"&&s.d.X(p,{crossOrigin:I,integrity:D,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Ge.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin);s.d.L(p,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,_){return p(_)},Ge.useFormState=function(p,_,A){return f.H.useFormState(p,_,A)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var d_;function WA(){if(d_)return Ad.exports;d_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ad.exports=ZA(),Ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function JA(){if(m_)return ll;m_=1;var r=$A(),t=sm(),n=WA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=d;break}if(E===o){v=!0,o=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,o=h;break}if(E===o){v=!0,o=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),At=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case Z:return"Profiler";case nt:return"StrictMode";case vt:return"Suspense";case Vt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case ut:return(e.displayName||"Context")+".Provider";case dt:return(e._context.displayName||"Context")+".Consumer";case Mt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:Ve(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return Ve(e(i))}catch{}}return null}var re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},zt=[],C=-1;function Y(e){return{current:e}}function et(e){0>C||(e.current=zt[C],zt[C]=null,C--)}function W(e,i){C++,zt[C]=e.current,e.current=i}var ct=Y(null),Rt=Y(null),_t=Y(null),Re=Y(null);function Zt(e,i){switch(W(_t,i),W(Rt,e),W(ct,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Py(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Py(i),e=xy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ct),W(ct,e)}function Bn(){et(ct),et(Rt),et(_t)}function Fi(e){e.memoizedState!==null&&W(Re,e);var i=ct.current,a=xy(i,e.type);i!==a&&(W(Rt,e),W(ct,a))}function ci(e){Rt.current===e&&(et(ct),et(Rt)),Re.current===e&&(et(Re),nl._currentValue=ot)}var Br=Object.prototype.hasOwnProperty,jr=r.unstable_scheduleCallback,qr=r.unstable_cancelCallback,Wa=r.unstable_shouldYield,jl=r.unstable_requestPaint,gn=r.unstable_now,ph=r.unstable_getCurrentPriorityLevel,Ja=r.unstable_ImmediatePriority,Us=r.unstable_UserBlockingPriority,Hr=r.unstable_NormalPriority,yh=r.unstable_LowPriority,Ls=r.unstable_IdlePriority,to=r.log,ql=r.unstable_setDisableYieldValue,se=null,Ht=null;function sn(e){if(typeof to=="function"&&ql(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,e)}catch{}}var qe=Math.clz32?Math.clz32:Gr,Hl=Math.log,_h=Math.LN2;function Gr(e){return e>>>=0,e===0?32:31-(Hl(e)/_h|0)|0}var Fr=256,Kr=4194304;function Nn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zs(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=Nn(o):(v&=E,v!==0?h=Nn(v):a||(a=E&~e,a!==0&&(h=Nn(a))))):(E=o&~d,E!==0?h=Nn(E):v!==0?h=Nn(v):a||(a=o&~e,a!==0&&(h=Nn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Qr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function eo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function no(){var e=Fr;return Fr<<=1,(Fr&4194048)===0&&(Fr=256),e}function io(){var e=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),e}function hi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function fi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ro(e,i,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-qe(a),K=1<<G;E[G]=0,b[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~K}o!==0&&jn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function jn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-qe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function so(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-qe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qi(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:t_(e.type))}function Gl(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var Jt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Jt,de="__reactProps$"+Jt,pn="__reactContainer$"+Jt,ao="__reactEvents$"+Jt,vh="__reactListeners$"+Jt,Yi="__reactHandles$"+Jt,Fl="__reactResources$"+Jt,Yr="__reactMarker$"+Jt;function Xi(e){delete e[_e],delete e[de],delete e[ao],delete e[vh],delete e[Yi]}function di(e){var i=e[_e];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pn]||a[_e]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=zy(e);e!==null;){if(a=e[_e])return a;e=zy(e)}return i}e=a,a=e.parentNode}return null}function qn(e){if(e=e[_e]||e[pn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Hn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Xe(e){var i=e[Fl];return i||(i=e[Fl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ue(e){e[Yr]=!0}var oo=new Set,js={};function Mn(e,i){mi(e,i),mi(e+"Capture",i)}function mi(e,i){for(js[e]=i,e=0;e<i.length;e++)oo.add(i[e])}var Kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Xr={};function Yl(e){return Br.call(Xr,e)?!0:Br.call(Ql,e)?!1:Kl.test(e)?Xr[e]=!0:(Ql[e]=!0,!1)}function $i(e,i,a){if(Yl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Pe(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var $r,Xl;function gi(e){if($r===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);$r=i&&i[1]||"",Xl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+e+Xl}var qs=!1;function Hs(e,i){if(!e||qs)return"";qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var G=`
`+b[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{qs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?gi(a):""}function lo(e){switch(e.tag){case 26:case 27:case 5:return gi(e.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Hs(e.type,!1);case 11:return Hs(e.type.render,!1);case 1:return Hs(e.type,!0);case 31:return gi("Activity");default:return""}}function Gs(e){try{var i="";do i+=lo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Eh(e){var i=uo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Fs(e){e._valueTracker||(e._valueTracker=Eh(e))}function co(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=uo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Th=/[\n"\\]/g;function me(e){return e.replace(Th,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function an(e,i,a,o,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Zi(e,v,$e(i)):a!=null?Zi(e,v,$e(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$e(E):e.removeAttribute("name")}function Wr(e,i,a,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+$e(a):"",i=i!=null?""+$e(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Zi(e,i,a){i==="number"&&Zr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function pi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+$e(a):""}function Jr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=$e(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function yn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $l(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||ts.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function ho(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&$l(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&$l(e,d,i[d])}function fo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(e){return Sh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var yi=null;function _n(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,vi=null;function mo(e){var i=qn(e);if(i&&(e=i.stateNode)){var a=e[de]||null;t:switch(e=i.stateNode,i.type){case"input":if(an(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[de]||null;if(!h)throw Error(s(90));an(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&co(o)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&pi(e,!!a.multiple,i,!1)}}}var Fn=!1;function Zl(e,i,a){if(Fn)return e(i,a);Fn=!0;try{var o=e(i);return o}finally{if(Fn=!1,(_i!==null||vi!==null)&&(Gu(),_i&&(i=_i,e=vi,vi=_i=null,mo(i),e)))for(i=0;i<e.length;i++)mo(e[i])}}function es(e,i){var a=e.stateNode;if(a===null)return null;var o=a[de]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Vn)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){vn=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{vn=!1}var Kn=null,Wi=null,Ei=null;function go(){if(Ei)return Ei;var e,i=Wi,a=i.length,o,h="value"in Kn?Kn.value:Kn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Ei=h.slice(e,1<o?1-o:void 0)}function Qn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function po(){return!1}function Ie(e){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yn:po,this.isPropagationStopped=po,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Ie(jt),is=A({},jt,{view:0,detail:0}),Wl=Ie(is),Ys,Xs,Xn,rs=A({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(Ys=e.screenX-Xn.screenX,Xs=e.screenY-Xn.screenY):Xs=Ys=0,Xn=e),Ys)},movementY:function(e){return"movementY"in e?e.movementY:Xs}}),En=Ie(rs),Jl=A({},rs,{dataTransfer:0}),bh=Ie(Jl),ss=A({},is,{relatedTarget:0}),$s=Ie(ss),yo=A({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=Ie(yo),tu=A({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ws=Ie(tu),wh=A({},jt,{data:0}),_o=Ie(wh),as={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=nu[e])?!!i[e]:!1}function os(){return vo}var iu=A({},is,{key:function(e){if(e.key){var i=as[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Js=Ie(iu),ru=A({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eo=Ie(ru),Ti=A({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),su=Ie(Ti),au=A({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ou=Ie(au),lu=A({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ta=Ie(lu),Ze=A({},jt,{newState:0,oldState:0}),uu=Ie(Ze),cu=[9,13,27,32],$n=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,y=Vn&&(!$n||u&&8<u&&11>=u),T=" ",k=!1;function j(e,i){switch(e){case"keyup":return cu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function ve(e,i){switch(e){case"compositionend":return J(i);case"keypress":return i.which!==32?null:(k=!0,T);case"textInput":return e=i.data,e===T&&k?null:e;default:return null}}function xt(e,i){if(Pt)return e==="compositionend"||!$n&&j(e,i)?(e=go(),Ei=Wi=Kn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ce[e.type]:i==="textarea"}function Ai(e,i,a,o){_i?vi?vi.push(o):vi=[o]:_i=o,i=$u(i,"onChange"),0<i.length&&(a=new Qs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var xe=null,Zn=null;function To(e){Dy(e,0)}function hu(e){var i=Hn(e);if(co(i))return e}function $m(e,i){if(e==="change")return i}var Zm=!1;if(Vn){var Rh;if(Vn){var Ih="oninput"in document;if(!Ih){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),Ih=typeof Wm.oninput=="function"}Rh=Ih}else Rh=!1;Zm=Rh&&(!document.documentMode||9<document.documentMode)}function Jm(){xe&&(xe.detachEvent("onpropertychange",tg),Zn=xe=null)}function tg(e){if(e.propertyName==="value"&&hu(Zn)){var i=[];Ai(i,Zn,e,_n(e)),Zl(To,i)}}function TT(e,i,a){e==="focusin"?(Jm(),xe=i,Zn=a,xe.attachEvent("onpropertychange",tg)):e==="focusout"&&Jm()}function AT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hu(Zn)}function ST(e,i){if(e==="click")return hu(i)}function bT(e,i){if(e==="input"||e==="change")return hu(i)}function wT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var on=typeof Object.is=="function"?Object.is:wT;function Ao(e,i){if(on(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Br.call(i,h)||!on(e[h],i[h]))return!1}return!0}function eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ng(e,i){var a=eg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=eg(a)}}function ig(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ig(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Zr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Zr(e.document)}return i}function Ch(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var RT=Vn&&"documentMode"in document&&11>=document.documentMode,ea=null,Dh=null,So=null,Oh=!1;function sg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Oh||ea==null||ea!==Zr(o)||(o=ea,"selectionStart"in o&&Ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),So&&Ao(So,o)||(So=o,o=$u(Dh,"onSelect"),0<o.length&&(i=new Qs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ea)))}function ls(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var na={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},Nh={},ag={};Vn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function us(e){if(Nh[e])return Nh[e];if(!na[e])return e;var i=na[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ag)return Nh[e]=i[a];return e}var og=us("animationend"),lg=us("animationiteration"),ug=us("animationstart"),IT=us("transitionrun"),CT=us("transitionstart"),DT=us("transitioncancel"),cg=us("transitionend"),hg=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function Pn(e,i){hg.set(e,i),Mn(i,[e])}var fg=new WeakMap;function Tn(e,i){if(typeof e=="object"&&e!==null){var a=fg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Gs(i)},fg.set(e,i),i)}return{value:e,source:i,stack:Gs(i)}}var An=[],ia=0,Vh=0;function fu(){for(var e=ia,i=Vh=ia=0;i<e;){var a=An[i];An[i++]=null;var o=An[i];An[i++]=null;var h=An[i];An[i++]=null;var d=An[i];if(An[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&dg(a,h,d)}}function du(e,i,a,o){An[ia++]=e,An[ia++]=i,An[ia++]=a,An[ia++]=o,Vh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ph(e,i,a,o){return du(e,i,a,o),mu(e)}function ra(e,i){return du(e,null,null,i),mu(e)}function dg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-qe(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function mu(e){if(50<Yo)throw Yo=0,jf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var sa={};function OT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,i,a,o){return new OT(e,i,a,o)}function xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Si(e,i){var a=e.alternate;return a===null?(a=ln(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function mg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function gu(e,i,a,o,h,d){var v=0;if(o=e,typeof e=="function")xh(e)&&(v=1);else if(typeof e=="string")v=MA(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=ln(31,a,i,h),e.elementType=w,e.lanes=d,e;case $:return cs(a.children,h,d,i);case nt:v=8,h|=24;break;case Z:return e=ln(12,a,i,h|2),e.elementType=Z,e.lanes=d,e;case vt:return e=ln(13,a,i,h),e.elementType=vt,e.lanes=d,e;case Vt:return e=ln(19,a,i,h),e.elementType=Vt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case At:case ut:v=10;break t;case dt:v=9;break t;case Mt:v=11;break t;case M:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=ln(v,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function cs(e,i,a,o){return e=ln(7,e,o,i),e.lanes=a,e}function kh(e,i,a){return e=ln(6,e,null,i),e.lanes=a,e}function Uh(e,i,a){return i=ln(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var aa=[],oa=0,pu=null,yu=0,Sn=[],bn=0,hs=null,bi=1,wi="";function fs(e,i){aa[oa++]=yu,aa[oa++]=pu,pu=e,yu=i}function gg(e,i,a){Sn[bn++]=bi,Sn[bn++]=wi,Sn[bn++]=hs,hs=e;var o=bi;e=wi;var h=32-qe(o)-1;o&=~(1<<h),a+=1;var d=32-qe(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,bi=1<<32-qe(i)+h|a<<h|o,wi=d+e}else bi=1<<d|a<<h|o,wi=e}function Lh(e){e.return!==null&&(fs(e,1),gg(e,1,0))}function zh(e){for(;e===pu;)pu=aa[--oa],aa[oa]=null,yu=aa[--oa],aa[oa]=null;for(;e===hs;)hs=Sn[--bn],Sn[bn]=null,wi=Sn[--bn],Sn[bn]=null,bi=Sn[--bn],Sn[bn]=null}var We=null,ae=null,Bt=!1,ds=null,Wn=!1,Bh=Error(s(519));function ms(e){var i=Error(s(418,""));throw Ro(Tn(i,e)),Bh}function pg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[_e]=e,i[de]=o,a){case"dialog":Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":case"embed":Dt("load",i);break;case"video":case"audio":for(a=0;a<$o.length;a++)Dt($o[a],i);break;case"source":Dt("error",i);break;case"img":case"image":case"link":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"input":Dt("invalid",i),Wr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Fs(i);break;case"select":Dt("invalid",i);break;case"textarea":Dt("invalid",i),Jr(i,o.value,o.defaultValue,o.children),Fs(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Vy(i.textContent,a)?(o.popover!=null&&(Dt("beforetoggle",i),Dt("toggle",i)),o.onScroll!=null&&Dt("scroll",i),o.onScrollEnd!=null&&Dt("scrollend",i),o.onClick!=null&&(i.onclick=Zu),i=!0):i=!1,i||ms(e)}function yg(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:We=We.return}}function bo(e){if(e!==We)return!1;if(!Bt)return yg(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||id(e.type,e.memoizedProps)),a=!a),a&&ae&&ms(e),yg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ae=kn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ae=null}}else i===27?(i=ae,mr(e.type)?(e=od,od=null,ae=e):ae=i):ae=We?kn(e.stateNode.nextSibling):null;return!0}function wo(){ae=We=null,Bt=!1}function _g(){var e=ds;return e!==null&&(en===null?en=e:en.push.apply(en,e),ds=null),e}function Ro(e){ds===null?ds=[e]:ds.push(e)}var jh=Y(null),gs=null,Ri=null;function Ji(e,i,a){W(jh,i._currentValue),i._currentValue=a}function Ii(e){e._currentValue=jh.current,et(jh)}function qh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Hh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),qh(d.return,a,e),o||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Io(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;on(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Re.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(nl):e=[nl])}h=h.return}e!==null&&Hh(i,e,a,o),i.flags|=262144}function _u(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ps(e){gs=e,Ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return vg(gs,e)}function vu(e,i){return gs===null&&ps(e),vg(e,i)}function vg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ri===null){if(e===null)throw Error(s(308));Ri=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ri=Ri.next=i;return a}var NT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},MT=r.unstable_scheduleCallback,VT=r.unstable_NormalPriority,Te={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new NT,data:new Map,refCount:0}}function Co(e){e.refCount--,e.refCount===0&&MT(VT,function(){e.controller.abort()})}var Do=null,Fh=0,la=0,ua=null;function PT(e,i){if(Do===null){var a=Do=[];Fh=0,la=Yf(),ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Fh++,i.then(Eg,Eg),i}function Eg(){if(--Fh===0&&Do!==null){ua!==null&&(ua.status="fulfilled");var e=Do;Do=null,la=0,ua=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function xT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Tg=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&PT(e,i),Tg!==null&&Tg(e,i)};var ys=Y(null);function Kh(){var e=ys.current;return e!==null?e:Wt.pooledCache}function Eu(e,i){i===null?W(ys,ys.current):W(ys,i.pool)}function Ag(){var e=Kh();return e===null?null:{parent:Te._currentValue,pool:e}}var Oo=Error(s(460)),Sg=Error(s(474)),Tu=Error(s(542)),Qh={then:function(){}};function bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Au(){}function wg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Au,Au),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ig(e),e;default:if(typeof i.status=="string")i.then(Au,Au);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ig(e),e}throw No=i,Oo}}var No=null;function Rg(){if(No===null)throw Error(s(459));var e=No;return No=null,e}function Ig(e){if(e===Oo||e===Tu)throw Error(s(483))}var tr=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=mu(e),dg(e,null,a),i}return du(e,o,i,a),mu(e)}function Mo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,so(e,a)}}function $h(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Zh=!1;function Vo(){if(Zh){var e=ua;if(e!==null)throw e}}function Po(e,i,a,o){Zh=!1;var h=e.updateQueue;tr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?d=L:v.next=L,v=b;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=b))}if(d!==null){var K=h.baseState;v=0,G=L=b=null,E=d;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(kt&z)===z:(o&z)===z){z!==0&&z===la&&(Zh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=e,ft=E;z=i;var Xt=a;switch(ft.tag){case 1:if(yt=ft.payload,typeof yt=="function"){K=yt.call(Xt,K,z);break t}K=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=ft.payload,z=typeof yt=="function"?yt.call(Xt,K,z):yt,z==null)break t;K=A({},K,z);break t;case 2:tr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=B,b=K):G=G.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(b=K),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),cr|=v,e.lanes=v,e.memoizedState=K}}function Cg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Dg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Cg(a[e],i)}var ca=Y(null),Su=Y(0);function Og(e,i){e=Pi,W(Su,e),W(ca,i),Pi=e|i.baseLanes}function Wh(){W(Su,Pi),W(ca,ca.current)}function Jh(){Pi=Su.current,et(ca),et(Su)}var ir=0,bt=null,Qt=null,ge=null,bu=!1,ha=!1,_s=!1,wu=0,xo=0,fa=null,kT=0;function ce(){throw Error(s(321))}function tf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!on(e[a],i[a]))return!1;return!0}function ef(e,i,a,o,h,d){return ir=d,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?dp:mp,_s=!1,d=a(o,h),_s=!1,ha&&(d=Mg(i,a,o,h)),Ng(e),d}function Ng(e){H.H=Nu;var i=Qt!==null&&Qt.next!==null;if(ir=0,ge=Qt=bt=null,bu=!1,xo=0,fa=null,i)throw Error(s(300));e===null||De||(e=e.dependencies,e!==null&&_u(e)&&(De=!0))}function Mg(e,i,a,o){bt=e;var h=0;do{if(ha&&(fa=null),xo=0,ha=!1,25<=h)throw Error(s(301));if(h+=1,ge=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=HT,d=i(a,o)}while(ha);return d}function UT(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?ko(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(bt.flags|=1024),i}function nf(){var e=wu!==0;return wu=0,e}function rf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function sf(e){if(bu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}bu=!1}ir=0,ge=Qt=bt=null,ha=!1,xo=wu=0,fa=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?bt.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Qt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=ge===null?bt.memoizedState:ge.next;if(i!==null)ge=i,Qt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?bt.memoizedState=ge=e:ge=ge.next=e}return ge}function af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(e){var i=xo;return xo+=1,fa===null&&(fa=[]),e=wg(fa,e,i),i=bt,(ge===null?i.memoizedState:ge.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?dp:mp),e}function Ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ko(e);if(e.$$typeof===ut)return He(e)}throw Error(s(438,String(e)))}function of(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=af(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=N;return i.index++,a}function Ci(e,i){return typeof i=="function"?i(e):i}function Iu(e){var i=pe();return lf(i,Qt,e)}function lf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,b=null,L=i,G=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(kt&K)===K:(ir&K)===K){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===la&&(G=!0);else if((ir&z)===z){L=L.next,z===la&&(G=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=K,v=d):b=b.next=K,bt.lanes|=z,cr|=z;K=L.action,_s&&a(d,K),d=L.hasEagerState?L.eagerState:a(d,K)}else z={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,v=d):b=b.next=z,bt.lanes|=K,cr|=K;L=L.next}while(L!==null&&L!==i);if(b===null?v=d:b.next=E,!on(d,e.memoizedState)&&(De=!0,G&&(a=ua,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=b,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function uf(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);on(d,i.memoizedState)||(De=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Vg(e,i,a){var o=bt,h=pe(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!on((Qt||h).memoizedState,a);v&&(h.memoizedState=a,De=!0),h=h.queue;var E=kg.bind(null,o,h,e);if(Uo(2048,8,E,[e]),h.getSnapshot!==i||v||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,da(9,Cu(),xg.bind(null,o,h,a,i),null),Wt===null)throw Error(s(349));d||(ir&124)!==0||Pg(o,i,a)}return a}function Pg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=af(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function xg(e,i,a,o){i.value=a,i.getSnapshot=o,Ug(i)&&Lg(e)}function kg(e,i,a){return a(function(){Ug(i)&&Lg(e)})}function Ug(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!on(e,a)}catch{return!0}}function Lg(e){var i=ra(e,2);i!==null&&dn(i,e,2)}function cf(e){var i=Je();if(typeof e=="function"){var a=e;if(e=a(),_s){sn(!0);try{a()}finally{sn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},i}function zg(e,i,a,o){return e.baseState=a,lf(e,Qt,typeof o=="function"?o:Ci)}function LT(e,i,a,o,h){if(Ou(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};H.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Bg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Bg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=H.T,v={};H.T=v;try{var E=a(h,o),b=H.S;b!==null&&b(v,E),jg(e,i,E)}catch(L){hf(e,i,L)}finally{H.T=d}}else try{d=a(h,o),jg(e,i,d)}catch(L){hf(e,i,L)}}function jg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){qg(e,i,o)},function(o){return hf(e,i,o)}):qg(e,i,a)}function qg(e,i,a){i.status="fulfilled",i.value=a,Hg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Bg(e,a)))}function hf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Hg(i),i=i.next;while(i!==o)}e.action=null}function Hg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Gg(e,i){return i}function Fg(e,i){if(Bt){var a=Wt.formState;if(a!==null){t:{var o=bt;if(Bt){if(ae){e:{for(var h=ae,d=Wn;h.nodeType!==8;){if(!d){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ae=kn(h.nextSibling),o=h.data==="F!";break t}}ms(o)}o=!1}o&&(i=a[0])}}return a=Je(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:i},a.queue=o,a=cp.bind(null,bt,o),o.dispatch=a,o=cf(!1),d=pf.bind(null,bt,!1,o.queue),o=Je(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=LT.bind(null,bt,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Kg(e){var i=pe();return Qg(i,Qt,e)}function Qg(e,i,a){if(i=lf(e,i,Gg)[0],e=Iu(Ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ko(i)}catch(v){throw v===Oo?Tu:v}else o=i;i=pe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,da(9,Cu(),zT.bind(null,h,a),null)),[o,d,e]}function zT(e,i){e.action=i}function Yg(e){var i=pe(),a=Qt;if(a!==null)return Qg(i,a,e);pe(),i=i.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function da(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=bt.updateQueue,i===null&&(i=af(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Cu(){return{destroy:void 0,resource:void 0}}function Xg(){return pe().memoizedState}function Du(e,i,a,o){var h=Je();o=o===void 0?null:o,bt.flags|=e,h.memoizedState=da(1|i,Cu(),a,o)}function Uo(e,i,a,o){var h=pe();o=o===void 0?null:o;var d=h.memoizedState.inst;Qt!==null&&o!==null&&tf(o,Qt.memoizedState.deps)?h.memoizedState=da(i,d,a,o):(bt.flags|=e,h.memoizedState=da(1|i,d,a,o))}function $g(e,i){Du(8390656,8,e,i)}function Zg(e,i){Uo(2048,8,e,i)}function Wg(e,i){return Uo(4,2,e,i)}function Jg(e,i){return Uo(4,4,e,i)}function tp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ep(e,i,a){a=a!=null?a.concat([e]):null,Uo(4,4,tp.bind(null,i,e),a)}function ff(){}function np(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&tf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function ip(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&tf(i,o[1]))return o[0];if(o=e(),_s){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[o,i],o}function df(e,i,a){return a===void 0||(ir&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=ay(),bt.lanes|=e,cr|=e,a)}function rp(e,i,a,o){return on(a,i)?a:ca.current!==null?(e=df(e,a,o),on(e,i)||(De=!0),e):(ir&42)===0?(De=!0,e.memoizedState=a):(e=ay(),bt.lanes|=e,cr|=e,i)}function sp(e,i,a,o,h){var d=tt.p;tt.p=d!==0&&8>d?d:8;var v=H.T,E={};H.T=E,pf(e,!1,i,a);try{var b=h(),L=H.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=xT(b,o);Lo(e,i,G,fn(e))}else Lo(e,i,o,fn(e))}catch(K){Lo(e,i,{then:function(){},status:"rejected",reason:K},fn())}finally{tt.p=d,H.T=v}}function BT(){}function mf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=ap(e).queue;sp(e,h,i,ot,a===null?BT:function(){return op(e),a(o)})}function ap(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:ot},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function op(e){var i=ap(e).next.queue;Lo(e,i,{},fn())}function gf(){return He(nl)}function lp(){return pe().memoizedState}function up(){return pe().memoizedState}function jT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=fn();e=er(a);var o=nr(i,e,a);o!==null&&(dn(o,i,a),Mo(o,i,a)),i={cache:Gh()},e.payload=i;return}i=i.return}}function qT(e,i,a){var o=fn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ou(e)?hp(i,a):(a=Ph(e,i,a,o),a!==null&&(dn(a,e,o),fp(a,i,o)))}function cp(e,i,a){var o=fn();Lo(e,i,a,o)}function Lo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ou(e))hp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,on(E,v))return du(e,i,h,0),Wt===null&&fu(),!1}catch{}finally{}if(a=Ph(e,i,h,o),a!==null)return dn(a,e,o),fp(a,i,o),!0}return!1}function pf(e,i,a,o){if(o={lane:2,revertLane:Yf(),action:o,hasEagerState:!1,eagerState:null,next:null},Ou(e)){if(i)throw Error(s(479))}else i=Ph(e,a,o,2),i!==null&&dn(i,e,2)}function Ou(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function hp(e,i){ha=bu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function fp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,so(e,a)}}var Nu={readContext:He,use:Ru,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},dp={readContext:He,use:Ru,useCallback:function(e,i){return Je().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:$g,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Du(4194308,4,tp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Du(4194308,4,e,i)},useInsertionEffect:function(e,i){Du(4,2,e,i)},useMemo:function(e,i){var a=Je();i=i===void 0?null:i;var o=e();if(_s){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=Je();if(a!==void 0){var h=a(i);if(_s){sn(!0);try{a(i)}finally{sn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=qT.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var i=Je();return e={current:e},i.memoizedState=e},useState:function(e){e=cf(e);var i=e.queue,a=cp.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:ff,useDeferredValue:function(e,i){var a=Je();return df(a,e,i)},useTransition:function(){var e=cf(!1);return e=sp.bind(null,bt,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=bt,h=Je();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(kt&124)!==0||Pg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,$g(kg.bind(null,o,d,e),[e]),o.flags|=2048,da(9,Cu(),xg.bind(null,o,d,a,i),null),a},useId:function(){var e=Je(),i=Wt.identifierPrefix;if(Bt){var a=wi,o=bi;a=(o&~(1<<32-qe(o)-1)).toString(32)+a,i=""+i+"R"+a,a=wu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=kT++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:gf,useFormState:Fg,useActionState:Fg,useOptimistic:function(e){var i=Je();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=pf.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:of,useCacheRefresh:function(){return Je().memoizedState=jT.bind(null,bt)}},mp={readContext:He,use:Ru,useCallback:np,useContext:He,useEffect:Zg,useImperativeHandle:ep,useInsertionEffect:Wg,useLayoutEffect:Jg,useMemo:ip,useReducer:Iu,useRef:Xg,useState:function(){return Iu(Ci)},useDebugValue:ff,useDeferredValue:function(e,i){var a=pe();return rp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Iu(Ci)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:ko(e),i]},useSyncExternalStore:Vg,useId:lp,useHostTransitionStatus:gf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,i){var a=pe();return zg(a,Qt,e,i)},useMemoCache:of,useCacheRefresh:up},HT={readContext:He,use:Ru,useCallback:np,useContext:He,useEffect:Zg,useImperativeHandle:ep,useInsertionEffect:Wg,useLayoutEffect:Jg,useMemo:ip,useReducer:uf,useRef:Xg,useState:function(){return uf(Ci)},useDebugValue:ff,useDeferredValue:function(e,i){var a=pe();return Qt===null?df(a,e,i):rp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=uf(Ci)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:ko(e),i]},useSyncExternalStore:Vg,useId:lp,useHostTransitionStatus:gf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e,i){var a=pe();return Qt!==null?zg(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:of,useCacheRefresh:up},ma=null,zo=0;function Mu(e){var i=zo;return zo+=1,ma===null&&(ma=[]),wg(ma,e,i)}function Bo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Vu(e,i){throw i.$$typeof===I?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function gp(e){var i=e._init;return i(e._payload)}function pp(e){function i(P,O){if(e){var U=P.deletions;U===null?(P.deletions=[O],P.flags|=16):U.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function o(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Si(P,O),P.index=0,P.sibling=null,P}function d(P,O,U){return P.index=U,e?(U=P.alternate,U!==null?(U=U.index,U<O?(P.flags|=67108866,O):U):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,O,U,F){return O===null||O.tag!==6?(O=kh(U,P.mode,F),O.return=P,O):(O=h(O,U),O.return=P,O)}function b(P,O,U,F){var rt=U.type;return rt===$?G(P,O,U.props.children,F,U.key):O!==null&&(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&gp(rt)===O.type)?(O=h(O,U.props),Bo(O,U),O.return=P,O):(O=gu(U.type,U.key,U.props,null,P.mode,F),Bo(O,U),O.return=P,O)}function L(P,O,U,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Uh(U,P.mode,F),O.return=P,O):(O=h(O,U.children||[]),O.return=P,O)}function G(P,O,U,F,rt){return O===null||O.tag!==7?(O=cs(U,P.mode,F,rt),O.return=P,O):(O=h(O,U),O.return=P,O)}function K(P,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=kh(""+O,P.mode,U),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return U=gu(O.type,O.key,O.props,null,P.mode,U),Bo(U,O),U.return=P,U;case q:return O=Uh(O,P.mode,U),O.return=P,O;case S:var F=O._init;return O=F(O._payload),K(P,O,U)}if(re(O)||x(O))return O=cs(O,P.mode,U,null),O.return=P,O;if(typeof O.then=="function")return K(P,Mu(O),U);if(O.$$typeof===ut)return K(P,vu(P,O),U);Vu(P,O)}return null}function z(P,O,U,F){var rt=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return rt!==null?null:E(P,O,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case D:return U.key===rt?b(P,O,U,F):null;case q:return U.key===rt?L(P,O,U,F):null;case S:return rt=U._init,U=rt(U._payload),z(P,O,U,F)}if(re(U)||x(U))return rt!==null?null:G(P,O,U,F,null);if(typeof U.then=="function")return z(P,O,Mu(U),F);if(U.$$typeof===ut)return z(P,O,vu(P,U),F);Vu(P,U)}return null}function B(P,O,U,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return P=P.get(U)||null,E(O,P,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case D:return P=P.get(F.key===null?U:F.key)||null,b(O,P,F,rt);case q:return P=P.get(F.key===null?U:F.key)||null,L(O,P,F,rt);case S:var It=F._init;return F=It(F._payload),B(P,O,U,F,rt)}if(re(F)||x(F))return P=P.get(U)||null,G(O,P,F,rt,null);if(typeof F.then=="function")return B(P,O,U,Mu(F),rt);if(F.$$typeof===ut)return B(P,O,U,vu(O,F),rt);Vu(O,F)}return null}function yt(P,O,U,F){for(var rt=null,It=null,at=O,mt=O=0,Ne=null;at!==null&&mt<U.length;mt++){at.index>mt?(Ne=at,at=null):Ne=at.sibling;var Lt=z(P,at,U[mt],F);if(Lt===null){at===null&&(at=Ne);break}e&&at&&Lt.alternate===null&&i(P,at),O=d(Lt,O,mt),It===null?rt=Lt:It.sibling=Lt,It=Lt,at=Ne}if(mt===U.length)return a(P,at),Bt&&fs(P,mt),rt;if(at===null){for(;mt<U.length;mt++)at=K(P,U[mt],F),at!==null&&(O=d(at,O,mt),It===null?rt=at:It.sibling=at,It=at);return Bt&&fs(P,mt),rt}for(at=o(at);mt<U.length;mt++)Ne=B(at,P,mt,U[mt],F),Ne!==null&&(e&&Ne.alternate!==null&&at.delete(Ne.key===null?mt:Ne.key),O=d(Ne,O,mt),It===null?rt=Ne:It.sibling=Ne,It=Ne);return e&&at.forEach(function(vr){return i(P,vr)}),Bt&&fs(P,mt),rt}function ft(P,O,U,F){if(U==null)throw Error(s(151));for(var rt=null,It=null,at=O,mt=O=0,Ne=null,Lt=U.next();at!==null&&!Lt.done;mt++,Lt=U.next()){at.index>mt?(Ne=at,at=null):Ne=at.sibling;var vr=z(P,at,Lt.value,F);if(vr===null){at===null&&(at=Ne);break}e&&at&&vr.alternate===null&&i(P,at),O=d(vr,O,mt),It===null?rt=vr:It.sibling=vr,It=vr,at=Ne}if(Lt.done)return a(P,at),Bt&&fs(P,mt),rt;if(at===null){for(;!Lt.done;mt++,Lt=U.next())Lt=K(P,Lt.value,F),Lt!==null&&(O=d(Lt,O,mt),It===null?rt=Lt:It.sibling=Lt,It=Lt);return Bt&&fs(P,mt),rt}for(at=o(at);!Lt.done;mt++,Lt=U.next())Lt=B(at,P,mt,Lt.value,F),Lt!==null&&(e&&Lt.alternate!==null&&at.delete(Lt.key===null?mt:Lt.key),O=d(Lt,O,mt),It===null?rt=Lt:It.sibling=Lt,It=Lt);return e&&at.forEach(function(GA){return i(P,GA)}),Bt&&fs(P,mt),rt}function Xt(P,O,U,F){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case D:t:{for(var rt=U.key;O!==null;){if(O.key===rt){if(rt=U.type,rt===$){if(O.tag===7){a(P,O.sibling),F=h(O,U.props.children),F.return=P,P=F;break t}}else if(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&gp(rt)===O.type){a(P,O.sibling),F=h(O,U.props),Bo(F,U),F.return=P,P=F;break t}a(P,O);break}else i(P,O);O=O.sibling}U.type===$?(F=cs(U.props.children,P.mode,F,U.key),F.return=P,P=F):(F=gu(U.type,U.key,U.props,null,P.mode,F),Bo(F,U),F.return=P,P=F)}return v(P);case q:t:{for(rt=U.key;O!==null;){if(O.key===rt)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(P,O.sibling),F=h(O,U.children||[]),F.return=P,P=F;break t}else{a(P,O);break}else i(P,O);O=O.sibling}F=Uh(U,P.mode,F),F.return=P,P=F}return v(P);case S:return rt=U._init,U=rt(U._payload),Xt(P,O,U,F)}if(re(U))return yt(P,O,U,F);if(x(U)){if(rt=x(U),typeof rt!="function")throw Error(s(150));return U=rt.call(U),ft(P,O,U,F)}if(typeof U.then=="function")return Xt(P,O,Mu(U),F);if(U.$$typeof===ut)return Xt(P,O,vu(P,U),F);Vu(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(P,O.sibling),F=h(O,U),F.return=P,P=F):(a(P,O),F=kh(U,P.mode,F),F.return=P,P=F),v(P)):a(P,O)}return function(P,O,U,F){try{zo=0;var rt=Xt(P,O,U,F);return ma=null,rt}catch(at){if(at===Oo||at===Tu)throw at;var It=ln(29,at,null,P.mode);return It.lanes=F,It.return=P,It}finally{}}}var ga=pp(!0),yp=pp(!1),wn=Y(null),Jn=null;function rr(e){var i=e.alternate;W(Ae,Ae.current&1),W(wn,e),Jn===null&&(i===null||ca.current!==null||i.memoizedState!==null)&&(Jn=e)}function _p(e){if(e.tag===22){if(W(Ae,Ae.current),W(wn,e),Jn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Jn=e)}}else sr()}function sr(){W(Ae,Ae.current),W(wn,wn.current)}function Di(e){et(wn),Jn===e&&(Jn=null),et(Ae)}var Ae=Y(0);function Pu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ad(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function yf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var _f={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=fn(),h=er(o);h.payload=i,a!=null&&(h.callback=a),i=nr(e,h,o),i!==null&&(dn(i,e,o),Mo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=fn(),h=er(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=nr(e,h,o),i!==null&&(dn(i,e,o),Mo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=fn(),o=er(a);o.tag=2,i!=null&&(o.callback=i),i=nr(e,o,a),i!==null&&(dn(i,e,a),Mo(i,e,a))}};function vp(e,i,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ao(a,o)||!Ao(h,d):!0}function Ep(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&_f.enqueueReplaceState(i,i.state,null)}function vs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Tp(e){xu(e)}function Ap(e){console.error(e)}function Sp(e){xu(e)}function ku(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function bp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function vf(e,i,a){return a=er(a),a.tag=3,a.payload={element:null},a.callback=function(){ku(e,i)},a}function wp(e){return e=er(e),e.tag=3,e}function Rp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){bp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){bp(i,a,o),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function GT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Io(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return Jn===null?Hf():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Qh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Ff(e,o,h)),!1;case 22:return a.flags|=65536,o===Qh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Ff(e,o,h)),!1}throw Error(s(435,a.tag))}return Ff(e,o,h),Hf(),!1}if(Bt)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Bh&&(e=Error(s(422),{cause:o}),Ro(Tn(e,a)))):(o!==Bh&&(i=Error(s(423),{cause:o}),Ro(Tn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Tn(o,a),h=vf(e.stateNode,o,h),$h(e,h),oe!==4&&(oe=2)),!1;var d=Error(s(520),{cause:o});if(d=Tn(d,a),Qo===null?Qo=[d]:Qo.push(d),oe!==4&&(oe=2),i===null)return!0;o=Tn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=vf(a.stateNode,o,e),$h(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hr===null||!hr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=wp(h),Rp(h,e,a,o),$h(a,h),!1}a=a.return}while(a!==null);return!1}var Ip=Error(s(461)),De=!1;function ke(e,i,a,o){i.child=e===null?yp(i,null,a,o):ga(i,e.child,a,o)}function Cp(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return ps(i),o=ef(e,i,a,v,d,h),E=nf(),e!==null&&!De?(rf(e,i,h),Oi(e,i,h)):(Bt&&E&&Lh(i),i.flags|=1,ke(e,i,o,h),i.child)}function Dp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!xh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Op(e,i,d,o,h)):(e=gu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!If(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ao,a(v,o)&&e.ref===i.ref)return Oi(e,i,h)}return i.flags|=1,e=Si(d,o),e.ref=i.ref,e.return=i,i.child=e}function Op(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Ao(d,o)&&e.ref===i.ref)if(De=!1,i.pendingProps=o=d,If(e,h))(e.flags&131072)!==0&&(De=!0);else return i.lanes=e.lanes,Oi(e,i,h)}return Ef(e,i,a,o,h)}function Np(e,i,a){var o=i.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return Mp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eu(i,d!==null?d.cachePool:null),d!==null?Og(i,d):Wh(),_p(i);else return i.lanes=i.childLanes=536870912,Mp(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Eu(i,d.cachePool),Og(i,d),sr(),i.memoizedState=null):(e!==null&&Eu(i,null),Wh(),sr());return ke(e,i,h,a),i.child}function Mp(e,i,a,o){var h=Kh();return h=h===null?null:{parent:Te._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Eu(i,null),Wh(),_p(i),e!==null&&Io(e,i,o,!0),null}function Uu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Ef(e,i,a,o,h){return ps(i),a=ef(e,i,a,o,void 0,h),o=nf(),e!==null&&!De?(rf(e,i,h),Oi(e,i,h)):(Bt&&o&&Lh(i),i.flags|=1,ke(e,i,a,h),i.child)}function Vp(e,i,a,o,h,d){return ps(i),i.updateQueue=null,a=Mg(i,o,a,h),Ng(e),o=nf(),e!==null&&!De?(rf(e,i,d),Oi(e,i,d)):(Bt&&o&&Lh(i),i.flags|=1,ke(e,i,a,d),i.child)}function Pp(e,i,a,o,h){if(ps(i),i.stateNode===null){var d=sa,v=a.contextType;typeof v=="object"&&v!==null&&(d=He(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_f,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Yh(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?He(v):sa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(yf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&_f.enqueueReplaceState(d,d.state,null),Po(i,o,d,h),Vo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,b=vs(a,E);d.props=b;var L=d.context,G=a.contextType;v=sa,typeof G=="object"&&G!==null&&(v=He(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==v)&&Ep(i,d,o,v),tr=!1;var z=i.memoizedState;d.state=z,Po(i,o,d,h),Vo(),L=i.memoizedState,E||z!==L||tr?(typeof K=="function"&&(yf(i,a,K,o),L=i.memoizedState),(b=tr||vp(i,a,b,o,z,L,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),d.props=o,d.state=L,d.context=v,o=b):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Xh(e,i),v=i.memoizedProps,G=vs(a,v),d.props=G,K=i.pendingProps,z=d.context,L=a.contextType,b=sa,typeof L=="object"&&L!==null&&(b=He(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==K||z!==b)&&Ep(i,d,o,b),tr=!1,z=i.memoizedState,d.state=z,Po(i,o,d,h),Vo();var B=i.memoizedState;v!==K||z!==B||tr||e!==null&&e.dependencies!==null&&_u(e.dependencies)?(typeof E=="function"&&(yf(i,a,E,o),B=i.memoizedState),(G=tr||vp(i,a,G,o,z,B,b)||e!==null&&e.dependencies!==null&&_u(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,B,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,B,b)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=b,o=G):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,Uu(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=ga(i,e.child,null,h),i.child=ga(i,null,a,h)):ke(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Oi(e,i,h),e}function xp(e,i,a,o){return wo(),i.flags|=256,ke(e,i,a,o),i.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(e){return{baseLanes:e,cachePool:Ag()}}function Sf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Rn),e}function kp(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?rr(i):sr(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=Wn;b.nodeType!==8;){if(!E){E=null;break t}if(b=kn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:hs!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},b=ln(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,We=i,ae=null,b=!0):b=!1}b||ms(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ad(E)?i.lanes=32:i.lanes=536870912,null;Di(i)}return E=o.children,o=o.fallback,h?(sr(),h=i.mode,E=Lu({mode:"hidden",children:E},h),o=cs(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=Af(a),h.childLanes=Sf(e,v,a),i.memoizedState=Tf,o):(rr(i),bf(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(d)i.flags&256?(rr(i),i.flags&=-257,i=wf(e,i,a)):i.memoizedState!==null?(sr(),i.child=e.child,i.flags|=128,i=null):(sr(),h=o.fallback,E=i.mode,o=Lu({mode:"visible",children:o.children},E),h=cs(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,ga(i,e.child,null,a),o=i.child,o.memoizedState=Af(a),o.childLanes=Sf(e,v,a),i.memoizedState=Tf,i=h);else if(rr(i),ad(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,Ro({value:o,source:null,stack:null}),i=wf(e,i,a)}else if(De||Io(e,i,a,!1),v=(a&e.childLanes)!==0,De||v){if(v=Wt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Ki(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ra(e,o),dn(v,e,o),Ip;E.data==="$?"||Hf(),i=wf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,ae=kn(E.nextSibling),We=i,Bt=!0,ds=null,Wn=!1,e!==null&&(Sn[bn++]=bi,Sn[bn++]=wi,Sn[bn++]=hs,bi=e.id,wi=e.overflow,hs=i),i=bf(i,o.children),i.flags|=4096);return i}return h?(sr(),h=o.fallback,E=i.mode,b=e.child,L=b.sibling,o=Si(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Si(L,h):(h=cs(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=Af(a):(b=E.cachePool,b!==null?(L=Te._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Ag(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=Sf(e,v,a),i.memoizedState=Tf,o):(rr(i),a=e.child,e=a.sibling,a=Si(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function bf(e,i){return i=Lu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Lu(e,i){return e=ln(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function wf(e,i,a){return ga(i,e.child,null,a),e=bf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Up(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),qh(e.return,i,a)}function Rf(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Lp(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(ke(e,i,o.children,a),o=Ae.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Up(e,a,i);else if(e.tag===19)Up(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(W(Ae,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Pu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Rf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Rf(i,!0,a,null,d);break;case"together":Rf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Oi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),cr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Io(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Si(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Si(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function If(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&_u(e)))}function FT(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),Ji(i,Te,e.memoizedState.cache),wo();break;case 27:case 5:Fi(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:Ji(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?kp(e,i,a):(rr(i),e=Oi(e,i,a),e!==null?e.sibling:null);rr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Io(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Lp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Ae,Ae.current),o)break;return null;case 22:case 23:return i.lanes=0,Np(e,i,a);case 24:Ji(i,Te,e.memoizedState.cache)}return Oi(e,i,a)}function zp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)De=!0;else{if(!If(e,a)&&(i.flags&128)===0)return De=!1,FT(e,i,a);De=(e.flags&131072)!==0}else De=!1,Bt&&(i.flags&1048576)!==0&&gg(i,yu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")xh(o)?(e=vs(o,e),i.tag=1,i=Pp(null,i,o,e,a)):(i.tag=0,i=Ef(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Mt){i.tag=11,i=Cp(null,i,o,e,a);break t}else if(h===M){i.tag=14,i=Dp(null,i,o,e,a);break t}}throw i=Ve(o)||o,Error(s(306,i,""))}}return i;case 0:return Ef(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=vs(o,i.pendingProps),Pp(e,i,o,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Xh(e,i),Po(i,o,null,a);var v=i.memoizedState;if(o=v.cache,Ji(i,Te,o),o!==d.cache&&Hh(i,[Te],a,!0),Vo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=xp(e,i,o,a);break t}else if(o!==h){h=Tn(Error(s(424)),i),Ro(h),i=xp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=kn(e.firstChild),We=i,Bt=!0,ds=null,Wn=!0,a=yp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wo(),o===h){i=Oi(e,i,a);break t}ke(e,i,o,a)}i=i.child}return i;case 26:return Uu(e,i),e===null?(a=Hy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=Wu(_t.current).createElement(a),o[_e]=i,o[de]=e,Le(o,a,e),ue(o),i.stateNode=o):i.memoizedState=Hy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Fi(i),e===null&&Bt&&(o=i.stateNode=By(i.type,i.pendingProps,_t.current),We=i,Wn=!0,h=ae,mr(i.type)?(od=h,ae=kn(o.firstChild)):ae=h),ke(e,i,i.pendingProps.children,a),Uu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=o=ae)&&(o=vA(o,i.type,i.pendingProps,Wn),o!==null?(i.stateNode=o,We=i,ae=kn(o.firstChild),Wn=!1,h=!0):h=!1),h||ms(i)),Fi(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,id(h,d)?o=null:v!==null&&id(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=ef(e,i,UT,null,null,a),nl._currentValue=h),Uu(e,i),ke(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=ae)&&(a=EA(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,We=i,ae=null,e=!0):e=!1),e||ms(i)),null;case 13:return kp(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ga(i,null,o,a):ke(e,i,o,a),i.child;case 11:return Cp(e,i,i.type,i.pendingProps,a);case 7:return ke(e,i,i.pendingProps,a),i.child;case 8:return ke(e,i,i.pendingProps.children,a),i.child;case 12:return ke(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ji(i,i.type,o.value),ke(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,ps(i),h=He(h),o=o(h),i.flags|=1,ke(e,i,o,a),i.child;case 14:return Dp(e,i,i.type,i.pendingProps,a);case 15:return Op(e,i,i.type,i.pendingProps,a);case 19:return Lp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Lu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Si(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Np(e,i,a);case 24:return ps(i),o=He(Te),e===null?(h=Kh(),h===null&&(h=Wt,d=Gh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Yh(i),Ji(i,Te,h)):((e.lanes&a)!==0&&(Xh(e,i),Po(i,null,null,a),Vo()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ji(i,Te,o)):(o=d.cache,Ji(i,Te,o),o!==h.cache&&Hh(i,[Te],a,!0))),ke(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ni(e){e.flags|=4}function Bp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Yy(i)){if(i=wn.current,i!==null&&((kt&4194048)===kt?Jn!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==Jn))throw No=Qh,Sg;e.flags|=8192}}function zu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?io():536870912,e.lanes|=i,va|=i)}function jo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function KT(e,i,a){var o=i.pendingProps;switch(zh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ii(Te),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(bo(i)?Ni(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_g())),ne(i),null;case 26:return a=i.memoizedState,e===null?(Ni(i),a!==null?(ne(i),Bp(i,a)):(ne(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Ni(i),ne(i),Bp(i,a)):(ne(i),i.flags&=-16777217):(e.memoizedProps!==o&&Ni(i),ne(i),i.flags&=-16777217),null;case 27:ci(i),a=_t.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ni(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=ct.current,bo(i)?pg(i):(e=By(h,o,a),i.stateNode=e,Ni(i))}return ne(i),null;case 5:if(ci(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ni(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(e=ct.current,bo(i))pg(i);else{switch(h=Wu(_t.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[_e]=i,e[de]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Le(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ni(i)}}return ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Ni(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=_t.current,bo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=We,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Vy(e.nodeValue,a)),e||ms(i)}else e=Wu(e).createTextNode(o),e[_e]=i,i.stateNode=e}return ne(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=bo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_e]=i}else wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=_g(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Di(i),i):(Di(i),null)}if(Di(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),zu(i,i.updateQueue),ne(i),null;case 4:return Bn(),e===null&&Wf(i.stateNode.containerInfo),ne(i),null;case 10:return Ii(i.type),ne(i),null;case 19:if(et(Ae),h=i.memoizedState,h===null)return ne(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)jo(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Pu(e),d!==null){for(i.flags|=128,jo(h,!1),e=d.updateQueue,i.updateQueue=e,zu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)mg(a,e),a=a.sibling;return W(Ae,Ae.current&1|2),i.child}e=e.sibling}h.tail!==null&&gn()>qu&&(i.flags|=128,o=!0,jo(h,!1),i.lanes=4194304)}else{if(!o)if(e=Pu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,zu(i,e),jo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return ne(i),null}else 2*gn()-h.renderingStartTime>qu&&a!==536870912&&(i.flags|=128,o=!0,jo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=gn(),i.sibling=null,e=Ae.current,W(Ae,o?e&1|2:e&1),i):(ne(i),null);case 22:case 23:return Di(i),Jh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&zu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&et(ys),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ii(Te),ne(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function QT(e,i){switch(zh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ii(Te),Bn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ci(i),null;case 13:if(Di(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));wo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return et(Ae),null;case 4:return Bn(),null;case 10:return Ii(i.type),null;case 22:case 23:return Di(i),Jh(),e!==null&&et(ys),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ii(Te),null;case 25:return null;default:return null}}function jp(e,i){switch(zh(i),i.tag){case 3:Ii(Te),Bn();break;case 26:case 27:case 5:ci(i);break;case 4:Bn();break;case 13:Di(i);break;case 19:et(Ae);break;case 10:Ii(i.type);break;case 22:case 23:Di(i),Jh(),e!==null&&et(ys);break;case 24:Ii(Te)}}function qo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function ar(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a,L=E;try{L()}catch(G){$t(h,b,G)}}}o=o.next}while(o!==d)}}catch(G){$t(i,i.return,G)}}function qp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Dg(i,a)}catch(o){$t(e,e.return,o)}}}function Hp(e,i,a){a.props=vs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,i,o)}}function Ho(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,i,h)}}function ti(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Gp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Cf(e,i,a){try{var o=e.stateNode;mA(o,e.type,a,i),o[de]=i}catch(h){$t(e,e.return,h)}}function Fp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mr(e.type)||e.tag===4}function Df(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zu));else if(o!==4&&(o===27&&mr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Of(e,i,a),e=e.sibling;e!==null;)Of(e,i,a),e=e.sibling}function Bu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&mr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Bu(e,i,a),e=e.sibling;e!==null;)Bu(e,i,a),e=e.sibling}function Kp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Le(i,o,a),i[_e]=e,i[de]=a}catch(d){$t(e,e.return,d)}}var Mi=!1,he=!1,Nf=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function YT(e,i){if(e=e.containerInfo,ed=rc,e=rg(e),Ch(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,L=0,G=0,K=e,z=null;e:for(;;){for(var B;K!==a||h!==0&&K.nodeType!==3||(E=v+h),K!==d||o!==0&&K.nodeType!==3||(b=v+o),K.nodeType===3&&(v+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===a&&++L===h&&(E=v),z===d&&++G===o&&(b=v),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(nd={focusedElem:e,selectionRange:a},rc=!1,Oe=i;Oe!==null;)if(i=Oe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Oe=e;else for(;Oe!==null;){switch(i=Oe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var yt=vs(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(yt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){$t(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)sd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Oe=e;break}Oe=i.return}}function Yp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:or(e,a),o&4&&qo(5,a);break;case 1:if(or(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=vs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}o&64&&qp(a),o&512&&Ho(a,a.return);break;case 3:if(or(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Dg(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&o&4&&Kp(a);case 26:case 5:or(e,a),i===null&&o&4&&Gp(a),o&512&&Ho(a,a.return);break;case 12:or(e,a);break;case 13:or(e,a),o&4&&Zp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=iA.bind(null,a),TA(e,a))));break;case 22:if(o=a.memoizedState!==null||Mi,!o){i=i!==null&&i.memoizedState!==null||he,h=Mi;var d=he;Mi=o,(he=i)&&!d?lr(e,a,(a.subtreeFlags&8772)!==0):or(e,a),Mi=h,he=d}break;case 30:break;default:or(e,a)}}function Xp(e){var i=e.alternate;i!==null&&(e.alternate=null,Xp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Xi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var te=null,tn=!1;function Vi(e,i,a){for(a=a.child;a!==null;)$p(e,i,a),a=a.sibling}function $p(e,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:he||ti(a,i),Vi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||ti(a,i);var o=te,h=tn;mr(a.type)&&(te=a.stateNode,tn=!1),Vi(e,i,a),Wo(a.stateNode),te=o,tn=h;break;case 5:he||ti(a,i);case 6:if(o=te,h=tn,te=null,Vi(e,i,a),te=o,tn=h,te!==null)if(tn)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{te.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:te!==null&&(tn?(e=te,Ly(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),al(e)):Ly(te,a.stateNode));break;case 4:o=te,h=tn,te=a.stateNode.containerInfo,tn=!0,Vi(e,i,a),te=o,tn=h;break;case 0:case 11:case 14:case 15:he||ar(2,a,i),he||ar(4,a,i),Vi(e,i,a);break;case 1:he||(ti(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Hp(a,i,o)),Vi(e,i,a);break;case 21:Vi(e,i,a);break;case 22:he=(o=he)||a.memoizedState!==null,Vi(e,i,a),he=o;break;default:Vi(e,i,a)}}function Zp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{al(e)}catch(a){$t(i,i.return,a)}}function XT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Qp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Qp),i;default:throw Error(s(435,e.tag))}}function Mf(e,i){var a=XT(e);i.forEach(function(o){var h=rA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function un(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(mr(E.type)){te=E.stateNode,tn=!1;break t}break;case 5:te=E.stateNode,tn=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(te===null)throw Error(s(160));$p(d,v,h),te=null,tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Wp(i,e),i=i.sibling}var xn=null;function Wp(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(i,e),cn(e),o&4&&(ar(3,e,e.return),qo(3,e),ar(5,e,e.return));break;case 1:un(i,e),cn(e),o&512&&(he||a===null||ti(a,a.return)),o&64&&Mi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=xn;if(un(i,e),cn(e),o&512&&(he||a===null||ti(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Yr]||d[_e]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Le(d,o,a),d[_e]=e,ue(d),o=d;break t;case"link":var v=Ky("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(o),Le(d,o,a),h.head.appendChild(d);break;case"meta":if(v=Ky("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(o),Le(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[_e]=e,ue(d),o=d}e.stateNode=o}else Qy(h,e.type,e.stateNode);else e.stateNode=Fy(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Qy(h,e.type,e.stateNode):Fy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Cf(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(i,e),cn(e),o&512&&(he||a===null||ti(a,a.return)),a!==null&&o&4&&Cf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(i,e),cn(e),o&512&&(he||a===null||ti(a,a.return)),e.flags&32){h=e.stateNode;try{yn(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Cf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Nf=!0);break;case 6:if(un(i,e),cn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(ec=null,h=xn,xn=Ju(i.containerInfo),un(i,e),xn=h,cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{al(i.containerInfo)}catch(B){$t(e,e.return,B)}Nf&&(Nf=!1,Jp(e));break;case 4:o=xn,xn=Ju(e.stateNode.containerInfo),un(i,e),cn(e),xn=o;break;case 12:un(i,e),cn(e);break;case 13:un(i,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lf=gn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Mf(e,o)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=Mi,G=he;if(Mi=L||h,he=G||b,un(i,e),he=G,Mi=L,cn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||Mi||he||Es(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(d=b.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var K=b.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Mf(e,a))));break;case 19:un(i,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Mf(e,o)));break;case 30:break;case 21:break;default:un(i,e),cn(e)}}function cn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Fp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Df(e);Bu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(yn(v,""),a.flags&=-33);var E=Df(e);Bu(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=Df(e);Of(e,L,b);break;default:throw Error(s(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Jp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Jp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function or(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Yp(e,i.alternate,i),i=i.sibling}function Es(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ar(4,i,i.return),Es(i);break;case 1:ti(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Hp(i,i.return,a),Es(i);break;case 27:Wo(i.stateNode);case 26:case 5:ti(i,i.return),Es(i);break;case 22:i.memoizedState===null&&Es(i);break;case 30:Es(i);break;default:Es(i)}e=e.sibling}}function lr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:lr(h,d,a),qo(4,d);break;case 1:if(lr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Cg(b[h],E)}catch(L){$t(o,o.return,L)}}a&&v&64&&qp(d),Ho(d,d.return);break;case 27:Kp(d);case 26:case 5:lr(h,d,a),a&&o===null&&v&4&&Gp(d),Ho(d,d.return);break;case 12:lr(h,d,a);break;case 13:lr(h,d,a),a&&v&4&&Zp(h,d);break;case 22:d.memoizedState===null&&lr(h,d,a),Ho(d,d.return);break;case 30:break;default:lr(h,d,a)}i=i.sibling}}function Vf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Co(a))}function Pf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Co(e))}function ei(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ty(e,i,a,o),i=i.sibling}function ty(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(e,i,a,o),h&2048&&qo(9,i);break;case 1:ei(e,i,a,o);break;case 3:ei(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Co(e)));break;case 12:if(h&2048){ei(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(i,i.return,b)}}else ei(e,i,a,o);break;case 13:ei(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ei(e,i,a,o):Go(e,i):d._visibility&2?ei(e,i,a,o):(d._visibility|=2,pa(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Vf(v,i);break;case 24:ei(e,i,a,o),h&2048&&Pf(i.alternate,i);break;default:ei(e,i,a,o)}}function pa(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,b=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:pa(d,v,E,b,h),qo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?pa(d,v,E,b,h):Go(d,v):(G._visibility|=2,pa(d,v,E,b,h)),h&&L&2048&&Vf(v.alternate,v);break;case 24:pa(d,v,E,b,h),h&&L&2048&&Pf(v.alternate,v);break;default:pa(d,v,E,b,h)}i=i.sibling}}function Go(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Go(a,o),h&2048&&Vf(o.alternate,o);break;case 24:Go(a,o),h&2048&&Pf(o.alternate,o);break;default:Go(a,o)}i=i.sibling}}var Fo=8192;function ya(e){if(e.subtreeFlags&Fo)for(e=e.child;e!==null;)ey(e),e=e.sibling}function ey(e){switch(e.tag){case 26:ya(e),e.flags&Fo&&e.memoizedState!==null&&PA(xn,e.memoizedState,e.memoizedProps);break;case 5:ya(e);break;case 3:case 4:var i=xn;xn=Ju(e.stateNode.containerInfo),ya(e),xn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Fo,Fo=16777216,ya(e),Fo=i):ya(e));break;default:ya(e)}}function ny(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ko(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,ry(o,e)}ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:Ko(e),e.flags&2048&&ar(9,e,e.return);break;case 3:Ko(e);break;case 12:Ko(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ju(e)):Ko(e);break;default:Ko(e)}}function ju(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,ry(o,e)}ny(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ar(8,i,i.return),ju(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ju(i));break;default:ju(i)}e=e.sibling}}function ry(e,i){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:ar(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Co(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var h=o.sibling,d=o.return;if(Xp(o),o===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var $T={getCacheForType:function(e){var i=He(Te),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},ZT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Ct=null,kt=0,Ft=0,hn=null,ur=!1,_a=!1,xf=!1,Pi=0,oe=0,cr=0,Ts=0,kf=0,Rn=0,va=0,Qo=null,en=null,Uf=!1,Lf=0,qu=1/0,Hu=null,hr=null,Ue=0,fr=null,Ea=null,Ta=0,zf=0,Bf=null,sy=null,Yo=0,jf=null;function fn(){if((Gt&2)!==0&&kt!==0)return kt&-kt;if(H.T!==null){var e=la;return e!==0?e:Yf()}return Qi()}function ay(){Rn===0&&(Rn=(kt&536870912)===0||Bt?no():536870912);var e=wn.current;return e!==null&&(e.flags|=32),Rn}function dn(e,i,a){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Aa(e,0),dr(e,kt,Rn,!1)),fi(e,a),((Gt&2)===0||e!==Wt)&&(e===Wt&&((Gt&2)===0&&(Ts|=a),oe===4&&dr(e,kt,Rn,!1)),ni(e))}function oy(e,i,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Qr(e,i),h=o?tA(e,i):Gf(e,i,!0),d=o;do{if(h===0){_a&&!o&&dr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!WT(a)){h=Gf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Qo;var b=E.current.memoizedState.isDehydrated;if(b&&(Aa(E,v).flags|=256),v=Gf(E,v,!1),v!==2){if(xf&&!b){E.errorRecoveryDisabledLanes|=d,Ts|=d,h=4;break t}d=en,en=h,d!==null&&(en===null?en=d:en.push.apply(en,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Aa(e,0),dr(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:dr(o,i,Rn,!ur);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Lf+300-gn(),10<h)){if(dr(o,i,Rn,!ur),zs(o,0,!0)!==0)break t;o.timeoutHandle=ky(ly.bind(null,o,a,en,Hu,Uf,i,Rn,Ts,va,ur,d,2,-0,0),h);break t}ly(o,a,en,Hu,Uf,i,Rn,Ts,va,ur,d,0,-0,0)}}break}while(!0);ni(e)}function ly(e,i,a,o,h,d,v,E,b,L,G,K,z,B){if(e.timeoutHandle=-1,K=i.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(el={stylesheets:null,count:0,unsuspend:VA},ey(i),K=xA(),K!==null)){e.cancelPendingCommit=K(gy.bind(null,e,i,d,a,o,h,v,E,b,G,1,z,B)),dr(e,d,v,!L);return}gy(e,i,d,a,o,h,v,E,b)}function WT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!on(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function dr(e,i,a,o){i&=~kf,i&=~Ts,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-qe(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&jn(e,a,i)}function Gu(){return(Gt&6)===0?(Xo(0),!1):!0}function qf(){if(Ct!==null){if(Ft===0)var e=Ct.return;else e=Ct,Ri=gs=null,sf(e),ma=null,zo=0,e=Ct;for(;e!==null;)jp(e.alternate,e),e=e.return;Ct=null}}function Aa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,pA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),qf(),Wt=e,Ct=a=Si(e.current,null),kt=i,Ft=0,hn=null,ur=!1,_a=Qr(e,i),xf=!1,va=Rn=kf=Ts=cr=oe=0,en=Qo=null,Uf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-qe(o),d=1<<h;i|=e[h],o&=~d}return Pi=i,fu(),a}function uy(e,i){bt=null,H.H=Nu,i===Oo||i===Tu?(i=Rg(),Ft=3):i===Sg?(i=Rg(),Ft=4):Ft=i===Ip?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,Ct===null&&(oe=1,ku(e,Tn(i,e.current)))}function cy(){var e=H.H;return H.H=Nu,e===null?Nu:e}function hy(){var e=H.A;return H.A=$T,e}function Hf(){oe=4,ur||(kt&4194048)!==kt&&wn.current!==null||(_a=!0),(cr&134217727)===0&&(Ts&134217727)===0||Wt===null||dr(Wt,kt,Rn,!1)}function Gf(e,i,a){var o=Gt;Gt|=2;var h=cy(),d=hy();(Wt!==e||kt!==i)&&(Hu=null,Aa(e,i)),i=!1;var v=oe;t:do try{if(Ft!==0&&Ct!==null){var E=Ct,b=hn;switch(Ft){case 8:qf(),v=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var L=Ft;if(Ft=0,hn=null,Sa(e,E,b,L),a&&_a){v=0;break t}break;default:L=Ft,Ft=0,hn=null,Sa(e,E,b,L)}}JT(),v=oe;break}catch(G){uy(e,G)}while(!0);return i&&e.shellSuspendCounter++,Ri=gs=null,Gt=o,H.H=h,H.A=d,Ct===null&&(Wt=null,kt=0,fu()),v}function JT(){for(;Ct!==null;)fy(Ct)}function tA(e,i){var a=Gt;Gt|=2;var o=cy(),h=hy();Wt!==e||kt!==i?(Hu=null,qu=gn()+500,Aa(e,i)):_a=Qr(e,i);t:do try{if(Ft!==0&&Ct!==null){i=Ct;var d=hn;e:switch(Ft){case 1:Ft=0,hn=null,Sa(e,i,d,1);break;case 2:case 9:if(bg(d)){Ft=0,hn=null,dy(i);break}i=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),ni(e)},d.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:bg(d)?(Ft=0,hn=null,dy(i)):(Ft=0,hn=null,Sa(e,i,d,7));break;case 5:var v=null;switch(Ct.tag){case 26:v=Ct.memoizedState;case 5:case 27:var E=Ct;if(!v||Yy(v)){Ft=0,hn=null;var b=E.sibling;if(b!==null)Ct=b;else{var L=E.return;L!==null?(Ct=L,Fu(L)):Ct=null}break e}}Ft=0,hn=null,Sa(e,i,d,5);break;case 6:Ft=0,hn=null,Sa(e,i,d,6);break;case 8:qf(),oe=6;break t;default:throw Error(s(462))}}eA();break}catch(G){uy(e,G)}while(!0);return Ri=gs=null,H.H=o,H.A=h,Gt=a,Ct!==null?0:(Wt=null,kt=0,fu(),oe)}function eA(){for(;Ct!==null&&!Wa();)fy(Ct)}function fy(e){var i=zp(e.alternate,e,Pi);e.memoizedProps=e.pendingProps,i===null?Fu(e):Ct=i}function dy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Vp(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Vp(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:sf(i);default:jp(a,i),i=Ct=mg(i,Pi),i=zp(a,i,Pi)}e.memoizedProps=e.pendingProps,i===null?Fu(e):Ct=i}function Sa(e,i,a,o){Ri=gs=null,sf(i),ma=null,zo=0;var h=i.return;try{if(GT(e,h,i,a,kt)){oe=1,ku(e,Tn(a,e.current)),Ct=null;return}}catch(d){if(h!==null)throw Ct=h,d;oe=1,ku(e,Tn(a,e.current)),Ct=null;return}i.flags&32768?(Bt||o===1?e=!0:_a||(kt&536870912)!==0?e=!1:(ur=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),my(i,e)):Fu(i)}function Fu(e){var i=e;do{if((i.flags&32768)!==0){my(i,ur);return}e=i.return;var a=KT(i.alternate,i,Pi);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);oe===0&&(oe=5)}function my(e,i){do{var a=QT(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);oe=6,Ct=null}function gy(e,i,a,o,h,d,v,E,b){e.cancelPendingCommit=null;do Ku();while(Ue!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Vh,ro(e,a,d,v,E,b),e===Wt&&(Ct=Wt=null,kt=0),Ea=i,fr=e,Ta=a,zf=d,Bf=h,sy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sA(Hr,function(){return Ey(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=tt.p,tt.p=2,v=Gt,Gt|=4;try{YT(e,i,a)}finally{Gt=v,tt.p=h,H.T=o}}Ue=1,py(),yy(),_y()}}function py(){if(Ue===1){Ue=0;var e=fr,i=Ea,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Gt;Gt|=4;try{Wp(i,e);var d=nd,v=rg(e.containerInfo),E=d.focusedElem,b=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&ig(E.ownerDocument.documentElement,E)){if(b!==null&&Ch(E)){var L=b.start,G=b.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),yt=E.textContent.length,ft=Math.min(b.start,yt),Xt=b.end===void 0?ft:Math.min(b.end,yt);!B.extend&&ft>Xt&&(v=Xt,Xt=ft,ft=v);var P=ng(E,ft),O=ng(E,Xt);if(P&&O&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var U=K.createRange();U.setStart(P.node,P.offset),B.removeAllRanges(),ft>Xt?(B.addRange(U),B.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),B.addRange(U))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var F=K[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}rc=!!ed,nd=ed=null}finally{Gt=h,tt.p=o,H.T=a}}e.current=i,Ue=2}}function yy(){if(Ue===2){Ue=0;var e=fr,i=Ea,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Gt;Gt|=4;try{Yp(e,i.alternate,i)}finally{Gt=h,tt.p=o,H.T=a}}Ue=3}}function _y(){if(Ue===4||Ue===3){Ue=0,jl();var e=fr,i=Ea,a=Ta,o=sy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ue=5:(Ue=0,Ea=fr=null,vy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(hr=null),Bs(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];d(E.value,{componentStack:E.stack})}}finally{H.T=i,tt.p=h}}(Ta&3)!==0&&Ku(),ni(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===jf?Yo++:(Yo=0,jf=e):Yo=0,Xo(0)}}function vy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Co(i)))}function Ku(e){return py(),yy(),_y(),Ey()}function Ey(){if(Ue!==5)return!1;var e=fr,i=zf;zf=0;var a=Bs(Ta),o=H.T,h=tt.p;try{tt.p=32>a?32:a,H.T=null,a=Bf,Bf=null;var d=fr,v=Ta;if(Ue=0,Ea=fr=null,Ta=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,iy(d.current),ty(d,d.current,v,a),Gt=E,Xo(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,d)}catch{}return!0}finally{tt.p=h,H.T=o,vy(e,i)}}function Ty(e,i,a){i=Tn(a,i),i=vf(e.stateNode,i,2),e=nr(e,i,2),e!==null&&(fi(e,2),ni(e))}function $t(e,i,a){if(e.tag===3)Ty(e,e,a);else for(;i!==null;){if(i.tag===3){Ty(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hr===null||!hr.has(o))){e=Tn(a,e),a=wp(2),o=nr(i,a,2),o!==null&&(Rp(a,o,i,e),fi(o,2),ni(o));break}}i=i.return}}function Ff(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new ZT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(xf=!0,h.add(a),e=nA.bind(null,e,i,a),i.then(e,e))}function nA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(kt&a)===a&&(oe===4||oe===3&&(kt&62914560)===kt&&300>gn()-Lf?(Gt&2)===0&&Aa(e,0):kf|=a,va===kt&&(va=0)),ni(e)}function Ay(e,i){i===0&&(i=io()),e=ra(e,i),e!==null&&(fi(e,i),ni(e))}function iA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Ay(e,a)}function rA(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Ay(e,a)}function sA(e,i){return jr(e,i)}var Qu=null,ba=null,Kf=!1,Yu=!1,Qf=!1,As=0;function ni(e){e!==ba&&e.next===null&&(ba===null?Qu=ba=e:ba=ba.next=e),Yu=!0,Kf||(Kf=!0,oA())}function Xo(e,i){if(!Qf&&Yu){Qf=!0;do for(var a=!1,o=Qu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-qe(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ry(o,d))}else d=kt,d=zs(o,o===Wt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Qr(o,d)||(a=!0,Ry(o,d));o=o.next}while(a);Qf=!1}}function aA(){Sy()}function Sy(){Yu=Kf=!1;var e=0;As!==0&&(gA()&&(e=As),As=0);for(var i=gn(),a=null,o=Qu;o!==null;){var h=o.next,d=by(o,i);d===0?(o.next=null,a===null?Qu=h:a.next=h,h===null&&(ba=a)):(a=o,(e!==0||(d&3)!==0)&&(Yu=!0)),o=h}Xo(e)}function by(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-qe(d),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&o)!==0)&&(h[v]=eo(E,i)):b<=i&&(e.expiredLanes|=E),d&=~E}if(i=Wt,a=kt,a=zs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&qr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Qr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&qr(o),Bs(a)){case 2:case 8:a=Us;break;case 32:a=Hr;break;case 268435456:a=Ls;break;default:a=Hr}return o=wy.bind(null,e),a=jr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&qr(o),e.callbackPriority=2,e.callbackNode=null,2}function wy(e,i){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ku()&&e.callbackNode!==a)return null;var o=kt;return o=zs(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(oy(e,o,i),by(e,gn()),e.callbackNode!=null&&e.callbackNode===a?wy.bind(null,e):null)}function Ry(e,i){if(Ku())return null;oy(e,i,!0)}function oA(){yA(function(){(Gt&6)!==0?jr(Ja,aA):Sy()})}function Yf(){return As===0&&(As=no()),As}function Iy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ks(""+e)}function Cy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function lA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=Iy((h[de]||null).action),v=o.submitter;v&&(i=(i=v[de]||null)?Iy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new Qs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(As!==0){var b=v?Cy(h,v):new FormData(h);mf(a,{pending:!0,data:b,method:h.method,action:d},null,b)}}else typeof d=="function"&&(E.preventDefault(),b=v?Cy(h,v):new FormData(h),mf(a,{pending:!0,data:b,method:h.method,action:d},d,b))},currentTarget:h}]})}}for(var Xf=0;Xf<Mh.length;Xf++){var $f=Mh[Xf],uA=$f.toLowerCase(),cA=$f[0].toUpperCase()+$f.slice(1);Pn(uA,"on"+cA)}Pn(og,"onAnimationEnd"),Pn(lg,"onAnimationIteration"),Pn(ug,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(IT,"onTransitionRun"),Pn(CT,"onTransitionStart"),Pn(DT,"onTransitionCancel"),Pn(cg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function Dy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(G){xu(G)}h.currentTarget=null,d=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(G){xu(G)}h.currentTarget=null,d=b}}}}function Dt(e,i){var a=i[ao];a===void 0&&(a=i[ao]=new Set);var o=e+"__bubble";a.has(o)||(Oy(i,e,2,!1),a.add(o))}function Zf(e,i,a){var o=0;i&&(o|=4),Oy(a,e,o,i)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[Xu]){e[Xu]=!0,oo.forEach(function(a){a!=="selectionchange"&&(hA.has(a)||Zf(a,!1,e),Zf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Xu]||(i[Xu]=!0,Zf("selectionchange",!1,i))}}function Oy(e,i,a,o){switch(t_(i)){case 2:var h=LA;break;case 8:h=zA;break;default:h=fd}a=h.bind(null,i,a,e),h=void 0,!vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Jf(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=di(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=d=v;continue t}E=E.parentNode}}o=o.return}Zl(function(){var L=d,G=_n(a),K=[];t:{var z=hg.get(e);if(z!==void 0){var B=Qs,yt=e;switch(e){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":B=Js;break;case"focusin":yt="focus",B=$s;break;case"focusout":yt="blur",B=$s;break;case"beforeblur":case"afterblur":B=$s;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=su;break;case og:case lg:case ug:B=Zs;break;case cg:B=ou;break;case"scroll":case"scrollend":B=Wl;break;case"wheel":B=ta;break;case"copy":case"cut":case"paste":B=Ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Eo;break;case"toggle":case"beforetoggle":B=uu}var ft=(i&4)!==0,Xt=!ft&&(e==="scroll"||e==="scrollend"),P=ft?z!==null?z+"Capture":null:z;ft=[];for(var O=L,U;O!==null;){var F=O;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||P===null||(F=es(O,P),F!=null&&ft.push(Zo(O,F,U))),Xt)break;O=O.return}0<ft.length&&(z=new B(z,yt,null,a,G),K.push({event:z,listeners:ft}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==yi&&(yt=a.relatedTarget||a.fromElement)&&(di(yt)||yt[pn]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(yt=a.relatedTarget||a.toElement,B=L,yt=yt?di(yt):null,yt!==null&&(Xt=c(yt),ft=yt.tag,yt!==Xt||ft!==5&&ft!==27&&ft!==6)&&(yt=null)):(B=null,yt=L),B!==yt)){if(ft=En,F="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Eo,F="onPointerLeave",P="onPointerEnter",O="pointer"),Xt=B==null?z:Hn(B),U=yt==null?z:Hn(yt),z=new ft(F,O+"leave",B,a,G),z.target=Xt,z.relatedTarget=U,F=null,di(G)===L&&(ft=new ft(P,O+"enter",yt,a,G),ft.target=U,ft.relatedTarget=Xt,F=ft),Xt=F,B&&yt)e:{for(ft=B,P=yt,O=0,U=ft;U;U=wa(U))O++;for(U=0,F=P;F;F=wa(F))U++;for(;0<O-U;)ft=wa(ft),O--;for(;0<U-O;)P=wa(P),U--;for(;O--;){if(ft===P||P!==null&&ft===P.alternate)break e;ft=wa(ft),P=wa(P)}ft=null}else ft=null;B!==null&&Ny(K,z,B,ft,!1),yt!==null&&Xt!==null&&Ny(K,Xt,yt,ft,!0)}}t:{if(z=L?Hn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var rt=$m;else if(Ee(z))if(Zm)rt=bT;else{rt=AT;var It=TT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&fo(L.elementType)&&(rt=$m):rt=ST;if(rt&&(rt=rt(e,L))){Ai(K,rt,a,G);break t}It&&It(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Zi(z,"number",z.value)}switch(It=L?Hn(L):window,e){case"focusin":(Ee(It)||It.contentEditable==="true")&&(ea=It,Dh=L,So=null);break;case"focusout":So=Dh=ea=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,sg(K,a,G);break;case"selectionchange":if(RT)break;case"keydown":case"keyup":sg(K,a,G)}var at;if($n)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Pt?j(e,a)&&(mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(y&&a.locale!=="ko"&&(Pt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Pt&&(at=go()):(Kn=G,Wi="value"in Kn?Kn.value:Kn.textContent,Pt=!0)),It=$u(L,mt),0<It.length&&(mt=new _o(mt,e,null,a,G),K.push({event:mt,listeners:It}),at?mt.data=at:(at=J(a),at!==null&&(mt.data=at)))),(at=m?ve(e,a):xt(e,a))&&(mt=$u(L,"onBeforeInput"),0<mt.length&&(It=new _o("onBeforeInput","beforeinput",null,a,G),K.push({event:It,listeners:mt}),It.data=at)),lA(K,e,L,a,G)}Dy(K,i)})}function Zo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function $u(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=es(e,a),h!=null&&o.unshift(Zo(e,h,d)),h=es(e,i),h!=null&&o.push(Zo(e,h,d))),e.tag===3)return o;e=e.return}return[]}function wa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ny(e,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=es(a,d),L!=null&&v.unshift(Zo(a,L,b))):h||(L=es(a,d),L!=null&&v.push(Zo(a,L,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var fA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function My(e){return(typeof e=="string"?e:""+e).replace(fA,`
`).replace(dA,"")}function Vy(e,i){return i=My(i),My(e)===i}function Zu(){}function Yt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||yn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&yn(e,""+o);break;case"className":Gn(e,"class",o);break;case"tabIndex":Gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,a,o);break;case"style":ho(e,o,d);break;case"data":if(i!=="object"){Gn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ks(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ks(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Zu);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ks(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),$i(e,"popover",o);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$i(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ah.get(a)||a,$i(e,a,o))}}function td(e,i,a,o,h,d){switch(a){case"style":ho(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?yn(e,o):(typeof o=="number"||typeof o=="bigint")&&yn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!js.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[de]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):$i(e,a,o)}}}function Le(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),o&&Yt(e,i,"src",a.src,a,null);return;case"input":Dt("invalid",e);var E=d=v=h=null,b=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":b=G;break;case"defaultChecked":L=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Yt(e,i,o,G,a,null)}}Wr(e,d,E,b,L,v,h,!1),Fs(e);return;case"select":Dt("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Yt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!o,i!=null?pi(e,!!o,i,!1):a!=null&&pi(e,!!o,a,!0);return;case"textarea":Dt("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,i,v,E,a,null)}Jr(e,o,h,d),Fs(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,i,b,o,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<$o.length;o++)Dt($o[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,L,o,a,null)}return;default:if(fo(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&td(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Yt(e,i,E,o,a,null))}function mA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,b=null,L=null,G=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=K;default:o.hasOwnProperty(B)||Yt(e,i,B,null,o,K)}}for(var z in o){var B=o[z];if(K=a[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==K&&Yt(e,i,z,B,o,K)}}an(e,v,E,b,L,G,d,h);return;case"select":B=v=E=z=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(d)||Yt(e,i,d,null,o,b)}for(h in o)if(d=o[h],b=a[h],o.hasOwnProperty(h)&&(d!=null||b!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==b&&Yt(e,i,h,d,o,b)}i=E,a=v,o=B,z!=null?pi(e,!!a,z,!1):!!o!=!!a&&(i!=null?pi(e,!!a,i,!0):pi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,o,d)}Kt(e,z,B);return;case"option":for(var yt in a)if(z=a[yt],a.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:Yt(e,i,yt,null,o,z)}for(b in o)if(z=o[b],B=a[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,i,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)z=a[ft],a.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Yt(e,i,ft,null,o,z);for(L in o)if(z=o[L],B=a[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Yt(e,i,L,z,o,B)}return;default:if(fo(i)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&td(e,i,Xt,void 0,o,z);for(G in o)z=o[G],B=a[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||td(e,i,G,z,o,B);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!o.hasOwnProperty(P)&&Yt(e,i,P,null,o,z);for(K in o)z=o[K],B=a[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||Yt(e,i,K,z,o,B)}var ed=null,nd=null;function Wu(e){return e.nodeType===9?e:e.ownerDocument}function Py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function id(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rd=null;function gA(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var ky=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,yA=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(e){return Uy.resolve(null).then(e).catch(_A)}:ky;function _A(e){setTimeout(function(){throw e})}function mr(e){return e==="head"}function Ly(e,i){var a=i,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&Wo(v.documentElement),a&2&&Wo(v.body),a&4)for(a=v.head,Wo(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Yr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),al(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);al(i)}function sd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sd(a),Xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function vA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Yr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function EA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function TA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var od=null;function zy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function By(e,i,a){switch(i=Wu(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Wo(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Xi(e)}var In=new Map,jy=new Set;function Ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xi=tt.d;tt.d={f:AA,r:SA,D:bA,C:wA,L:RA,m:IA,X:DA,S:CA,M:OA};function AA(){var e=xi.f(),i=Gu();return e||i}function SA(e){var i=qn(e);i!==null&&i.tag===5&&i.type==="form"?op(i):xi.r(e)}var Ra=typeof document>"u"?null:document;function qy(e,i,a){var o=Ra;if(o&&typeof i=="string"&&i){var h=me(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),jy.has(h)||(jy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Le(i,"link",e),ue(i),o.head.appendChild(i)))}}function bA(e){xi.D(e),qy("dns-prefetch",e,null)}function wA(e,i){xi.C(e,i),qy("preconnect",e,i)}function RA(e,i,a){xi.L(e,i,a);var o=Ra;if(o&&e&&i){var h='link[rel="preload"][as="'+me(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+me(a.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var d=h;switch(i){case"style":d=Ia(e);break;case"script":d=Ca(e)}In.has(d)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),In.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Jo(d))||i==="script"&&o.querySelector(tl(d))||(i=o.createElement("link"),Le(i,"link",e),ue(i),o.head.appendChild(i)))}}function IA(e,i){xi.m(e,i);var a=Ra;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ca(e)}if(!In.has(d)&&(e=A({rel:"modulepreload",href:e},i),In.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(tl(d)))return}o=a.createElement("link"),Le(o,"link",e),ue(o),a.head.appendChild(o)}}}function CA(e,i,a){xi.S(e,i,a);var o=Ra;if(o&&e){var h=Xe(o).hoistableStyles,d=Ia(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(Jo(d)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=In.get(d))&&ld(e,a);var b=v=o.createElement("link");ue(b),Le(b,"link",e),b._p=new Promise(function(L,G){b.onload=L,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,tc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function DA(e,i){xi.X(e,i);var a=Ra;if(a&&e){var o=Xe(a).hoistableScripts,h=Ca(e),d=o.get(h);d||(d=a.querySelector(tl(h)),d||(e=A({src:e,async:!0},i),(i=In.get(h))&&ud(e,i),d=a.createElement("script"),ue(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function OA(e,i){xi.M(e,i);var a=Ra;if(a&&e){var o=Xe(a).hoistableScripts,h=Ca(e),d=o.get(h);d||(d=a.querySelector(tl(h)),d||(e=A({src:e,async:!0,type:"module"},i),(i=In.get(h))&&ud(e,i),d=a.createElement("script"),ue(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Hy(e,i,a,o){var h=(h=_t.current)?Ju(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ia(a.href),a=Xe(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ia(a.href);var d=Xe(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Jo(e)))&&!d._p&&(v.instance=d,v.state.loading=5),In.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(e,a),d||NA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ca(a),a=Xe(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ia(e){return'href="'+me(e)+'"'}function Jo(e){return'link[rel="stylesheet"]['+e+"]"}function Gy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function NA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Le(i,"link",a),ue(i),e.head.appendChild(i))}function Ca(e){return'[src="'+me(e)+'"]'}function tl(e){return"script[async]"+e}function Fy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+me(a.href)+'"]');if(o)return i.instance=o,ue(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ue(o),Le(o,"style",h),tc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ia(a.href);var d=e.querySelector(Jo(h));if(d)return i.state.loading|=4,i.instance=d,ue(d),d;o=Gy(a),(h=In.get(h))&&ld(o,h),d=(e.ownerDocument||e).createElement("link"),ue(d);var v=d;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Le(d,"link",o),i.state.loading|=4,tc(d,a.precedence,e),i.instance=d;case"script":return d=Ca(a.src),(h=e.querySelector(tl(d)))?(i.instance=h,ue(h),h):(o=a,(h=In.get(d))&&(o=A({},a),ud(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ue(h),Le(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,tc(o,a.precedence,e));return i.instance}function tc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function ld(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ud(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ec=null;function Ky(e,i,a){if(ec===null){var o=new Map,h=ec=new Map;h.set(a,o)}else h=ec,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Yr]||d[_e]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function Qy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function MA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Yy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var el=null;function VA(){}function PA(e,i,a){if(el===null)throw Error(s(475));var o=el;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ia(a.href),d=e.querySelector(Jo(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=nc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,ue(d);return}d=e.ownerDocument||e,a=Gy(a),(h=In.get(h))&&ld(a,h),d=d.createElement("link"),ue(d);var v=d;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Le(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=nc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function xA(){if(el===null)throw Error(s(475));var e=el;return e.stylesheets&&e.count===0&&cd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function nc(){if(this.count--,this.count===0){if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ic=null;function cd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ic=new Map,i.forEach(kA,e),ic=null,nc.call(e))}function kA(e,i){if(!(i.state.loading&4)){var a=ic.get(e);if(a)var o=a.get(null);else{a=new Map,ic.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var nl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function UA(e,i,a,o,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Xy(e,i,a,o,h,d,v,E,b,L,G,K){return e=new UA(e,i,a,v,E,b,L,K),i=1,d===!0&&(i|=24),d=ln(3,null,null,i),e.current=d,d.stateNode=e,i=Gh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Yh(d),e}function $y(e){return e?(e=sa,e):sa}function Zy(e,i,a,o,h,d){h=$y(h),o.context===null?o.context=h:o.pendingContext=h,o=er(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=nr(e,o,i),a!==null&&(dn(a,e,i),Mo(a,e,i))}function Wy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function hd(e,i){Wy(e,i),(e=e.alternate)&&Wy(e,i)}function Jy(e){if(e.tag===13){var i=ra(e,67108864);i!==null&&dn(i,e,67108864),hd(e,67108864)}}var rc=!0;function LA(e,i,a,o){var h=H.T;H.T=null;var d=tt.p;try{tt.p=2,fd(e,i,a,o)}finally{tt.p=d,H.T=h}}function zA(e,i,a,o){var h=H.T;H.T=null;var d=tt.p;try{tt.p=8,fd(e,i,a,o)}finally{tt.p=d,H.T=h}}function fd(e,i,a,o){if(rc){var h=dd(o);if(h===null)Jf(e,i,o,sc,a),e_(e,o);else if(jA(h,e,i,a,o))o.stopPropagation();else if(e_(e,o),i&4&&-1<BA.indexOf(e)){for(;h!==null;){var d=qn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Nn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-qe(v);E.entanglements[1]|=b,v&=~b}ni(d),(Gt&6)===0&&(qu=gn()+500,Xo(0))}}break;case 13:E=ra(d,2),E!==null&&dn(E,d,2),Gu(),hd(d,2)}if(d=dd(o),d===null&&Jf(e,i,o,sc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Jf(e,i,o,null,a)}}function dd(e){return e=_n(e),md(e)}var sc=null;function md(e){if(sc=null,e=di(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return sc=e,null}function t_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ph()){case Ja:return 2;case Us:return 8;case Hr:case yh:return 32;case Ls:return 268435456;default:return 32}default:return 32}}var gd=!1,gr=null,pr=null,yr=null,il=new Map,rl=new Map,_r=[],BA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(e,i){switch(e){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(i.pointerId)}}function sl(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=qn(i),i!==null&&Jy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function jA(e,i,a,o,h){switch(i){case"focusin":return gr=sl(gr,e,i,a,o,h),!0;case"dragenter":return pr=sl(pr,e,i,a,o,h),!0;case"mouseover":return yr=sl(yr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return il.set(d,sl(il.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,rl.set(d,sl(rl.get(d)||null,e,i,a,o,h)),!0}return!1}function n_(e){var i=di(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Gl(e.priority,function(){if(a.tag===13){var o=fn();o=Ki(o);var h=ra(a,o);h!==null&&dn(h,a,o),hd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ac(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=dd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);yi=o,a.target.dispatchEvent(o),yi=null}else return i=qn(a),i!==null&&Jy(i),e.blockedOn=a,!1;i.shift()}return!0}function i_(e,i,a){ac(e)&&a.delete(i)}function qA(){gd=!1,gr!==null&&ac(gr)&&(gr=null),pr!==null&&ac(pr)&&(pr=null),yr!==null&&ac(yr)&&(yr=null),il.forEach(i_),rl.forEach(i_)}function oc(e,i){e.blockedOn===i&&(e.blockedOn=null,gd||(gd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qA)))}var lc=null;function r_(e){lc!==e&&(lc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lc===e&&(lc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(md(o||a)===null)continue;break}var d=qn(a);d!==null&&(e.splice(i,3),i-=3,mf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function al(e){function i(b){return oc(b,e)}gr!==null&&oc(gr,e),pr!==null&&oc(pr,e),yr!==null&&oc(yr,e),il.forEach(i),rl.forEach(i);for(var a=0;a<_r.length;a++){var o=_r[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<_r.length&&(a=_r[0],a.blockedOn===null);)n_(a),a.blockedOn===null&&_r.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[de]||null;if(typeof d=="function")v||r_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[de]||null)E=v.formAction;else if(md(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),r_(a)}}}function pd(e){this._internalRoot=e}uc.prototype.render=pd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=fn();Zy(a,o,e,i,null,null)},uc.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Zy(e.current,2,null,e,null,null),Gu(),i[pn]=null}};function uc(e){this._internalRoot=e}uc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Qi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<_r.length&&i!==0&&i<_r[a].priority;a++);_r.splice(a,0,e),a===0&&n_(e)}};var s_=t.version;if(s_!=="19.1.0")throw Error(s(527,s_,"19.1.0"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var HA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{se=cc.inject(HA),Ht=cc}catch{}}return ll.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Tp,d=Ap,v=Sp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Xy(e,1,!1,null,null,a,o,h,d,v,E,null),e[pn]=i.current,Wf(e),new pd(i)},ll.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=Tp,v=Ap,E=Sp,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=Xy(e,1,!0,i,a??null,o,h,d,v,E,b,L),i.context=$y(null),a=i.current,o=fn(),o=Ki(o),h=er(o),h.callback=null,nr(a,h,o),a=o,i.current.lanes=a,fi(i,a),ni(i),e[pn]=i.current,Wf(e),new uc(i)},ll.version="19.1.0",ll}var g_;function tS(){if(g_)return vd.exports;g_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),vd.exports=JA(),vd.exports}var eS=tS();const nS=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},iS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,A=c>>2,I=(c&3)<<4|g>>4;let D=(g&15)<<2|_>>6,q=_&63;p||(q=64,f||(D=64)),s.push(n[A],n[I],n[D],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Fv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):iS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||I==null)throw new rS;const D=c<<2|g>>4;if(s.push(D),_!==64){const q=g<<4&240|_>>2;if(s.push(q),I!==64){const $=_<<6&192|I;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sS=function(r){const t=Fv(r);return Kv.encodeByteArray(t,!0)},Cc=function(r){return sS(r).replace(/\./g,"")},Qv=function(r){try{return Kv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=()=>aS().__FIREBASE_DEFAULTS__,lS=()=>{if(typeof process>"u"||typeof p_>"u")return;const r=p_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Qv(r[1]);return t&&JSON.parse(t)},$c=()=>{try{return nS()||oS()||lS()||uS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Yv=r=>{var t,n;return(n=(t=$c())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},cS=r=>{const t=Yv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Xv=()=>{var r;return(r=$c())===null||r===void 0?void 0:r.config},$v=r=>{var t;return(t=$c())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){return r.endsWith(".cloudworkstations.dev")}async function Zv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Cc(JSON.stringify(n)),Cc(JSON.stringify(f)),""].join(".")}const ml={};function dS(){const r={prod:[],emulator:[]};for(const t of Object.keys(ml))ml[t]?r.emulator.push(t):r.prod.push(t);return r}function mS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let y_=!1;function Zc(r,t){if(typeof window>"u"||typeof document>"u"||!Ol(window.location.host)||ml[r]===t||ml[r]||y_)return;ml[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=dS().prod.length>0;function f(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function p(D,q){D.setAttribute("width","24"),D.setAttribute("id",q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{y_=!0,f()},D}function A(D,q){D.setAttribute("id",q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function I(){const D=mS(s),q=n("text"),$=document.getElementById(q)||document.createElement("span"),nt=n("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),At=n("preprendIcon"),dt=document.getElementById(At)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ut=D.element;g(ut),A(Z,nt);const Mt=_();p(dt,At),ut.append(dt,$,Z,Mt),document.body.appendChild(ut)}c?($.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function pS(){var r;const t=(r=$c())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _S(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function vS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ES(){const r=Ye();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function TS(){return!pS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="FirebaseError";class Gi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=bS,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?wS(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new Gi(l,g,s)}}function wS(r,t){return r.replace(RS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const RS=/\{\$([^}]+)}/g;function IS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Is(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],f=t[l];if(__(c)&&__(f)){if(!Is(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function __(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ul(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function cl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function CS(r,t){const n=new DS(r,t);return n.subscribe.bind(n)}class DS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");OS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Sd),l.error===void 0&&(l.error=Sd),l.complete===void 0&&(l.complete=Sd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Sd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(r){return r&&r._delegate?r._delegate:r}class Cs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new hS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VS(t))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ss){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ss){return this.instances.has(t)}getOptions(t=Ss){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ss){return this.component?this.component.multipleInstances?t:Ss:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MS(r){return r===Ss?void 0:r}function VS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new NS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const xS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},kS=Ot.INFO,US={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},LS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=US[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class am{constructor(t){this.name=t,this._logLevel=kS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const zS=(r,t)=>t.some(n=>r instanceof n);let v_,E_;function BS(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jS(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wv=new WeakMap,Pd=new WeakMap,Jv=new WeakMap,bd=new WeakMap,om=new WeakMap;function qS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(wr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&Wv.set(n,r)}).catch(()=>{}),om.set(t,r),t}function HS(r){if(Pd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Pd.set(r,t)}let xd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Pd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Jv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function GS(r){xd=r(xd)}function FS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(wd(this),t,...n);return Jv.set(s,t.sort?t.sort():[t]),wr(s)}:jS().includes(r)?function(...t){return r.apply(wd(this),t),wr(Wv.get(this))}:function(...t){return wr(r.apply(wd(this),t))}}function KS(r){return typeof r=="function"?FS(r):(r instanceof IDBTransaction&&HS(r),zS(r,BS())?new Proxy(r,xd):r)}function wr(r){if(r instanceof IDBRequest)return qS(r);if(bd.has(r))return bd.get(r);const t=KS(r);return t!==r&&(bd.set(r,t),om.set(t,r)),t}const wd=r=>om.get(r);function QS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),g=wr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(wr(f.result),p.oldVersion,p.newVersion,wr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const YS=["get","getKey","getAll","getAllKeys","count"],XS=["put","add","delete","clear"],Rd=new Map;function T_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Rd.get(t))return Rd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=XS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||YS.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Rd.set(t,c),c}GS(r=>({...r,get:(t,n,s)=>T_(t,n)||r.get(t,n,s),has:(t,n)=>!!T_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const kd="@firebase/app",A_="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new am("@firebase/app"),WS="@firebase/app-compat",JS="@firebase/analytics-compat",t1="@firebase/analytics",e1="@firebase/app-check-compat",n1="@firebase/app-check",i1="@firebase/auth",r1="@firebase/auth-compat",s1="@firebase/database",a1="@firebase/data-connect",o1="@firebase/database-compat",l1="@firebase/functions",u1="@firebase/functions-compat",c1="@firebase/installations",h1="@firebase/installations-compat",f1="@firebase/messaging",d1="@firebase/messaging-compat",m1="@firebase/performance",g1="@firebase/performance-compat",p1="@firebase/remote-config",y1="@firebase/remote-config-compat",_1="@firebase/storage",v1="@firebase/storage-compat",E1="@firebase/firestore",T1="@firebase/vertexai",A1="@firebase/firestore-compat",S1="firebase",b1="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="[DEFAULT]",w1={[kd]:"fire-core",[WS]:"fire-core-compat",[t1]:"fire-analytics",[JS]:"fire-analytics-compat",[n1]:"fire-app-check",[e1]:"fire-app-check-compat",[i1]:"fire-auth",[r1]:"fire-auth-compat",[s1]:"fire-rtdb",[a1]:"fire-data-connect",[o1]:"fire-rtdb-compat",[l1]:"fire-fn",[u1]:"fire-fn-compat",[c1]:"fire-iid",[h1]:"fire-iid-compat",[f1]:"fire-fcm",[d1]:"fire-fcm-compat",[m1]:"fire-perf",[g1]:"fire-perf-compat",[p1]:"fire-rc",[y1]:"fire-rc-compat",[_1]:"fire-gcs",[v1]:"fire-gcs-compat",[E1]:"fire-fst",[A1]:"fire-fst-compat",[T1]:"fire-vertex","fire-js":"fire-js",[S1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Map,R1=new Map,Ld=new Map;function S_(r,t){try{r.container.addComponent(t)}catch(n){Bi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ua(r){const t=r.name;if(Ld.has(t))return Bi.debug(`There were multiple attempts to register component ${t}.`),!1;Ld.set(t,r);for(const n of Dc.values())S_(n,r);for(const n of R1.values())S_(n,r);return!0}function lm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function mn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new Nl("app","Firebase",I1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=b1;function t0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Ud,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw Rr.create("bad-app-name",{appName:String(l)});if(n||(n=Xv()),!n)throw Rr.create("no-options");const c=Dc.get(l);if(c){if(Is(n,c.options)&&Is(s,c.config))return c;throw Rr.create("duplicate-app",{appName:l})}const f=new PS(l);for(const p of Ld.values())f.addComponent(p);const g=new C1(n,s,f);return Dc.set(l,g),g}function e0(r=Ud){const t=Dc.get(r);if(!t&&r===Ud&&Xv())return t0();if(!t)throw Rr.create("no-app",{appName:r});return t}function Ir(r,t,n){var s;let l=(s=w1[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bi.warn(g.join(" "));return}Ua(new Cs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firebase-heartbeat-database",O1=1,Tl="firebase-heartbeat-store";let Id=null;function n0(){return Id||(Id=QS(D1,O1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Tl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Rr.create("idb-open",{originalErrorMessage:r.message})})),Id}async function N1(r){try{const n=(await n0()).transaction(Tl),s=await n.objectStore(Tl).get(i0(r));return await n.done,s}catch(t){if(t instanceof Gi)Bi.warn(t.message);else{const n=Rr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(n.message)}}}async function b_(r,t){try{const s=(await n0()).transaction(Tl,"readwrite");await s.objectStore(Tl).put(t,i0(r)),await s.done}catch(n){if(n instanceof Gi)Bi.warn(n.message);else{const s=Rr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bi.warn(s.message)}}}function i0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=1024,V1=30;class P1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=w_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>V1){const f=U1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Bi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=w_(),{heartbeatsToSend:s,unsentEntries:l}=x1(this._heartbeatsCache.heartbeats),c=Cc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Bi.warn(n),""}}}function w_(){return new Date().toISOString().substring(0,10)}function x1(r,t=M1){const n=[];let s=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),R_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),R_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class k1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return b_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return b_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function R_(r){return Cc(JSON.stringify({version:2,heartbeats:r})).length}function U1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(r){Ua(new Cs("platform-logger",t=>new $S(t),"PRIVATE")),Ua(new Cs("heartbeat",t=>new P1(t),"PRIVATE")),Ir(kd,A_,r),Ir(kd,A_,"esm2017"),Ir("fire-js","")}L1("");function um(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function r0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z1=r0,s0=new Nl("auth","Firebase",r0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new am("@firebase/auth");function B1(r,...t){Oc.logLevel<=Ot.WARN&&Oc.warn(`Auth (${Ka}): ${r}`,...t)}function _c(r,...t){Oc.logLevel<=Ot.ERROR&&Oc.error(`Auth (${Ka}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(r,...t){throw hm(r,...t)}function zn(r,...t){return hm(r,...t)}function cm(r,t,n){const s=Object.assign(Object.assign({},z1()),{[t]:n});return new Nl("auth","Firebase",s).create(t,{appName:r.name})}function zi(r){return cm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j1(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&On(r,"argument-error"),cm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return s0.create(r,...t)}function gt(r,t,...n){if(!r)throw hm(t,...n)}function Ui(r){const t="INTERNAL ASSERTION FAILED: "+r;throw _c(t),new Error(t)}function ji(r,t){r||Ui(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function q1(){return I_()==="http:"||I_()==="https:"}function I_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q1()||_S()||"connection"in navigator)?navigator.onLine:!0}function G1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,n){this.shortDelay=t,this.longDelay=n,ji(n>t,"Short delay should be less than long delay!"),this.isMobile=gS()||vS()}get(){return H1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(r,t){ji(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q1=new Vl(3e4,6e4);function Ur(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Lr(r,t,n,s,l={}){return o0(r,l,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=Ml(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return yS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Ol(r.emulatorConfig.host)&&(_.credentials="include"),a0.fetch()(await l0(r,r.config.apiHost,n,g),_)})}async function o0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},F1),t);try{const l=new X1(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw hc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw hc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw hc(r,"user-disabled",f);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw cm(r,A,_);On(r,A)}}catch(l){if(l instanceof Gi)throw l;On(r,"network-request-failed",{message:String(l)})}}async function Pl(r,t,n,s,l={}){const c=await Lr(r,t,n,s,l);return"mfaPendingCredential"in c&&On(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function l0(r,t,n,s){const l=`${t}${n}?${s}`,c=r,f=c.config.emulator?fm(r.config,l):`${r.config.apiScheme}://${l}`;return K1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function Y1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(zn(this.auth,"network-request-failed")),Q1.get())})}}function hc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=zn(r,t,s);return l.customData._tokenResponse=n,l}function C_(r){return r!==void 0&&r.enterprise!==void 0}class $1{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Y1(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Z1(r,t){return Lr(r,"GET","/v2/recaptchaConfig",Ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(r,t){return Lr(r,"POST","/v1/accounts:delete",t)}async function Nc(r,t){return Lr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function J1(r,t=!1){const n=rn(r),s=await n.getIdToken(t),l=dm(s);gt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:gl(Cd(l.auth_time)),issuedAtTime:gl(Cd(l.iat)),expirationTime:gl(Cd(l.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Cd(r){return Number(r)*1e3}function dm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return _c("JWT malformed, contained fewer than 3 sections"),null;try{const l=Qv(n);return l?JSON.parse(l):(_c("Failed to decode base64 JWT payload"),null)}catch(l){return _c("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function D_(r){const t=dm(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Gi&&tb(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function tb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Al(r,Nc(n,{idToken:s}));gt(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?u0(c.providerUserInfo):[],g=ib(r.providerData,f),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?_:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Bd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,I)}async function nb(r){const t=rn(r);await Mc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ib(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function u0(r){return r.map(t=>{var{providerId:n}=t,s=um(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rb(r,t){const n=await o0(r,{},async()=>{const s=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=await l0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",a0.fetch()(f,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sb(r,t){return Lr(r,"POST","/v2/accounts:revokeToken",Ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):D_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=D_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await rb(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,f=new Va;return s&&(gt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(gt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Va,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Un{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=um(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Bd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Al(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return J1(this,t)}reload(){return nb(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Un(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Mc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(zi(this.auth));const t=await this.getIdToken();return await Al(this,W1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,f,g,p,_,A;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,D=(l=n.email)!==null&&l!==void 0?l:void 0,q=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,$=(f=n.photoURL)!==null&&f!==void 0?f:void 0,nt=(g=n.tenantId)!==null&&g!==void 0?g:void 0,Z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,At=(_=n.createdAt)!==null&&_!==void 0?_:void 0,dt=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ut,emailVerified:Mt,isAnonymous:vt,providerData:Vt,stsTokenManager:M}=n;gt(ut&&M,t,"internal-error");const S=Va.fromJSON(this.name,M);gt(typeof ut=="string",t,"internal-error"),Er(I,t.name),Er(D,t.name),gt(typeof Mt=="boolean",t,"internal-error"),gt(typeof vt=="boolean",t,"internal-error"),Er(q,t.name),Er($,t.name),Er(nt,t.name),Er(Z,t.name),Er(At,t.name),Er(dt,t.name);const w=new Un({uid:ut,auth:t,email:D,emailVerified:Mt,displayName:I,isAnonymous:vt,photoURL:$,phoneNumber:q,tenantId:nt,stsTokenManager:S,createdAt:At,lastLoginAt:dt});return Vt&&Array.isArray(Vt)&&(w.providerData=Vt.map(N=>Object.assign({},N))),Z&&(w._redirectEventId=Z),w}static async _fromIdTokenResponse(t,n,s=!1){const l=new Va;l.updateFromServerResponse(n);const c=new Un({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Mc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?u0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Va;g.updateFromIdToken(s);const p=new Un({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Bd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=new Map;function Li(r){ji(r instanceof Function,"Expected a class definition");let t=O_.get(r);return t?(ji(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,O_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}c0.type="NONE";const N_=c0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(r,t,n){return`firebase:${r}:${t}:${n}`}class Pa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=vc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Nc(this.auth,{idToken:t}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,t):null}return Un._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Pa(Li(N_),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Li(N_);const f=vc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const A=await _._get(f);if(A){let I;if(typeof A=="string"){const D=await Nc(t,{idToken:A}).catch(()=>{});if(!D)break;I=await Un._fromGetAccountInfoResponse(t,D,A)}else I=Un._fromJSON(t,A);_!==c&&(g=I),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Pa(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Pa(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(m0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(h0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(p0(t))return"Blackberry";if(y0(t))return"Webos";if(f0(t))return"Safari";if((t.includes("chrome/")||d0(t))&&!t.includes("edge/"))return"Chrome";if(g0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function h0(r=Ye()){return/firefox\//i.test(r)}function f0(r=Ye()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function d0(r=Ye()){return/crios\//i.test(r)}function m0(r=Ye()){return/iemobile/i.test(r)}function g0(r=Ye()){return/android/i.test(r)}function p0(r=Ye()){return/blackberry/i.test(r)}function y0(r=Ye()){return/webos/i.test(r)}function mm(r=Ye()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ab(r=Ye()){var t;return mm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function ob(){return ES()&&document.documentMode===10}function _0(r=Ye()){return mm(r)||g0(r)||y0(r)||p0(r)||/windows phone/i.test(r)||m0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(r,t=[]){let n;switch(r){case"Browser":n=M_(Ye());break;case"Worker":n=`${M_(Ye())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(r,t={}){return Lr(r,"GET","/v2/passwordPolicy",Ur(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=6;class hb{constructor(t){var n,s,l,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:cb,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V_(this),this.idTokenSubscription=new V_(this),this.beforeStateQueue=new lb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Li(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Nc(this,{idToken:t}),s=await Un._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(mn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Mc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=G1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(mn(this.app))return Promise.reject(zi(this));const n=t?rn(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return mn(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ub(this),n=new hb(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Nl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sb(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Li(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=v0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&B1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zr(r){return rn(r)}class V_{constructor(t){this.auth=t,this.observer=null,this.addObserver=CS(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function db(r){Wc=r}function E0(r){return Wc.loadJS(r)}function mb(){return Wc.recaptchaEnterpriseScript}function gb(){return Wc.gapiScript}function pb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class yb{constructor(){this.enterprise=new _b}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class _b{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const vb="recaptcha-enterprise",T0="NO_RECAPTCHA";class Eb{constructor(t){this.type=vb,this.auth=zr(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{Z1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new $1(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,f(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,f,g){const p=window.grecaptcha;C_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(_=>{f(_)}).catch(()=>{f(T0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yb().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(g=>{if(!n&&C_(window.grecaptcha))l(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=mb();p.length!==0&&(p+=g),E0(p).then(()=>{l(g,c,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})}}async function P_(r,t,n,s=!1,l=!1){const c=new Eb(r);let f;if(l)f=T0;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const g=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function jd(r,t,n,s,l){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await P_(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await P_(r,t,n,n==="getOobCode");return s(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(r,t){const n=lm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Is(c,t??{}))return l;On(l,"already-initialized")}return n.initialize({options:t})}function Ab(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Li);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function Sb(r,t,n){const s=zr(r);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=A0(t),{host:f,port:g}=bb(t),p=g===null?"":`:${g}`,_={url:`${c}//${f}${p}/`},A=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(Is(_,s.config.emulator)&&Is(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Ol(f)?(Zc("Auth",!0),Zv(`${c}//${f}${p}`)):wb()}function A0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function bb(r){const t=A0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:x_(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:x_(f)}}}function x_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function wb(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ui("not implemented")}_getIdTokenResponse(t){return Ui("not implemented")}_linkToIdToken(t,n){return Ui("not implemented")}_getReauthenticationResolver(t){return Ui("not implemented")}}async function Rb(r,t){return Lr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(r,t){return Pl(r,"POST","/v1/accounts:signInWithPassword",Ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(r,t){return Pl(r,"POST","/v1/accounts:signInWithEmailLink",Ur(r,t))}async function Db(r,t){return Pl(r,"POST","/v1/accounts:signInWithEmailLink",Ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends gm{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Sl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Sl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jd(t,n,"signInWithPassword",Ib);case"emailLink":return Cb(t,{email:this._email,oobCode:this._password});default:On(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jd(t,s,"signUpPassword",Rb);case"emailLink":return Db(t,{idToken:n,email:this._email,oobCode:this._password});default:On(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(r,t){return Pl(r,"POST","/v1/accounts:signInWithIdp",Ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="http://localhost";class Ds extends gm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ds(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=um(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new Ds(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return xa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,xa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,xa(t,n)}buildRequest(){const t={requestUri:Ob,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ml(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mb(r){const t=ul(cl(r)).link,n=t?ul(cl(t)).deep_link_id:null,s=ul(cl(r)).deep_link_id;return(s?ul(cl(s)).link:null)||s||n||t||r}class pm{constructor(t){var n,s,l,c,f,g;const p=ul(cl(t)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,A=(s=p.oobCode)!==null&&s!==void 0?s:null,I=Nb((l=p.mode)!==null&&l!==void 0?l:null);gt(_&&A&&I,"argument-error"),this.apiKey=_,this.operation=I,this.code=A,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const n=Mb(t);try{return new pm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.providerId=Qa.PROVIDER_ID}static credential(t,n){return Sl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=pm.parseLink(n);return gt(s,"argument-error"),Sl._fromEmailAndCode(t,s.code,s.tenantId)}}Qa.PROVIDER_ID="password";Qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends ym{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends xl{constructor(){super("facebook.com")}static credential(t){return Ds._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ds._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ki.credentialFromTaggedObject(t)}static credentialFromError(t){return ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ki.credential(n,s)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends xl{constructor(){super("github.com")}static credential(t){return Ds._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ar.credential(t.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends xl{constructor(){super("twitter.com")}static credential(t,n){return Ds._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Sr.credential(n,s)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(r,t){return Pl(r,"POST","/v1/accounts:signUp",Ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Un._fromIdTokenResponse(t,s,l),f=k_(s);return new Os({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=k_(s);return new Os({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function k_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends Gi{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Vc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Vc(t,n,s,l)}}function S0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Vc._fromErrorAndOperation(r,c,t,s):c})}async function Pb(r,t,n=!1){const s=await Al(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Os._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(r,t,n=!1){const{auth:s}=r;if(mn(s.app))return Promise.reject(zi(s));const l="reauthenticate";try{const c=await Al(r,S0(s,l,t,r),n);gt(c.idToken,s,"internal-error");const f=dm(c.idToken);gt(f,s,"internal-error");const{sub:g}=f;return gt(r.uid===g,s,"user-mismatch"),Os._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&On(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(r,t,n=!1){if(mn(r.app))return Promise.reject(zi(r));const s="signIn",l=await S0(r,s,t),c=await Os._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function kb(r,t){return b0(zr(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(r){const t=zr(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ub(r,t,n){if(mn(r.app))return Promise.reject(zi(r));const s=zr(r),f=await jd(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vb).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&w0(r),p}),g=await Os._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function Lb(r,t,n){return mn(r.app)?Promise.reject(zi(r)):kb(rn(r),Qa.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&w0(r),s})}function zb(r,t,n,s){return rn(r).onIdTokenChanged(t,n,s)}function Bb(r,t,n){return rn(r).beforeAuthStateChanged(t,n)}function jb(r,t,n,s){return rn(r).onAuthStateChanged(t,n,s)}function qb(r){return rn(r).signOut()}const Pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=1e3,Gb=10;class I0 extends R0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);ob()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Gb):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},Hb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}I0.type="LOCAL";const Fb=I0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends R0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}C0.type="SESSION";const D0=C0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Jc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,c)),p=await Kb(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const _=_m("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(I){const D=I;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function Yb(r){ri().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function Xb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $b(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Zb(){return O0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="firebaseLocalStorageDb",Wb=1,xc="firebaseLocalStorage",M0="fbase_key";class kl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function th(r,t){return r.transaction([xc],t?"readwrite":"readonly").objectStore(xc)}function Jb(){const r=indexedDB.deleteDatabase(N0);return new kl(r).toPromise()}function qd(){const r=indexedDB.open(N0,Wb);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xc,{keyPath:M0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xc)?t(s):(s.close(),await Jb(),t(await qd()))})})}async function U_(r,t,n){const s=th(r,!0).put({[M0]:t,value:n});return new kl(s).toPromise()}async function tw(r,t){const n=th(r,!1).get(t),s=await new kl(n).toPromise();return s===void 0?null:s.value}function L_(r,t){const n=th(r,!0).delete(t);return new kl(n).toPromise()}const ew=800,nw=3;class V0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>nw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jc._getInstance(Zb()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Xb(),!this.activeServiceWorker)return;this.sender=new Qb(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$b()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await qd();return await U_(t,Pc,"1"),await L_(t,Pc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>U_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>tw(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>L_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=th(l,!1).getAll();return new kl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V0.type="LOCAL";const iw=V0;new Vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(r,t){return t?Li(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends gm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return xa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function rw(r){return b0(r.auth,new vm(r),r.bypassAuthState)}function sw(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),xb(n,new vm(r),r.bypassAuthState)}async function aw(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),Pb(n,new vm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rw;case"linkViaPopup":case"linkViaRedirect":return aw;case"reauthViaPopup":case"reauthViaRedirect":return sw;default:On(this.auth,"internal-error")}}resolve(t){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new Vl(2e3,1e4);async function lw(r,t,n){if(mn(r.app))return Promise.reject(zn(r,"operation-not-supported-in-this-environment"));const s=zr(r);j1(r,t,ym);const l=P0(s,n);return new bs(s,"signInViaPopup",t,l).executeNotNull()}class bs extends x0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const t=_m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ow.get())};t()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="pendingRedirect",Ec=new Map;class cw extends x0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Ec.get(this.auth._key());if(!t){try{const s=await hw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Ec.set(this.auth._key(),t)}return this.bypassAuthState||Ec.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hw(r,t){const n=mw(t),s=dw(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function fw(r,t){Ec.set(r._key(),t)}function dw(r){return Li(r._redirectPersistence)}function mw(r){return vc(uw,r.config.apiKey,r.name)}async function gw(r,t,n=!1){if(mn(r.app))return Promise.reject(zi(r));const s=zr(r),l=P0(s,t),f=await new cw(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=10*60*1e3;class yw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_w(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!k0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pw&&this.cachedEventUids.clear(),this.cachedEventUids.has(z_(t))}saveEventToCache(t){this.cachedEventUids.add(z_(t)),this.lastProcessedEventTime=Date.now()}}function z_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function k0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function _w(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(r,t={}){return Lr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tw=/^https?/;async function Aw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await vw(r);for(const n of t)try{if(Sw(n))return}catch{}On(r,"unauthorized-domain")}function Sw(r){const t=zd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Tw.test(n))return!1;if(Ew.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new Vl(3e4,6e4);function B_(){const r=ri().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function ww(r){return new Promise((t,n)=>{var s,l,c;function f(){B_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{B_(),n(zn(r,"network-request-failed"))},timeout:bw.get()})}if(!((l=(s=ri().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ri().gapi)===null||c===void 0)&&c.load)f();else{const g=pb("iframefcb");return ri()[g]=()=>{gapi.load?f():n(zn(r,"network-request-failed"))},E0(`${gb()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw Tc=null,t})}let Tc=null;function Rw(r){return Tc=Tc||ww(r),Tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new Vl(5e3,15e3),Cw="__/auth/iframe",Dw="emulator/auth/iframe",Ow={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mw(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?fm(t,Dw):`https://${r.config.authDomain}/${Cw}`,s={apiKey:t.apiKey,appName:r.name,v:Ka},l=Nw.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Ml(s).slice(1)}`}async function Vw(r){const t=await Rw(r),n=ri().gapi;return gt(n,r,"internal-error"),t.open({where:document.body,url:Mw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ow,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=zn(r,"network-request-failed"),g=ri().setTimeout(()=>{c(f)},Iw.get());function p(){ri().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xw=500,kw=600,Uw="_blank",Lw="http://localhost";class j_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zw(r,t,n,s=xw,l=kw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},Pw),{width:s.toString(),height:l.toString(),top:c,left:f}),_=Ye().toLowerCase();n&&(g=d0(_)?Uw:n),h0(_)&&(t=t||Lw,p.scrollbars="yes");const A=Object.entries(p).reduce((D,[q,$])=>`${D}${q}=${$},`,"");if(ab(_)&&g!=="_self")return Bw(t||"",g),new j_(null);const I=window.open(t||"",g,A);gt(I,r,"popup-blocked");try{I.focus()}catch{}return new j_(I)}function Bw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="__/auth/handler",qw="emulator/auth/handler",Hw=encodeURIComponent("fac");async function q_(r,t,n,s,l,c){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ka,eventId:l};if(t instanceof ym){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",IS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))f[A]=I}if(t instanceof xl){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(f.scopes=A.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),_=p?`#${Hw}=${encodeURIComponent(p)}`:"";return`${Gw(r)}?${Ml(g).slice(1)}${_}`}function Gw({config:r}){return r.emulator?fm(r,qw):`https://${r.authDomain}/${jw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class Fw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D0,this._completeRedirectFn=gw,this._overrideRedirectResult=fw}async _openPopup(t,n,s,l){var c;ji((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await q_(t,n,s,zd(),l);return zw(t,f,_m())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await q_(t,n,s,zd(),l);return Yb(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(ji(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Vw(t),s=new yw(t);return n.register("authEvent",l=>(gt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Dd,{type:Dd},l=>{var c;const f=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Dd];f!==void 0&&n(!!f),On(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Aw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _0()||f0()||mm()}}const Kw=Fw;var H_="@firebase/auth",G_="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xw(r){Ua(new Cs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;gt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v0(r)},_=new fb(s,l,c,p);return Ab(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ua(new Cs("auth-internal",t=>{const n=zr(t.getProvider("auth").getImmediate());return(s=>new Qw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(H_,G_,Yw(r)),Ir(H_,G_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=5*60,Zw=$v("authIdTokenMaxAge")||$w;let F_=null;const Ww=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Zw)return;const l=n==null?void 0:n.token;F_!==l&&(F_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Jw(r=e0()){const t=lm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=Tb(r,{popupRedirectResolver:Kw,persistence:[iw,Fb,D0]}),s=$v("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=Ww(c.toString());Bb(n,f,()=>f(n.currentUser)),zb(n,g=>f(g))}}const l=Yv("auth");return l?Sb(n,`http://${l}`):Zc("Auth",!1),n}function tR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}db({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=zn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",tR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xw("Browser");var eR="firebase",nR="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(eR,nR,"app");var K_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,U0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,S){function w(){}w.prototype=S.prototype,M.D=S.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(N,V,x){for(var R=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)R[Ve-2]=arguments[Ve];return S.prototype[V].apply(N,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)N[V]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(V=0;16>V;++V)N[V]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=M.g[0],w=M.g[1],V=M.g[2];var x=M.g[3],R=S+(x^w&(V^x))+N[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=x+(V^S&(w^V))+N[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=V+(w^x&(S^w))+N[2]+606105819&4294967295,V=x+(R<<17&4294967295|R>>>15),R=w+(S^V&(x^S))+N[3]+3250441966&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(x^w&(V^x))+N[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(V^S&(w^V))+N[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=V+(w^x&(S^w))+N[6]+2821735955&4294967295,V=x+(R<<17&4294967295|R>>>15),R=w+(S^V&(x^S))+N[7]+4249261313&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(x^w&(V^x))+N[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(V^S&(w^V))+N[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=V+(w^x&(S^w))+N[10]+4294925233&4294967295,V=x+(R<<17&4294967295|R>>>15),R=w+(S^V&(x^S))+N[11]+2304563134&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(x^w&(V^x))+N[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(V^S&(w^V))+N[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=V+(w^x&(S^w))+N[14]+2792965006&4294967295,V=x+(R<<17&4294967295|R>>>15),R=w+(S^V&(x^S))+N[15]+1236535329&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(V^x&(w^V))+N[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^V&(S^w))+N[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(x^S))+N[11]+643717713&4294967295,V=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(V^x))+N[0]+3921069994&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(V^x&(w^V))+N[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^V&(S^w))+N[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(x^S))+N[15]+3634488961&4294967295,V=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(V^x))+N[4]+3889429448&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(V^x&(w^V))+N[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^V&(S^w))+N[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(x^S))+N[3]+4107603335&4294967295,V=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(V^x))+N[8]+1163531501&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(V^x&(w^V))+N[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^V&(S^w))+N[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(x^S))+N[7]+1735328473&4294967295,V=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(V^x))+N[12]+2368359562&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(w^V^x)+N[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^V)+N[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=V+(x^S^w)+N[11]+1839030562&4294967295,V=x+(R<<16&4294967295|R>>>16),R=w+(V^x^S)+N[14]+4259657740&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(w^V^x)+N[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^V)+N[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=V+(x^S^w)+N[7]+4139469664&4294967295,V=x+(R<<16&4294967295|R>>>16),R=w+(V^x^S)+N[10]+3200236656&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(w^V^x)+N[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^V)+N[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=V+(x^S^w)+N[3]+3572445317&4294967295,V=x+(R<<16&4294967295|R>>>16),R=w+(V^x^S)+N[6]+76029189&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(w^V^x)+N[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^V)+N[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=V+(x^S^w)+N[15]+530742520&4294967295,V=x+(R<<16&4294967295|R>>>16),R=w+(V^x^S)+N[2]+3299628645&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(V^(w|~x))+N[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~V))+N[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=V+(S^(x|~w))+N[14]+2878612391&4294967295,V=x+(R<<15&4294967295|R>>>17),R=w+(x^(V|~S))+N[5]+4237533241&4294967295,w=V+(R<<21&4294967295|R>>>11),R=S+(V^(w|~x))+N[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~V))+N[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=V+(S^(x|~w))+N[10]+4293915773&4294967295,V=x+(R<<15&4294967295|R>>>17),R=w+(x^(V|~S))+N[1]+2240044497&4294967295,w=V+(R<<21&4294967295|R>>>11),R=S+(V^(w|~x))+N[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~V))+N[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=V+(S^(x|~w))+N[6]+2734768916&4294967295,V=x+(R<<15&4294967295|R>>>17),R=w+(x^(V|~S))+N[13]+1309151649&4294967295,w=V+(R<<21&4294967295|R>>>11),R=S+(V^(w|~x))+N[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~V))+N[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=V+(S^(x|~w))+N[2]+718787259&4294967295,V=x+(R<<15&4294967295|R>>>17),R=w+(x^(V|~S))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+x&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var w=S-this.blockSize,N=this.B,V=this.h,x=0;x<S;){if(V==0)for(;x<=w;)l(this,M,x),x+=this.blockSize;if(typeof M=="string"){for(;x<S;)if(N[V++]=M.charCodeAt(x++),V==this.blockSize){l(this,N),V=0;break}}else for(;x<S;)if(N[V++]=M[x++],V==this.blockSize){l(this,N),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var w=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=w&255,w/=256;for(this.u(M),M=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)M[w++]=this.g[S]>>>N&255;return M};function c(M,S){var w=g;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=S(M)}function f(M,S){this.h=S;for(var w=[],N=!0,V=M.length-1;0<=V;V--){var x=M[V]|0;N&&x==S||(w[V]=x,N=!1)}this.g=w}var g={};function p(M){return-128<=M&&128>M?c(M,function(S){return new f([S|0],0>S?-1:0)}):new f([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return Z(_(-M));for(var S=[],w=1,N=0;M>=w;N++)S[N]=M/w|0,w*=4294967296;return new f(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return Z(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),N=I,V=0;V<M.length;V+=8){var x=Math.min(8,M.length-V),R=parseInt(M.substring(V,V+x),S);8>x?(x=_(Math.pow(S,x)),N=N.j(x).add(_(R))):(N=N.j(w),N=N.add(_(R)))}return N}var I=p(0),D=p(1),q=p(16777216);r=f.prototype,r.m=function(){if(nt(this))return-Z(this).m();for(var M=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);M+=(0<=N?N:4294967296+N)*S,S*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if($(this))return"0";if(nt(this))return"-"+Z(this).toString(M);for(var S=_(Math.pow(M,6)),w=this,N="";;){var V=Mt(w,S).g;w=At(w,V.j(S));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=V,$(w))return x+N;for(;6>x.length;)x="0"+x;N=x+N}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function $(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function nt(M){return M.h==-1}r.l=function(M){return M=At(this,M),nt(M)?-1:$(M)?0:1};function Z(M){for(var S=M.g.length,w=[],N=0;N<S;N++)w[N]=~M.g[N];return new f(w,~M.h).add(D)}r.abs=function(){return nt(this)?Z(this):this},r.add=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0,V=0;V<=S;V++){var x=N+(this.i(V)&65535)+(M.i(V)&65535),R=(x>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);N=R>>>16,x&=65535,R&=65535,w[V]=R<<16|x}return new f(w,w[w.length-1]&-2147483648?-1:0)};function At(M,S){return M.add(Z(S))}r.j=function(M){if($(this)||$(M))return I;if(nt(this))return nt(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if(nt(M))return Z(this.j(Z(M)));if(0>this.l(q)&&0>M.l(q))return _(this.m()*M.m());for(var S=this.g.length+M.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<M.g.length;V++){var x=this.i(N)>>>16,R=this.i(N)&65535,Ve=M.i(V)>>>16,re=M.i(V)&65535;w[2*N+2*V]+=R*re,dt(w,2*N+2*V),w[2*N+2*V+1]+=x*re,dt(w,2*N+2*V+1),w[2*N+2*V+1]+=R*Ve,dt(w,2*N+2*V+1),w[2*N+2*V+2]+=x*Ve,dt(w,2*N+2*V+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new f(w,0)};function dt(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function ut(M,S){this.g=M,this.h=S}function Mt(M,S){if($(S))throw Error("division by zero");if($(M))return new ut(I,I);if(nt(M))return S=Mt(Z(M),S),new ut(Z(S.g),Z(S.h));if(nt(S))return S=Mt(M,Z(S)),new ut(Z(S.g),S.h);if(30<M.g.length){if(nt(M)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=D,N=S;0>=N.l(M);)w=vt(w),N=vt(N);var V=Vt(w,1),x=Vt(N,1);for(N=Vt(N,2),w=Vt(w,2);!$(N);){var R=x.add(N);0>=R.l(M)&&(V=V.add(w),x=R),N=Vt(N,1),w=Vt(w,1)}return S=At(M,V.j(S)),new ut(V,S)}for(V=I;0<=M.l(S);){for(w=Math.max(1,Math.floor(M.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),x=_(w),R=x.j(S);nt(R)||0<R.l(M);)w-=N,x=_(w),R=x.j(S);$(x)&&(x=D),V=V.add(x),M=At(M,R)}return new ut(V,M)}r.A=function(M){return Mt(this,M).h},r.and=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&M.i(N);return new f(w,this.h&M.h)},r.or=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|M.i(N);return new f(w,this.h|M.h)},r.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^M.i(N);return new f(w,this.h^M.h)};function vt(M){for(var S=M.g.length+1,w=[],N=0;N<S;N++)w[N]=M.i(N)<<1|M.i(N-1)>>>31;return new f(w,M.h)}function Vt(M,S){var w=S>>5;S%=32;for(var N=M.g.length-w,V=[],x=0;x<N;x++)V[x]=0<S?M.i(x+w)>>>S|M.i(x+w+1)<<32-S:M.i(x+w);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,U0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=A,Cr=f}).apply(typeof K_<"u"?K_:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L0,hl,z0,Ac,Hd,B0,j0,q0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in y))break t;y=y[k]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,k={next:function(){if(!T&&y<u.length){var j=y++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function I(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function D(u,m,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,D.apply(null,arguments)}function q(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,k,j){for(var J=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)J[Pt-2]=arguments[Pt];return m.prototype[k].apply(T,J)}}function nt(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const k=u.length||0,j=T.length||0;u.length=k+j;for(let J=0;J<j;J++)u[k+J]=T[J]}else u.push(T)}}class At{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Mt(u){return Mt[" "](u),u}Mt[" "]=function(){};var vt=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function Vt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function M(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(y in T)u[y]=T[y];for(let j=0;j<w.length;j++)y=w[j],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function x(u){g.setTimeout(()=>{throw u},0)}function R(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ve{constructor(){this.h=this.g=null}add(m,y){const T=re.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new At(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ot=!1,zt=new Ve,C=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){x(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Rt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{Mt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}$(Rt,W);var _t={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Bn(u,m,y,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=k,this.key=++Zt,this.da=this.fa=!1}function Fi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ci(u){this.src=u,this.g={},this.h=0}ci.prototype.add=function(u,m,y,T,k){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var J=jr(u,m,T,k);return-1<J?(m=u[J],y||(m.fa=!1)):(m=new Bn(m,this.src,j,!!T,k),m.fa=y,u.push(m)),m};function Br(u,m){var y=m.type;if(y in u.g){var T=u.g[y],k=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=k)&&Array.prototype.splice.call(T,k,1),j&&(Fi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function jr(u,m,y,T){for(var k=0;k<u.length;++k){var j=u[k];if(!j.da&&j.listener==m&&j.capture==!!y&&j.ha==T)return k}return-1}var qr="closure_lm_"+(1e6*Math.random()|0),Wa={};function jl(u,m,y,T,k){if(Array.isArray(m)){for(var j=0;j<m.length;j++)jl(u,m[j],y,T,k);return null}return y=ql(y),u&&u[Re]?u.K(m,y,_(T)?!!T.capture:!1,k):gn(u,m,y,!1,T,k)}function gn(u,m,y,T,k,j){if(!m)throw Error("Invalid event type");var J=_(k)?!!k.capture:!!k,Pt=Ls(u);if(Pt||(u[qr]=Pt=new ci(u)),y=Pt.add(m,y,T,J,j),y.proxy)return y;if(T=ph(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ct||(k=J),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Hr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ph(){function u(y){return m.call(u.src,u.listener,y)}const m=yh;return u}function Ja(u,m,y,T,k){if(Array.isArray(m))for(var j=0;j<m.length;j++)Ja(u,m[j],y,T,k);else T=_(T)?!!T.capture:!!T,y=ql(y),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],y=jr(j,y,T,k),-1<y&&(Fi(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ls(u))&&(m=u.g[m.toString()],u=-1,m&&(u=jr(m,y,T,k)),(y=-1<u?m[u]:null)&&Us(y))}function Us(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Br(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Hr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Ls(m))?(Br(y,u),y.h==0&&(y.src=null,m[qr]=null)):Fi(u)}}}function Hr(u){return u in Wa?Wa[u]:Wa[u]="on"+u}function yh(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Us(u),u=y.call(T,m)}return u}function Ls(u){return u=u[qr],u instanceof ci?u:null}var to="__closure_events_fn_"+(1e9*Math.random()>>>0);function ql(u){return typeof u=="function"?u:(u[to]||(u[to]=function(m){return u.handleEvent(m)}),u[to])}function se(){et.call(this),this.i=new ci(this),this.M=this,this.F=null}$(se,et),se.prototype[Re]=!0,se.prototype.removeEventListener=function(u,m,y,T){Ja(this,u,m,y,T)};function Ht(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var k=m;m=new W(T,u),N(m,k)}if(k=!0,y)for(var j=y.length-1;0<=j;j--){var J=m.g=y[j];k=sn(J,T,!0,m)&&k}if(J=m.g=u,k=sn(J,T,!0,m)&&k,k=sn(J,T,!1,m)&&k,y)for(j=0;j<y.length;j++)J=m.g=y[j],k=sn(J,T,!1,m)&&k}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Fi(y[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},se.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function sn(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,j=0;j<m.length;++j){var J=m[j];if(J&&!J.da&&J.capture==y){var Pt=J.listener,ve=J.ha||J.src;J.fa&&Br(u.i,J),k=Pt.call(ve,T)!==!1&&k}}return k&&!T.defaultPrevented}function qe(u,m,y){if(typeof u=="function")y&&(u=D(u,y));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Hl(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,Hl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class _h extends et{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Hl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(u){et.call(this),this.h=u,this.g={}}$(Gr,et);var Fr=[];function Kr(u){Vt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Us(m)},u),u.g={}}Gr.prototype.N=function(){Gr.aa.N.call(this),Kr(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=g.JSON.stringify,zs=g.JSON.parse,Qr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function eo(){}eo.prototype.h=null;function no(u){return u.h||(u.h=u.i())}function io(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){W.call(this,"d")}$(fi,W);function ro(){W.call(this,"c")}$(ro,W);var jn={},so=null;function Ki(){return so=so||new se}jn.La="serverreachability";function Bs(u){W.call(this,jn.La,u)}$(Bs,W);function Qi(u){const m=Ki();Ht(m,new Bs(m))}jn.STAT_EVENT="statevent";function Gl(u,m){W.call(this,jn.STAT_EVENT,u),this.stat=m}$(Gl,W);function Jt(u){const m=Ki();Ht(m,new Gl(m,u))}jn.Ma="timingevent";function _e(u,m){W.call(this,jn.Ma,u),this.size=m}$(_e,W);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function ao(u,m,y,T,k,j){u.info(function(){if(u.g)if(j)for(var J="",Pt=j.split("&"),ve=0;ve<Pt.length;ve++){var xt=Pt[ve].split("=");if(1<xt.length){var Ce=xt[0];xt=xt[1];var Ee=Ce.split("_");J=2<=Ee.length&&Ee[1]=="type"?J+(Ce+"="+xt+"&"):J+(Ce+"=redacted&")}}else J=null;else J=j;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+y+`
`+J})}function vh(u,m,y,T,k,j,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+y+`
`+j+" "+J})}function Yi(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yr(u,y)+(T?" "+T:"")})}function Fl(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Yr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var j=k[0];if(j!="noop"&&j!="stop"&&j!="close")for(var J=1;J<k.length;J++)k[J]=""}}}}return Nn(y)}catch{return m}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function Hn(){}$(Hn,eo),Hn.prototype.g=function(){return new XMLHttpRequest},Hn.prototype.i=function(){return{}},qn=new Hn;function Xe(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var oo={},js={};function Mn(u,m,y){u.L=1,u.v=Jr(an(m)),u.m=y,u.P=!0,mi(u,null)}function mi(u,m){u.F=Date.now(),Xr(u),u.A=an(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),mo(y.i,"t",T),u.C=0,y=u.j.J,u.h=new ue,u.g=ou(u.j,y?m:null,!u.m),0<u.O&&(u.M=new _h(D(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Fr[0]=k.toString()),k=Fr);for(var j=0;j<k.length;j++){var J=jl(y,k[j],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Qi(),ao(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=En(this.g);var m=this.g.Ba();const Ai=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||Jl(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=Ai?Qi(3):Qi(2)),$i(this);var y=this.g.Z();this.X=y;e:if(Kl(this)){var T=Jl(this.g);u="";var k=T.length,j=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Gn(this);var J="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=y==200,vh(this.i,this.u,this.A,this.l,this.R,Ee,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,ve=this.g;if((Pt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Pt)){var xt=Pt;break e}}xt=null}if(y=xt)Yi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$r(this,y);else{this.o=!1,this.s=3,Jt(12),Pe(this),Gn(this);break t}}if(this.P){y=!0;let xe;for(;!this.J&&this.C<J.length;)if(xe=Ql(this,J),xe==js){Ee==4&&(this.s=4,Jt(14),y=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==oo){this.s=4,Jt(15),Yi(this.i,this.l,J,"[Invalid Chunk]"),y=!1;break}else Yi(this.i,this.l,xe,null),$r(this,xe);if(Kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||J.length!=0||this.h.h||(this.s=1,Jt(16),y=!1),this.o=this.o&&y,!y)Yi(this.i,this.l,J,"[Invalid Chunked Response]"),Pe(this),Gn(this);else if(0<J.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),os(Ce),Ce.M=!0,Jt(11))}}else Yi(this.i,this.l,J,null),$r(this,J);Ee==4&&Pe(this),this.o&&!this.J&&(Ee==4?ru(this.j,this):(this.o=!1,Xr(this)))}else bh(this.g),y==400&&0<J.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Pe(this),Gn(this)}}}catch{}finally{}};function Kl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ql(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?js:(y=Number(m.substring(y,T)),isNaN(y)?oo:(T+=1,T+y>m.length?js:(m=m.slice(T,T+y),u.C=T+y,m)))}Xe.prototype.cancel=function(){this.J=!0,Pe(this)};function Xr(u){u.S=Date.now()+u.I,Yl(u,u.I)}function Yl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(D(u.ba,u),m)}function $i(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Fl(this.i,this.A),this.L!=2&&(Qi(),Jt(17)),Pe(this),this.s=2,Gn(this)):Yl(this,this.S-u)};function Gn(u){u.j.G==0||u.J||ru(u.j,u)}function Pe(u){$i(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function $r(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||lo(y.h,u))){if(!u.K&&lo(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Js(y),Zs(y);else break t;vo(y),Jt(18)}}else y.za=k[1],0<y.za-y.T&&37500>k[2]&&y.F&&y.v==0&&!y.C&&(y.C=de(D(y.Za,y),6e3));if(1>=Hs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ti(y,11)}else if((u.K||y.g==u)&&Js(y),!dt(m))for(k=y.Da.g.parse(m),m=0;m<k.length;m++){let xt=k[m];if(y.T=xt[0],xt=xt[1],y.G==2)if(xt[0]=="c"){y.K=xt[1],y.ia=xt[2];const Ce=xt[3];Ce!=null&&(y.la=Ce,y.j.info("VER="+y.la));const Ee=xt[4];Ee!=null&&(y.Aa=Ee,y.j.info("SVER="+y.Aa));const Ai=xt[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(T=1.5*Ai,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const xe=u.g;if(xe){const Zn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var j=T.h;j.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Gs(j,j.h),j.h=null))}if(T.D){const To=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(T.ya=To,Kt(T.I,T.D,To))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var J=u;if(T.qa=au(T,T.J?T.ia:null,T.W),J.K){$e(T.h,J);var Pt=J,ve=T.L;ve&&(Pt.I=ve),Pt.B&&($i(Pt),Xr(Pt)),T.g=J}else nu(T);0<y.i.length&&Ws(y)}else xt[0]!="stop"&&xt[0]!="close"||Ti(y,7);else y.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ti(y,7):yo(y):xt[0]!="noop"&&y.l&&y.l.ta(xt),y.v=0)}}Qi(4)}catch{}}var Xl=class{constructor(u,m){this.g=u,this.map=m}};function gi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hs(u){return u.h?1:u.g?u.g.size:0}function lo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Gs(u,m){u.g?u.g.add(m):u.h=m}function $e(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gi.prototype.cancel=function(){if(this.i=uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function uo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return nt(u.i)}function Eh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Fs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function co(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Fs(u),T=Eh(u),k=T.length,j=0;j<k;j++)m.call(void 0,T[j],y&&y[j],u)}var Zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Th(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),k=null;if(0<=T){var j=u[y].substring(0,T);k=u[y].substring(T+1)}else j=u[y];m(j,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Wr(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.s),this.l=u.l;var m=u.i,y=new yi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),pi(this,y),this.m=u.m}else u&&(m=String(u).match(Zr))?(this.h=!1,Wr(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),Zi(this,m[4]),this.l=yn(m[5]||"",!0),pi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ts(m,ho,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ts(m,ho,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ts(y,y.charAt(0)=="/"?Ah:fo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ts(y,Ks)),u.join("")};function an(u){return new me(u)}function Wr(u,m,y){u.j=y?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function pi(u,m,y){m instanceof yi?(u.i=m,Zl(u.i,u.h)):(y||(m=ts(m,Sh)),u.i=new yi(m,u.h))}function Kt(u,m,y){u.i.set(m,y)}function Jr(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ts(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,$l),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $l(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ho=/[#\/\?@]/g,fo=/[#\?:]/g,Ah=/[#\?]/g,Sh=/[#\?@]/g,Ks=/#/g;function yi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Th(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=yi.prototype,r.add=function(u,m){_n(this),this.i=null,u=Fn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function _i(u,m){_n(u),m=Fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vi(u,m){return _n(u),m=Fn(u,m),u.g.has(m)}r.forEach=function(u,m){_n(this),this.g.forEach(function(y,T){y.forEach(function(k){u.call(m,k,T,this)},this)},this)},r.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const k=u[T];for(let j=0;j<k.length;j++)y.push(m[T])}return y},r.V=function(u){_n(this);let m=[];if(typeof u=="string")vi(this,u)&&(m=m.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return _n(this),this.i=null,u=Fn(this,u),vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function mo(u,m,y){_i(u,m),0<y.length&&(u.i=null,u.g.set(Fn(u,m),nt(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const j=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var k=j;J[T]!==""&&(k+="="+encodeURIComponent(String(J[T]))),u.push(k)}}return this.i=u.join("&")};function Fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zl(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(y,T){var k=T.toLowerCase();T!=k&&(_i(this,T),mo(this,k,y))},u)),u.j=m}function es(u,m){const y=new pn;if(g.Image){const T=new Image;T.onload=q(vn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=q(vn,y,"TestLoadImage: error",!1,m,T),T.onabort=q(vn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(vn,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vn(u,m){const y=new pn,T=new AbortController,k=setTimeout(()=>{T.abort(),vn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(k),j.ok?vn(y,"TestPingServer: ok",!0,m):vn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),vn(y,"TestPingServer: error",!1,m)})}function vn(u,m,y,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(y)}catch{}}function ns(){this.g=new Qr}function Kn(u,m,y){const T=y||"";try{co(u,function(k,j){let J=k;_(k)&&(J=Nn(k)),m.push(T+j+"="+encodeURIComponent(J))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function Wi(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Wi,eo),Wi.prototype.g=function(){return new Ei(this.l,this.j)},Wi.prototype.i=function(u){return function(){return u}}({});function Ei(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Ei,se),r=Ei.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;go(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function go(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Yn(this),this.readyState==3&&go(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function po(u){let m="";return Vt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Ie(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=po(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Kt(u,m,y))}function jt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(jt,se);var Qs=/^https?$/i,is=["POST","PUT"];r=jt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?no(this.o):no(qn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Wl(this,j);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)y.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())y.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(is,m,void 0))||T||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,J]of y)this.g.setRequestHeader(j,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Wl(this,j)}};function Wl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ys(u),Xn(u)}function Ys(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Xs(this):this.bb())},r.bb=function(){Xs(this)};function Xs(u){if(u.h&&typeof f<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)qe(u.Ea,0,u);else if(Ht(u,"readystatechange"),En(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=J===0){var k=String(u.D).match(Zr)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Qs.test(k?k.toLowerCase():"")}y=T}if(y)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var j=2<En(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Ys(u)}}finally{Xn(u)}}}}function Xn(u,m){if(u.g){rs(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{y.onreadystatechange=T}catch{}}}function rs(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zs(m)}};function Jl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bh(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(dt(u[T]))continue;var y=V(u[T]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=m[k]||[];m[k]=j,j.push(y)}M(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function $s(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,u),this.cb=ss("retryDelaySeedMs",1e4,u),this.Wa=ss("forwardChannelMaxRetries",2,u),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(u&&u.concurrentRequestLimit),this.Da=new ns,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=$s.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){Jt(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=au(this,null,this.W),Ws(this)};function yo(u){if(tu(u),u.G==3){var m=u.U++,y=an(u.I);if(Kt(y,"SID",u.K),Kt(y,"RID",m),Kt(y,"TYPE","terminate"),as(u,y),m=new Xe(u,u.j,m),m.L=2,m.v=Jr(an(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=ou(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xr(m)}su(u)}function Zs(u){u.g&&(os(u),u.g.cancel(),u.g=null)}function tu(u){Zs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ws(u){if(!qs(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||C(),ot||(tt(),ot=!0),zt.add(m,u),u.B=0}}function wh(u,m){return Hs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(D(u.Ga,u,m),Eo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Xe(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(k.H=j,j=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=eu(this,k,m),y=an(this.I),Kt(y,"RID",u),Kt(y,"CVER",22),this.D&&Kt(y,"X-HTTP-Session-Id",this.D),as(this,y),j&&(this.O?m="headers="+encodeURIComponent(String(po(j)))+"&"+m:this.m&&Ie(y,this.m,j)),Gs(this.h,k),this.Ua&&Kt(y,"TYPE","init"),this.P?(Kt(y,"$req",m),Kt(y,"SID","null"),k.T=!0,Mn(k,y,null)):Mn(k,y,m),this.G=2}}else this.G==3&&(u?_o(this,u):this.i.length==0||qs(this.h)||_o(this))};function _o(u,m){var y;m?y=m.l:y=u.U++;const T=an(u.I);Kt(T,"SID",u.K),Kt(T,"RID",y),Kt(T,"AID",u.T),as(u,T),u.m&&u.o&&Ie(T,u.m,u.o),y=new Xe(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=eu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Gs(u.h,y),Mn(y,T,m)}function as(u,m){u.H&&Vt(u.H,function(y,T){Kt(m,T,y)}),u.l&&co({},function(y,T){Kt(m,T,y)})}function eu(u,m,y){y=Math.min(u.i.length,y);var T=u.l?D(u.l.Na,u.l,u):null;t:{var k=u.i;let j=-1;for(;;){const J=["count="+y];j==-1?0<y?(j=k[0].g,J.push("ofs="+j)):j=0:J.push("ofs="+j);let Pt=!0;for(let ve=0;ve<y;ve++){let xt=k[ve].g;const Ce=k[ve].map;if(xt-=j,0>xt)j=Math.max(0,k[ve].g-100),Pt=!1;else try{Kn(Ce,J,"req"+xt+"_")}catch{T&&T(Ce)}}if(Pt){T=J.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function nu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||C(),ot||(tt(),ot=!0),zt.add(m,u),u.v=0}}function vo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(D(u.Fa,u),Eo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Zs(this),iu(this))};function os(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function iu(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Kt(m,"RID","rpc"),Kt(m,"SID",u.K),Kt(m,"AID",u.T),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(m,"TO",u.ja),Kt(m,"TYPE","xmlhttp"),as(u,m),u.m&&u.o&&Ie(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Jr(an(m)),y.m=null,y.P=!0,mi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Zs(this),vo(this),Jt(19))};function Js(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function ru(u,m){var y=null;if(u.g==m){Js(u),os(u),u.g=null;var T=2}else if(lo(u.h,m))y=m.D,$e(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Ki(),Ht(T,new _e(T,y)),Ws(u)}else nu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&wh(u,m)||T==2&&vo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),k){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function Eo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var y=D(u.fb,u),T=u.Xa;const k=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Wr(T,"https"),Jr(T),k?es(T.toString(),y):Vn(T.toString(),y)}else Jt(2);u.G=0,u.l&&u.l.sa(m),su(u),tu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function su(u){if(u.G=0,u.ka=[],u.l){const m=uo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function au(u,m,y){var T=y instanceof me?an(y):new me(y);if(T.g!="")m&&(T.g=m+"."+T.g),Zi(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var j=new me(null);T&&Wr(j,T),m&&(j.g=m),k&&Zi(j,k),y&&(j.l=y),T=j}return y=u.D,m=u.ya,y&&m&&Kt(T,y,m),Kt(T,"VER",u.la),as(u,T),T}function ou(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new Wi({eb:y})):new jt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}r=lu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ta(){}ta.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){se.call(this),this.g=new $s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $n(this)}$(Ze,se),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){yo(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Nn(u),u=y);m.i.push(new Xl(m.Ya++,u)),m.G==3&&Ws(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,yo(this.g),delete this.g,Ze.aa.N.call(this)};function uu(u){fi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(uu,fi);function cu(){ro.call(this),this.status=1}$(cu,ro);function $n(u){this.g=u}$($n,lu),$n.prototype.ua=function(){Ht(this.g,"a")},$n.prototype.ta=function(u){Ht(this.g,new uu(u))},$n.prototype.sa=function(u){Ht(this.g,new cu)},$n.prototype.ra=function(){Ht(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,q0=function(){return new ta},j0=function(){return Ki()},B0=jn,Hd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Ac=Xi,di.COMPLETE="complete",z0=di,io.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",se.prototype.listen=se.prototype.K,hl=io,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,L0=jt}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const Q_="@firebase/firestore",Y_="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new am("@firebase/firestore");function Da(){return Ns.logLevel}function it(r,...t){if(Ns.logLevel<=Ot.DEBUG){const n=t.map(Em);Ns.debug(`Firestore (${Ya}): ${r}`,...n)}}function qi(r,...t){if(Ns.logLevel<=Ot.ERROR){const n=t.map(Em);Ns.error(`Firestore (${Ya}): ${r}`,...n)}}function La(r,...t){if(Ns.logLevel<=Ot.WARN){const n=t.map(Em);Ns.warn(`Firestore (${Ya}): ${r}`,...n)}}function Em(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,H0(r,s,n)}function H0(r,t,n){let s=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw qi(s),new Error(s)}function qt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||H0(t,l,s)}function Tt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Gi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class iR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class rR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sR{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Dr,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Dr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new G0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class aR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new aR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new X_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new X_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=uR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function wt(r,t){return r<t?-1:r>t?1:0}function Gd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return wt(s,l);{const c=F0(),f=cR(c.encode($_(r,n)),c.encode($_(t,n)));return f!==0?f:wt(s,l)}}n+=s>65535?2:1}return wt(r.length,t.length)}function $_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function cR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return wt(r[n],t[n]);return wt(r.length,t.length)}function za(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=-62135596800,W_=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*W_);return new be(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Z_)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W_}_compareTo(t){return this.seconds===t.seconds?wt(this.nanoseconds,t.nanoseconds):wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Z_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new be(0,0))}static max(){return new Et(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="__name__";class ii{constructor(t,n,s){n===void 0?n=0:n>t.length&&pt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&pt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ii.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ii?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ii.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return wt(t.length,n.length)}static compareSegments(t,n){const s=ii.isNumericId(t),l=ii.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ii.extractNumericId(t).compare(ii.extractNumericId(n)):Gd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cr.fromString(t.substring(4,t.length-2))}}class ee extends ii{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new ee(n)}static emptyPath(){return new ee([])}}const hR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ii{construct(t,n,s){return new Be(t,n,s)}static isValidIdentifier(t){return hR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J_}static keyField(){return new Be([J_])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new lt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ee.fromString(t))}static fromName(t){return new ht(ee.fromString(t).popFirst(5))}static empty(){return new ht(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=-1;function fR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(s===1e9?new be(n+1,0):new be(n,s));return new Nr(l,ht.empty(),t)}function dR(r){return new Nr(r.readTime,r.key,bl)}class Nr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Nr(Et.min(),ht.empty(),bl)}static max(){return new Nr(Et.max(),ht.empty(),bl)}}function mR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(r.documentKey,t.documentKey),n!==0?n:wt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==gR)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Q((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.reject(n)}static resolve(t){return new Q((n,s)=>{n(t)})}static reject(t){return new Q((n,s)=>{s(t)})}static waitFor(t){return new Q((n,s)=>{let l=0,c=0,f=!1;t.forEach(g=>{++l,g.next(()=>{++c,f&&c===l&&n()},p=>s(p))}),f=!0,c===l&&n()})}static or(t){let n=Q.resolve(!1);for(const s of t)n=n.next(l=>l?Q.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new Q((s,l)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(A=>{f[_]=A,++g,g===c&&s(f)},A=>l(A))}})}static doWhile(t,n){return new Q((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function yR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $a(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}eh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=-1;function nh(r){return r==null}function kc(r){return r===0&&1/r==-1/0}function _R(r){return typeof r=="number"&&Number.isInteger(r)&&!kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="";function vR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=tv(t)),t=ER(r.get(n),t);return tv(t)}function ER(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case Q0:n+="";break;default:n+=c}}return n}function tv(r){return r+Q0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Vs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function Y0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,n){this.comparator=t,this.root=n||ze.EMPTY}insert(t,n){return new ie(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new dc(this.root,t,this.comparator,!0)}}class dc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??ze.RED,this.left=l??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new ze(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return ze.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(t){return new nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new we(this.comparator);return n.data=t,n}}class nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new Ln([])}unionWith(t){let n=new we(Be.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return za(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new X0("Invalid base64 string: "+c):c}}(t);return new je(n)}static fromUint8Array(t){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}je.EMPTY_BYTE_STRING=new je("");const TR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const n=TR.exec(r);if(qt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vr(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="server_timestamp",Z0="__type__",W0="__previous_value__",J0="__local_write_time__";function Am(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Z0])===null||n===void 0?void 0:n.stringValue)===$0}function ih(r){const t=r.mapValue.fields[W0];return Am(t)?ih(t):t}function wl(r){const t=Mr(r.mapValue.fields[J0].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,n,s,l,c,f,g,p,_,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=A}}const Uc="(default)";class Rl{constructor(t,n){this.projectId=t,this.database=n||Uc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Uc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="__type__",SR="__max__",mc={mapValue:{}},eE="__vector__",Lc="value";function Pr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Am(r)?4:wR(r)?9007199254740991:bR(r)?10:11:pt(28295,{value:r})}function li(r,t){if(r===t)return!0;const n=Pr(r);if(n!==Pr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return wl(r).isEqual(wl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Mr(l.timestampValue),g=Mr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Vr(l.bytesValue).isEqual(Vr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return fe(l.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(l.geoPointValue.longitude)===fe(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return fe(l.integerValue)===fe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=fe(l.doubleValue),g=fe(c.doubleValue);return f===g?kc(f)===kc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return za(r.arrayValue.values||[],t.arrayValue.values||[],li);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(ev(f)!==ev(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!li(f[p],g[p])))return!1;return!0}(r,t);default:return pt(52216,{left:r})}}function Il(r,t){return(r.values||[]).find(n=>li(n,t))!==void 0}function Ba(r,t){if(r===t)return 0;const n=Pr(r),s=Pr(t);if(n!==s)return wt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return wt(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=fe(c.integerValue||c.doubleValue),p=fe(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return iv(r.timestampValue,t.timestampValue);case 4:return iv(wl(r),wl(t));case 5:return Gd(r.stringValue,t.stringValue);case 6:return function(c,f){const g=Vr(c),p=Vr(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const A=wt(g[_],p[_]);if(A!==0)return A}return wt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=wt(fe(c.latitude),fe(f.latitude));return g!==0?g:wt(fe(c.longitude),fe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return rv(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,_,A;const I=c.fields||{},D=f.fields||{},q=(g=I[Lc])===null||g===void 0?void 0:g.arrayValue,$=(p=D[Lc])===null||p===void 0?void 0:p.arrayValue,nt=wt(((_=q==null?void 0:q.values)===null||_===void 0?void 0:_.length)||0,((A=$==null?void 0:$.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:rv(q,$)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===mc.mapValue&&f===mc.mapValue)return 0;if(c===mc.mapValue)return 1;if(f===mc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=f.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let I=0;I<p.length&&I<A.length;++I){const D=Gd(p[I],A[I]);if(D!==0)return D;const q=Ba(g[p[I]],_[A[I]]);if(q!==0)return q}return wt(p.length,A.length)}(r.mapValue,t.mapValue);default:throw pt(23264,{Pe:n})}}function iv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return wt(r,t);const n=Mr(r),s=Mr(t),l=wt(n.seconds,s.seconds);return l!==0?l:wt(n.nanos,s.nanos)}function rv(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Ba(n[l],s[l]);if(c)return c}return wt(n.length,s.length)}function ja(r){return Fd(r)}function Fd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Mr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Vr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ht.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Fd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Fd(n.fields[f])}`;return l+"}"}(r.mapValue):pt(61005,{value:r})}function Sc(r){switch(Pr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ih(r);return t?16+Sc(t):16;case 5:return 2*r.stringValue.length;case 6:return Vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Sc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Vs(s.fields,(c,f)=>{l+=c.length+Sc(f)}),l}(r.mapValue);default:throw pt(13486,{value:r})}}function Kd(r){return!!r&&"integerValue"in r}function Sm(r){return!!r&&"arrayValue"in r}function sv(r){return!!r&&"nullValue"in r}function av(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bc(r){return!!r&&"mapValue"in r}function bR(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[tE])===null||n===void 0?void 0:n.stringValue)===eE}function pl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Vs(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=pl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function wR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===SR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.value=t}static empty(){return new Cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!bc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=pl(n)}setAll(t){let n=Be.emptyPath(),s={},l=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=pl(f):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return li(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Vs(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Cn(pl(this.value))}}function nE(r){const t=[];return Vs(r.fields,(n,s)=>{const l=new Be([n]);if(bc(s)){const c=nE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new Ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,s,l,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,Et.min(),Et.min(),Et.min(),Cn.empty(),0)}static newFoundDocument(t,n,s,l){return new Qe(t,1,n,Et.min(),s,l,0)}static newNoDocument(t,n){return new Qe(t,2,n,Et.min(),Et.min(),Cn.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,Et.min(),Et.min(),Cn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n){this.position=t,this.inclusive=n}}function ov(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(f.referenceValue),n.key):s=Ba(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function lv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!li(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,n="asc"){this.field=t,this.dir=n}}function RR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{}class Se extends iE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new CR(t,n,s):n==="array-contains"?new NR(t,s):n==="in"?new MR(t,s):n==="not-in"?new VR(t,s):n==="array-contains-any"?new PR(t,s):new Se(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new DR(t,s):new OR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ba(n,this.value)):n!==null&&Pr(this.value)===Pr(n)&&this.matchesComparison(Ba(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends iE{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new ui(t,n)}matches(t){return rE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function rE(r){return r.op==="and"}function sE(r){return IR(r)&&rE(r)}function IR(r){for(const t of r.filters)if(t instanceof ui)return!1;return!0}function Qd(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+ja(r.value);if(sE(r))return r.filters.map(t=>Qd(t)).join(",");{const t=r.filters.map(n=>Qd(n)).join(",");return`${r.op}(${t})`}}function aE(r,t){return r instanceof Se?function(s,l){return l instanceof Se&&s.op===l.op&&s.field.isEqual(l.field)&&li(s.value,l.value)}(r,t):r instanceof ui?function(s,l){return l instanceof ui&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,f,g)=>c&&aE(f,l.filters[g]),!0):!1}(r,t):void pt(19439)}function oE(r){return r instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`}(r):r instanceof ui?function(n){return n.op.toString()+" {"+n.getFilters().map(oE).join(" ,")+"}"}(r):"Filter"}class CR extends Se{constructor(t,n,s){super(t,n,s),this.key=ht.fromName(s.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class DR extends Se{constructor(t,n){super(t,"in",n),this.keys=lE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class OR extends Se{constructor(t,n){super(t,"not-in",n),this.keys=lE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function lE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ht.fromName(s.referenceValue))}class NR extends Se{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Sm(n)&&Il(n.arrayValue,this.value)}}class MR extends Se{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Il(this.value.arrayValue,n)}}class VR extends Se{constructor(t,n){super(t,"not-in",n)}matches(t){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Il(this.value.arrayValue,n)}}class PR extends Se{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Sm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Il(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,n=null,s=[],l=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Ie=null}}function uv(r,t=null,n=[],s=[],l=null,c=null,f=null){return new xR(r,t,n,s,l,c,f)}function bm(r){const t=Tt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Qd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),nh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>ja(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>ja(s)).join(",")),t.Ie=n}return t.Ie}function wm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!RR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!aE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!lv(r.startAt,t.startAt)&&lv(r.endAt,t.endAt)}function Yd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n=null,s=[],l=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function kR(r,t,n,s,l,c,f,g){return new rh(r,t,n,s,l,c,f,g)}function uE(r){return new rh(r)}function cv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function UR(r){return r.collectionGroup!==null}function yl(r){const t=Tt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new we(Be.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Bc(c,s))}),n.has(Be.keyField().canonicalString())||t.Ee.push(new Bc(Be.keyField(),s))}return t.Ee}function si(r){const t=Tt(r);return t.de||(t.de=LR(t,yl(r))),t.de}function LR(r,t){if(r.limitType==="F")return uv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Bc(l.field,c)});const n=r.endAt?new zc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new zc(r.startAt.position,r.startAt.inclusive):null;return uv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Xd(r,t,n){return new rh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function sh(r,t){return wm(si(r),si(t))&&r.limitType===t.limitType}function cE(r){return`${bm(si(r))}|lt:${r.limitType}`}function Oa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>oE(l)).join(", ")}]`),nh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>ja(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>ja(l)).join(",")),`Target(${s})`}(si(r))}; limitType=${r.limitType})`}function ah(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of yl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,g,p){const _=ov(f,g,p);return f.inclusive?_<=0:_<0}(s.startAt,yl(s),l)||s.endAt&&!function(f,g,p){const _=ov(f,g,p);return f.inclusive?_>=0:_>0}(s.endAt,yl(s),l))}(r,t)}function zR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function hE(r){return(t,n)=>{let s=!1;for(const l of yl(r)){const c=BR(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function BR(r,t,n){const s=r.field.isKeyField()?ht.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),_=g.data.field(c);return p!==null&&_!==null?Ba(p,_):pt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Vs(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return Y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new ie(ht.comparator);function Hi(){return jR}const fE=new ie(ht.comparator);function fl(...r){let t=fE;for(const n of r)t=t.insert(n.key,n);return t}function dE(r){let t=fE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function ws(){return _l()}function mE(){return _l()}function _l(){return new Ps(r=>r.toString(),(r,t)=>r.isEqual(t))}const qR=new ie(ht.comparator),HR=new we(ht.comparator);function Nt(...r){let t=HR;for(const n of r)t=t.add(n);return t}const GR=new we(wt);function FR(){return GR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(t)?"-0":t}}function gE(r){return{integerValue:""+r}}function KR(r,t){return _R(t)?gE(t):Rm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function QR(r,t,n){return r instanceof jc?function(l,c){const f={fields:{[Z0]:{stringValue:$0},[J0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Am(c)&&(c=ih(c)),c&&(f.fields[W0]=c),{mapValue:f}}(n,t):r instanceof Cl?yE(r,t):r instanceof Dl?_E(r,t):function(l,c){const f=pE(l,c),g=hv(f)+hv(l.Re);return Kd(f)&&Kd(l.Re)?gE(g):Rm(l.serializer,g)}(r,t)}function YR(r,t,n){return r instanceof Cl?yE(r,t):r instanceof Dl?_E(r,t):n}function pE(r,t){return r instanceof qc?function(s){return Kd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class jc extends oh{}class Cl extends oh{constructor(t){super(),this.elements=t}}function yE(r,t){const n=vE(t);for(const s of r.elements)n.some(l=>li(l,s))||n.push(s);return{arrayValue:{values:n}}}class Dl extends oh{constructor(t){super(),this.elements=t}}function _E(r,t){let n=vE(t);for(const s of r.elements)n=n.filter(l=>!li(l,s));return{arrayValue:{values:n}}}class qc extends oh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function hv(r){return fe(r.integerValue||r.doubleValue)}function vE(r){return Sm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function XR(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Cl&&l instanceof Cl||s instanceof Dl&&l instanceof Dl?za(s.elements,l.elements,li):s instanceof qc&&l instanceof qc?li(s.Re,l.Re):s instanceof jc&&l instanceof jc}(r.transform,t.transform)}class $R{constructor(t,n){this.version=t,this.transformResults=n}}class ai{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ai}static exists(t){return new ai(void 0,t)}static updateTime(t){return new ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class lh{}function EE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Im(r.key,ai.none()):new Ul(r.key,r.data,ai.none());{const n=r.data,s=Cn.empty();let l=new we(Be.comparator);for(let c of t.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new xs(r.key,s,new Ln(l.toArray()),ai.none())}}function ZR(r,t,n){r instanceof Ul?function(l,c,f){const g=l.value.clone(),p=dv(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof xs?function(l,c,f){if(!wc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=dv(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(TE(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function vl(r,t,n,s){return r instanceof Ul?function(c,f,g,p){if(!wc(c.precondition,f))return g;const _=c.value.clone(),A=mv(c.fieldTransforms,p,f);return _.setAll(A),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof xs?function(c,f,g,p){if(!wc(c.precondition,f))return g;const _=mv(c.fieldTransforms,p,f),A=f.data;return A.setAll(TE(c)),A.setAll(_),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,f,g){return wc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function WR(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=pE(s.transform,l||null);c!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,c))}return n||null}function fv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&za(s,l,(c,f)=>XR(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ul extends lh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xs extends lh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function TE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function dv(r,t,n){const s=new Map;qt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=t.data.field(c.field);s.set(c.field,YR(f,g,n[l]))}return s}function mv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);s.set(l.field,QR(c,f,t))}return s}class Im extends lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JR extends lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&ZR(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=vl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=vl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=mE();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=EE(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Nt())}isEqual(t){return this.batchId===t.batchId&&za(this.mutations,t.mutations,(n,s)=>fv(n,s))&&za(this.baseMutations,t.baseMutations,(n,s)=>fv(n,s))}}class Cm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){qt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return qR}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Cm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Ut;function iI(r){switch(r){case X.OK:return pt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function AE(r){if(r===void 0)return qi("GRPC error has no .code"),X.UNKNOWN;switch(r){case ye.OK:return X.OK;case ye.CANCELLED:return X.CANCELLED;case ye.UNKNOWN:return X.UNKNOWN;case ye.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ye.INTERNAL:return X.INTERNAL;case ye.UNAVAILABLE:return X.UNAVAILABLE;case ye.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ye.NOT_FOUND:return X.NOT_FOUND;case ye.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ye.ABORTED:return X.ABORTED;case ye.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ye.DATA_LOSS:return X.DATA_LOSS;default:return pt(39323,{code:r})}}(Ut=ye||(ye={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new Cr([4294967295,4294967295],0);function gv(r){const t=F0().encode(r),n=new U0;return n.update(t),new Uint8Array(n.digest())}function pv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Cr([n,s],0),new Cr([l,c],0)]}class Dm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new dl(`Invalid padding: ${n}`);if(s<0)throw new dl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new dl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Cr.fromNumber(this.pe)}we(t,n,s){let l=t.add(n.multiply(Cr.fromNumber(s)));return l.compare(rI)===1&&(l=new Cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=gv(t),[s,l]=pv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,l,c);if(!this.be(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Dm(c,l,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.pe===0)return;const n=gv(t),[s,l]=pv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,l,c);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new uh(Et.min(),l,new ie(wt),Hi(),Nt())}}class Ll{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ll(s,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n,s,l){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=l}}class SE{constructor(t,n){this.targetId=t,this.Ce=n}}class bE{constructor(t,n,s=je.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class yv{constructor(){this.Fe=0,this.Me=_v(),this.xe=je.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Nt(),n=Nt(),s=Nt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:pt(38017,{changeType:c})}}),new Ll(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=_v()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class sI{constructor(t){this.ze=t,this.je=new Map,this.He=Hi(),this.Je=gc(),this.Ye=gc(),this.Ze=new ie(wt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:pt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,s=t.Ce.count,l=this._t(n);if(l){const c=l.target;if(Yd(c))if(s===0){const f=new ht(c.path);this.tt(n,f,Qe.newNoDocument(f,Et.min()))}else qt(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const g=this.ct(t),p=g?this.lt(g,t,f):1;if(p!==0){this.st(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Vr(s).toUint8Array()}catch(p){if(p instanceof X0)return La("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Dm(f,l,c)}catch(p){return La(p instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.ze.Pt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,f)=>{const g=this._t(f);if(g){if(c.current&&Yd(g.target)){const p=new ht(g.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Qe.newNoDocument(p,t))}c.Le&&(n.set(f,c.qe()),c.Qe())}});let s=Nt();this.Ye.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const _=this._t(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,f)=>f.setReadTime(t));const l=new uh(t,n,this.Ze,this.He,s);return this.He=Hi(),this.Je=gc(),this.Ye=gc(),this.Ze=new ie(wt),l}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new yv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new we(wt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new we(wt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new yv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function gc(){return new ie(ht.comparator)}function _v(){return new ie(ht.comparator)}const aI={asc:"ASCENDING",desc:"DESCENDING"},oI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lI={and:"AND",or:"OR"};class uI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function $d(r,t){return r.useProto3Json||nh(t)?t:{value:t}}function Hc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function cI(r,t){return Hc(r,t.toTimestamp())}function oi(r){return qt(!!r,49232),Et.fromTimestamp(function(n){const s=Mr(n);return new be(s.seconds,s.nanos)}(r))}function Om(r,t){return Zd(r,t).canonicalString()}function Zd(r,t){const n=function(l){return new ee(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function RE(r){const t=ee.fromString(r);return qt(NE(t),10190,{key:t.toString()}),t}function Wd(r,t){return Om(r.databaseId,t.path)}function Od(r,t){const n=RE(t);if(n.get(1)!==r.databaseId.projectId)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ht(CE(n))}function IE(r,t){return Om(r.databaseId,t)}function hI(r){const t=RE(r);return t.length===4?ee.emptyPath():CE(t)}function Jd(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function CE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function vv(r,t,n){return{name:Wd(r,t),fields:n.value.mapValue.fields}}function fI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),je.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),je.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(_){const A=_.code===void 0?X.UNKNOWN:AE(_.code);return new lt(A,_.message||"")}(f);n=new bE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Od(r,s.document.name),c=oi(s.document.updateTime),f=s.document.createTime?oi(s.document.createTime):Et.min(),g=new Cn({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(l,c,f,g),_=s.targetIds||[],A=s.removedTargetIds||[];n=new Rc(_,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Od(r,s.document),c=s.readTime?oi(s.readTime):Et.min(),f=Qe.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Rc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Od(r,s.document),c=s.removedTargetIds||[];n=new Rc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new nI(l,c),g=s.targetId;n=new SE(g,f)}}return n}function dI(r,t){let n;if(t instanceof Ul)n={update:vv(r,t.key,t.value)};else if(t instanceof Im)n={delete:Wd(r,t.key)};else if(t instanceof xs)n={update:vv(r,t.key,t.data),updateMask:AI(t.fieldMask)};else{if(!(t instanceof JR))return pt(16599,{ft:t.type});n={verify:Wd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof jc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Cl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Dl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof qc)return{fieldPath:f.field.canonicalString(),increment:g.Re};throw pt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:cI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)}(r,t.precondition)),n}function mI(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map(n=>function(l,c){let f=l.updateTime?oi(l.updateTime):oi(c);return f.isEqual(Et.min())&&(f=oi(c)),new $R(f,l.transformResults||[])}(n,t))):[]}function gI(r,t){return{documents:[IE(r,t.path)]}}function pI(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=IE(r,l);const c=function(_){if(_.length!==0)return OE(ui.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(A=>function(D){return{field:Na(D.field),direction:vI(D.dir)}}(A))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=$d(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{gt:n,parent:l}}function yI(r){let t=hI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){qt(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(I){const D=DE(I);return D instanceof ui&&sE(D)?D.getFilters():[D]}(n.where));let f=[];n.orderBy&&(f=function(I){return I.map(D=>function($){return new Bc(Ma($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(D))}(n.orderBy));let g=null;n.limit&&(g=function(I){let D;return D=typeof I=="object"?I.value:I,nh(D)?null:D}(n.limit));let p=null;n.startAt&&(p=function(I){const D=!!I.before,q=I.values||[];return new zc(q,D)}(n.startAt));let _=null;return n.endAt&&(_=function(I){const D=!I.before,q=I.values||[];return new zc(q,D)}(n.endAt)),kR(t,l,f,c,g,"F",p,_)}function _I(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function DE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ma(n.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ma(n.unaryFilter.field);return Se.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ma(n.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ma(n.unaryFilter.field);return Se.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Se.create(Ma(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ui.create(n.compositeFilter.filters.map(s=>DE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(n.compositeFilter.op))}(r):pt(30097,{filter:r})}function vI(r){return aI[r]}function EI(r){return oI[r]}function TI(r){return lI[r]}function Na(r){return{fieldPath:r.canonicalString()}}function Ma(r){return Be.fromServerFormat(r.fieldPath)}function OE(r){return r instanceof Se?function(n){if(n.op==="=="){if(av(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NAN"}};if(sv(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(av(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NOT_NAN"}};if(sv(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(n.field),op:EI(n.op),value:n.value}}}(r):r instanceof ui?function(n){const s=n.getFilters().map(l=>OE(l));return s.length===1?s[0]:{compositeFilter:{op:TI(n.op),filters:s}}}(r):pt(54877,{filter:r})}function AI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function NE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,n,s,l,c=Et.min(),f=Et.min(),g=je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t){this.wt=t}}function bI(r){const t=yI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.yn=new RI}addToCollectionParentIndex(t,n){return this.yn.add(n),Q.resolve()}getCollectionParents(t,n){return Q.resolve(this.yn.getEntries(n))}addFieldIndex(t,n){return Q.resolve()}deleteFieldIndex(t,n){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,n){return Q.resolve()}getDocumentsMatchingTarget(t,n){return Q.resolve(null)}getIndexType(t,n){return Q.resolve(0)}getFieldIndexes(t,n){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,n){return Q.resolve(Nr.min())}getMinOffsetFromCollectionGroup(t,n){return Q.resolve(Nr.min())}updateCollectionGroup(t,n,s){return Q.resolve()}updateIndexEntries(t,n){return Q.resolve()}}class RI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new we(ee.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new we(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ME=41943040;class nn{static withCacheSize(t){return new nn(t,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(ME,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new qa(0)}static ir(){return new qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="LruGarbageCollector",II=1048576;function Av([r,t],[n,s]){const l=wt(r,n);return l===0?wt(t,s):l}class CI{constructor(t){this.cr=t,this.buffer=new we(Av),this.lr=0}hr(){return++this.lr}Pr(t){const n=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Av(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){it(Tv,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$a(n)?it(Tv,"Ignoring IndexedDB error during garbage collection: ",n):await Xa(n)}await this.Ir(3e5)})}}class OI{constructor(t,n){this.Er=t,this.params=n}calculateTargetCount(t,n){return this.Er.dr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Q.resolve(eh.le);const s=new CI(n);return this.Er.forEachTarget(t,l=>s.Pr(l.sequenceNumber)).next(()=>this.Er.Ar(t,l=>s.Pr(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Er.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Er.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Ev)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ev):this.Rr(t,n))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,n){let s,l,c,f,g,p,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,f=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,g=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(_=Date.now(),Da()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function NI(r,t){return new OI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.changes=new Ps(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&vl(s.mutation,l,Ln.empty(),be.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Nt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Nt()){const l=ws();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let f=fl();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=ws();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Nt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,l){let c=Hi();const f=_l(),g=function(){return _l()}();return n.forEach((p,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof xs)?c=c.insert(_.key,_):A!==void 0?(f.set(_.key,A.mutation.getFieldMask()),vl(A.mutation,_,A.mutation.getFieldMask(),be.now())):f.set(_.key,Ln.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,A)=>f.set(_,A)),n.forEach((_,A)=>{var I;return g.set(_,new VI(A,(I=f.get(_))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,n){const s=_l();let l=new ie((f,g)=>f-g),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let A=s.get(p)||Ln.empty();A=g.applyToLocalView(_,A),s.set(p,A);const I=(l.get(g.batchId)||Nt()).add(p);l=l.insert(g.batchId,I)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,A=p.value,I=mE();A.forEach(D=>{if(!c.has(D)){const q=EE(n.get(D),s.get(D));q!==null&&I.set(D,q),c=c.add(D)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,I))}return Q.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(f){return ht.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):UR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):Q.resolve(ws());let g=bl,p=c;return f.next(_=>Q.forEach(_,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(A)?Q.resolve():this.remoteDocumentCache.getEntry(t,A).next(D=>{p=p.insert(A,D)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Nt())).next(A=>({batchId:g,changes:dE(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next(s=>{let l=fl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let f=fl();return this.indexManager.getCollectionParents(t,c).next(g=>Q.forEach(g,p=>{const _=function(I,D){return new rh(D,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(A=>{A.forEach((I,D)=>{f=f.insert(I,D)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(f=>{c.forEach((p,_)=>{const A=_.getKey();f.get(A)===null&&(f=f.insert(A,Qe.newInvalidDocument(A)))});let g=fl();return f.forEach((p,_)=>{const A=c.get(p);A!==void 0&&vl(A.mutation,_,Ln.empty(),be.now()),ah(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,n){return Q.resolve(this.Fr.get(n))}saveBundleMetadata(t,n){return this.Fr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:oi(l.createTime)}}(n)),Q.resolve()}getNamedQuery(t,n){return Q.resolve(this.Mr.get(n))}saveNamedQuery(t,n){return this.Mr.set(n.name,function(l){return{name:l.name,query:bI(l.bundledQuery),readTime:oi(l.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.overlays=new ie(ht.comparator),this.Or=new Map}getOverlay(t,n){return Q.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ws();return Q.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),Q.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Or.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Or.delete(s)),Q.resolve()}getOverlaysForCollection(t,n,s){const l=ws(),c=n.length+1,f=new ht(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Q.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ie((_,A)=>_-A);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=ws(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=ws(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=l)););return Q.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Or.get(l.largestBatchId).delete(s.key);this.Or.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new eI(n,s));let c=this.Or.get(n);c===void 0&&(c=Nt(),this.Or.set(n,c)),this.Or.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this.Nr=new we(Me.Br),this.Lr=new we(Me.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,n){const s=new Me(t,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Qr(new Me(t,n))}$r(t,n){t.forEach(s=>this.removeReference(s,n))}Ur(t){const n=new ht(new ee([])),s=new Me(n,t),l=new Me(n,t+1),c=[];return this.Lr.forEachInRange([s,l],f=>{this.Qr(f),c.push(f.key)}),c}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const n=new ht(new ee([])),s=new Me(n,t),l=new Me(n,t+1);let c=Nt();return this.Lr.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new Me(t,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,n){this.key=t,this.Gr=n}static Br(t,n){return ht.comparator(t.key,n.key)||wt(t.Gr,n.Gr)}static kr(t,n){return wt(t.Gr,n.Gr)||ht.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new we(Me.Br)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new tI(c,n,s,l);this.mutationQueue.push(f);for(const g of l)this.zr=this.zr.add(new Me(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Q.resolve(f)}lookupMutationBatch(t,n){return Q.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Hr(s),c=l<0?0:l;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Tm:this.Jn-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Me(n,0),l=new Me(n,Number.POSITIVE_INFINITY),c=[];return this.zr.forEachInRange([s,l],f=>{const g=this.jr(f.Gr);c.push(g)}),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new we(wt);return n.forEach(l=>{const c=new Me(l,0),f=new Me(l,Number.POSITIVE_INFINITY);this.zr.forEachInRange([c,f],g=>{s=s.add(g.Gr)})}),Q.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const f=new Me(new ht(c),0);let g=new we(wt);return this.zr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Gr)),!0)},f),Q.resolve(this.Jr(g))}Jr(t){const n=[];return t.forEach(s=>{const l=this.jr(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){qt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return Q.forEach(n.mutations,l=>{const c=new Me(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,n){const s=new Me(n,0),l=this.zr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}Yr(t,n){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const n=this.Hr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.Zr=t,this.docs=function(){return new ie(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=Hi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))}),Q.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Hi();const f=n.path,g=new ht(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||mR(dR(A),s)<=0||(l.has(A.key)||ah(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(t,n,s,l){pt(9500)}Xr(t,n){return Q.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new BI(this)}getSize(t){return Q.resolve(this.size)}}class BI extends MI{constructor(t){super(),this.vr=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.vr.addEntry(t,l)):this.vr.removeEntry(s)}),Q.waitFor(n)}getFromCache(t,n){return this.vr.getEntry(t,n)}getAllFromCache(t,n){return this.vr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.persistence=t,this.ei=new Ps(n=>bm(n),wm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ti=0,this.ni=new Nm,this.targetCount=0,this.ri=qa.rr()}forEachTarget(t,n){return this.ei.forEach((s,l)=>n(l)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),Q.resolve()}ar(t){this.ei.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ri=new qa(n),this.highestTargetId=n),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,n){return this.ar(n),this.targetCount+=1,Q.resolve()}updateTargetData(t,n){return this.ar(n),Q.resolve()}removeTargetData(t,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.ei.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ei.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Q.waitFor(c).next(()=>l)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,n){const s=this.ei.get(n)||null;return Q.resolve(s)}addMatchingKeys(t,n,s){return this.ni.qr(n,s),Q.resolve()}removeMatchingKeys(t,n,s){this.ni.$r(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),Q.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ni.Ur(n),Q.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ni.Wr(n);return Q.resolve(s)}containsKey(t,n){return Q.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(t,n){this.ii={},this.overlays={},this.si=new eh(0),this.oi=!1,this.oi=!0,this._i=new UI,this.referenceDelegate=t(this),this.ai=new jI(this),this.indexManager=new wI,this.remoteDocumentCache=function(l){return new zI(l)}(s=>this.referenceDelegate.ui(s)),this.serializer=new SI(n),this.ci=new xI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new kI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ii[t.toKey()];return s||(s=new LI(n,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,n,s){it("MemoryPersistence","Starting transaction:",t);const l=new qI(this.si.next());return this.referenceDelegate.li(),s(l).next(c=>this.referenceDelegate.hi(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Pi(t,n){return Q.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,n)))}}class qI extends pR{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ti=new Nm,this.Ii=null}static Ei(t){return new Mm(t)}get di(){if(this.Ii)return this.Ii;throw pt(60996)}addReference(t,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),Q.resolve()}removeReference(t,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Q.resolve()}removeTarget(t,n){this.Ti.Ur(n.targetId).forEach(l=>this.di.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.di.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}li(){this.Ii=new Set}hi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.di,s=>{const l=ht.fromPath(s);return this.Ai(t,l).next(c=>{c||n.removeEntry(l,Et.min())})}).next(()=>(this.Ii=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ai(t,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(t){return 0}Ai(t,n){return Q.or([()=>Q.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Pi(t,n)])}}class Gc{constructor(t,n){this.persistence=t,this.Ri=new Ps(s=>vR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=NI(this,n)}static Ei(t,n){return new Gc(t,n)}li(){}hi(t){return Q.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}Vr(t){let n=0;return this.Ar(t,s=>{n++}).next(()=>n)}Ar(t,n){return Q.forEach(this.Ri,(s,l)=>this.gr(t,s,l).next(c=>c?Q.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.Xr(t,f=>this.gr(t,f,n).next(g=>{g||(s++,c.removeEntry(f,Et.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.Ri.set(n,t.currentSequenceNumber),Q.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.Ri.set(s,t.currentSequenceNumber),Q.resolve()}removeReference(t,n,s){return this.Ri.set(s,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,n){return this.Ri.set(n,t.currentSequenceNumber),Q.resolve()}ui(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Sc(t.data.value)),n}gr(t,n,s){return Q.or([()=>this.persistence.Pi(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.Ri.get(n);return Q.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.ls=s,this.hs=l}static Ps(t,n){let s=Nt(),l=Nt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return TS()?8:yR(Ye())>0?6:4}()}initialize(t,n){this.As=t,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.Rs(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.Vs(t,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new HI;return this.fs(t,n,f).next(g=>{if(c.result=g,this.Is)return this.gs(t,n,f,g.size)})}).next(()=>c.result)}gs(t,n,s,l){return s.documentReadCount<this.Es?(Da()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Q.resolve()):(Da()<=Ot.DEBUG&&it("QueryEngine","Query:",Oa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Da()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,si(n))):Q.resolve())}Rs(t,n){if(cv(n))return Q.resolve(null);let s=si(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Xd(n,null,"F"),s=si(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Nt(...c);return this.As.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.ps(n,g);return this.ys(n,_,f,p.readTime)?this.Rs(t,Xd(n,null,"F")):this.ws(t,_,n,p)}))})))}Vs(t,n,s,l){return cv(n)||l.isEqual(Et.min())?Q.resolve(null):this.As.getDocuments(t,s).next(c=>{const f=this.ps(n,c);return this.ys(n,f,s,l)?Q.resolve(null):(Da()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Oa(n)),this.ws(t,f,n,fR(l,bl)).next(g=>g))})}ps(t,n){let s=new we(hE(t));return n.forEach((l,c)=>{ah(t,c)&&(s=s.add(c))}),s}ys(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}fs(t,n,s){return Da()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Oa(n)),this.As.getDocumentsMatchingQuery(t,n,Nr.min(),s)}ws(t,n,s,l){return this.As.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="LocalStore",FI=3e8;class KI{constructor(t,n,s,l){this.persistence=t,this.bs=n,this.serializer=l,this.Ss=new ie(wt),this.Ds=new Ps(c=>bm(c),wm),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PI(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ss))}}function QI(r,t,n,s){return new KI(r,t,n,s)}async function PE(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Fs(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=Nt();for(const _ of l){f.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Ms:_,removedBatchIds:f,addedBatchIds:g}))})})}function YI(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Cs.newChangeBuffer({trackRemovals:!0});return function(g,p,_,A){const I=_.batch,D=I.keys();let q=Q.resolve();return D.forEach($=>{q=q.next(()=>A.getEntry(p,$)).next(nt=>{const Z=_.docVersions.get($);qt(Z!==null,48541),nt.version.compareTo(Z)<0&&(I.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Nt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function xE(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ai.getLastRemoteSnapshotVersion(n))}function XI(r,t){const n=Tt(r),s=t.snapshotVersion;let l=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});l=n.Ss;const g=[];t.targetChanges.forEach((A,I)=>{const D=l.get(I);if(!D)return;g.push(n.ai.removeMatchingKeys(c,A.removedDocuments,I).next(()=>n.ai.addMatchingKeys(c,A.addedDocuments,I)));let q=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?q=q.withResumeToken(je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),l=l.insert(I,q),function(nt,Z,At){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=FI?!0:At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0}(D,q,A)&&g.push(n.ai.updateTargetData(c,q))});let p=Hi(),_=Nt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push($I(c,f,t.documentUpdates).next(A=>{p=A.xs,_=A.Os})),!s.isEqual(Et.min())){const A=n.ai.getLastRemoteSnapshotVersion(c).next(I=>n.ai.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return Q.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Ss=l,c))}function $I(r,t,n){let s=Nt(),l=Nt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Hi();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):it(Pm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{xs:f,Os:l}})}function ZI(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Tm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function WI(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.ai.getTargetData(s,t).next(c=>c?(l=c,Q.resolve(l)):n.ai.allocateTargetId(s).next(f=>(l=new br(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ss.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(t,s.targetId)),s})}async function tm(r,t,n){const s=Tt(r),l=s.Ss.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!$a(f))throw f;it(Pm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(l.target)}function Sv(r,t,n){const s=Tt(r);let l=Et.min(),c=Nt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,A){const I=Tt(p),D=I.Ds.get(A);return D!==void 0?Q.resolve(I.Ss.get(D)):I.ai.getTargetData(_,A)}(s,f,si(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,t,n?l:Et.min(),n?c:Nt())).next(g=>(JI(s,zR(t),g),{documents:g,Ns:c})))}function JI(r,t,n){let s=r.vs.get(t)||Et.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.vs.set(t,s)}class bv{constructor(){this.activeTargetIds=FR()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tC{constructor(){this.So=new bv,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,n,s){this.Do[t]=n}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new bv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="ConnectivityMonitor";class Rv{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){it(wv,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){it(wv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function em(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="RestConnection",nC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iC{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+t.host,this.ko=`projects/${s}/databases/${l}`,this.qo=this.databaseId.database===Uc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Qo(t,n,s,l,c){const f=em(),g=this.$o(t,n.toUriEncodedString());it(Nd,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,l,c);const{host:_}=new URL(g),A=Ol(_);return this.Ko(t,g,p,s,A).then(I=>(it(Nd,`Received RPC '${t}' ${f}: `,I),I),I=>{throw La(Nd,`RPC '${t}' ${f} failed with error: `,I,"url: ",g,"request:",s),I})}Wo(t,n,s,l,c,f){return this.Qo(t,n,s,l,c)}Uo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ya}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}$o(t,n){const s=nC[t];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class sC extends iC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,n,s,l,c){const f=em();return new Promise((g,p)=>{const _=new L0;_.setWithCredentials(!0),_.listenOnce(z0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ac.NO_ERROR:const I=_.getResponseJson();it(Fe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(I)),g(I);break;case Ac.TIMEOUT:it(Fe,`RPC '${t}' ${f} timed out`),p(new lt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const D=_.getStatus();if(it(Fe,`RPC '${t}' ${f} failed with status:`,D,"response text:",_.getResponseText()),D>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const $=q==null?void 0:q.error;if($&&$.status&&$.message){const nt=function(At){const dt=At.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(dt)>=0?dt:X.UNKNOWN}($.status);p(new lt(nt,$.message))}else p(new lt(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new lt(X.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{s_:t,streamId:f,o_:_.getLastErrorCode(),__:_.getLastError()})}}finally{it(Fe,`RPC '${t}' ${f} completed.`)}});const A=JSON.stringify(l);it(Fe,`RPC '${t}' ${f} sending request:`,l),_.send(n,"POST",A,s,15)})}a_(t,n,s){const l=em(),c=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=q0(),g=j0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const A=c.join("");it(Fe,`Creating RPC '${t}' stream ${l}: ${A}`,p);const I=f.createWebChannel(A,p);let D=!1,q=!1;const $=new rC({Go:Z=>{q?it(Fe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(D||(it(Fe,`Opening RPC '${t}' stream ${l} transport.`),I.open(),D=!0),it(Fe,`RPC '${t}' stream ${l} sending:`,Z),I.send(Z))},zo:()=>I.close()}),nt=(Z,At,dt)=>{Z.listen(At,ut=>{try{dt(ut)}catch(Mt){setTimeout(()=>{throw Mt},0)}})};return nt(I,hl.EventType.OPEN,()=>{q||(it(Fe,`RPC '${t}' stream ${l} transport opened.`),$.t_())}),nt(I,hl.EventType.CLOSE,()=>{q||(q=!0,it(Fe,`RPC '${t}' stream ${l} transport closed`),$.r_())}),nt(I,hl.EventType.ERROR,Z=>{q||(q=!0,La(Fe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),$.r_(new lt(X.UNAVAILABLE,"The operation could not be completed")))}),nt(I,hl.EventType.MESSAGE,Z=>{var At;if(!q){const dt=Z.data[0];qt(!!dt,16349);const ut=dt,Mt=(ut==null?void 0:ut.error)||((At=ut[0])===null||At===void 0?void 0:At.error);if(Mt){it(Fe,`RPC '${t}' stream ${l} received error:`,Mt);const vt=Mt.status;let Vt=function(w){const N=ye[w];if(N!==void 0)return AE(N)}(vt),M=Mt.message;Vt===void 0&&(Vt=X.INTERNAL,M="Unknown error status: "+vt+" with message "+Mt.message),q=!0,$.r_(new lt(Vt,M)),I.close()}else it(Fe,`RPC '${t}' stream ${l} received:`,dt),$.i_(dt)}}),nt(g,B0.STAT_EVENT,Z=>{Z.stat===Hd.PROXY?it(Fe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Hd.NOPROXY&&it(Fe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$.n_()},0),$}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(r){return new uI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.bi=t,this.timerId=n,this.u_=s,this.c_=l,this.l_=c,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),l=Math.max(0,n-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,l,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="PersistentStream";class UE{constructor(t,n,s,l,c,f,g,p){this.bi=t,this.R_=s,this.V_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new kE(t,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(qi(n.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.m_===n&&this.B_(s,l)},s=>{t(()=>{const l=new lt(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(l)})})}B_(t,n){const s=this.N_(this.m_);this.stream=this.k_(t,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(l=>{s(()=>this.L_(l))}),this.stream.onMessage(l=>{s(()=>++this.p_==1?this.q_(l):this.onNext(l))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return it(Iv,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return n=>{this.bi.enqueueAndForget(()=>this.m_===t?n():(it(Iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aC extends UE{constructor(t,n,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}k_(t,n){return this.connection.a_("Listen",t,n)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const n=fI(this.serializer,t),s=function(c){if(!("targetChange"in c))return Et.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?oi(f.readTime):Et.min()}(t);return this.listener.Q_(n,s)}U_(t){const n={};n.database=Jd(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=Yd(p)?{documents:gI(c,p)}:{query:pI(c,p).gt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=wE(c,f.resumeToken);const _=$d(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(Et.min())>0){g.readTime=Hc(c,f.snapshotVersion.toTimestamp());const _=$d(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=_I(this.serializer,t);s&&(n.labels=s),this.F_(n)}K_(t){const n={};n.database=Jd(this.serializer),n.removeTarget=t,this.F_(n)}}class oC extends UE{constructor(t,n,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,n){return this.connection.a_("Write",t,n)}q_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const n=mI(t.writeResults,t.commitTime),s=oi(t.commitTime);return this.listener.j_(s,n)}H_(){const t={};t.database=Jd(this.serializer),this.F_(t)}G_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>dI(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{}class uC extends lC{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.J_=!1}Y_(){if(this.J_)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,n,s,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Qo(t,Zd(n,s),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(X.UNKNOWN,c.toString())})}Wo(t,n,s,l,c){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Wo(t,Zd(n,s),l,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(X.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class cC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(qi(n),this.ea=!1):it("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="RemoteStore";class hC{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=c,this.ca.vo(f=>{s.enqueueAndForget(async()=>{ks(this)&&(it(Ms,"Restarting streams for network reachability change."),await async function(p){const _=Tt(p);_.aa.add(4),await zl(_),_.la.set("Unknown"),_.aa.delete(4),await hh(_)}(this))})}),this.la=new cC(s,l)}}async function hh(r){if(ks(r))for(const t of r.ua)await t(!0)}async function zl(r){for(const t of r.ua)await t(!1)}function LE(r,t){const n=Tt(r);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Lm(n)?Um(n):Za(n).b_()&&km(n,t))}function xm(r,t){const n=Tt(r),s=Za(n);n._a.delete(t),s.b_()&&zE(n,t),n._a.size===0&&(s.b_()?s.v_():ks(n)&&n.la.set("Unknown"))}function km(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Za(r).U_(t)}function zE(r,t){r.ha.Ke(t),Za(r).K_(t)}function Um(r){r.ha=new sI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Za(r).start(),r.la.ta()}function Lm(r){return ks(r)&&!Za(r).w_()&&r._a.size>0}function ks(r){return Tt(r).aa.size===0}function BE(r){r.ha=void 0}async function fC(r){r.la.set("Online")}async function dC(r){r._a.forEach((t,n)=>{km(r,t)})}async function mC(r,t){BE(r),Lm(r)?(r.la.ia(t),Um(r)):r.la.set("Unknown")}async function gC(r,t,n){if(r.la.set("Online"),t instanceof bE&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const g of c.targetIds)l._a.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l._a.delete(g),l.ha.removeTarget(g))}(r,t)}catch(s){it(Ms,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Fc(r,s)}else if(t instanceof Rc?r.ha.Xe(t):t instanceof SE?r.ha.ot(t):r.ha.nt(t),!n.isEqual(Et.min()))try{const s=await xE(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.ha.It(f);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c._a.get(_);A&&c._a.set(_,A.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,_)=>{const A=c._a.get(p);if(!A)return;c._a.set(p,A.withResumeToken(je.EMPTY_BYTE_STRING,A.snapshotVersion)),zE(c,p);const I=new br(A.target,p,_,A.sequenceNumber);km(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){it(Ms,"Failed to raise snapshot:",s),await Fc(r,s)}}async function Fc(r,t,n){if(!$a(t))throw t;r.aa.add(1),await zl(r),r.la.set("Offline"),n||(n=()=>xE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(Ms,"Retrying IndexedDB access"),await n(),r.aa.delete(1),await hh(r)})}function jE(r,t){return t().catch(n=>Fc(r,n,t))}async function fh(r){const t=Tt(r),n=xr(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:Tm;for(;pC(t);)try{const l=await ZI(t.localStore,s);if(l===null){t.oa.length===0&&n.v_();break}s=l.batchId,yC(t,l)}catch(l){await Fc(t,l)}qE(t)&&HE(t)}function pC(r){return ks(r)&&r.oa.length<10}function yC(r,t){r.oa.push(t);const n=xr(r);n.b_()&&n.W_&&n.G_(t.mutations)}function qE(r){return ks(r)&&!xr(r).w_()&&r.oa.length>0}function HE(r){xr(r).start()}async function _C(r){xr(r).H_()}async function vC(r){const t=xr(r);for(const n of r.oa)t.G_(n.mutations)}async function EC(r,t,n){const s=r.oa.shift(),l=Cm.from(s,t,n);await jE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await fh(r)}async function TC(r,t){t&&xr(r).W_&&await async function(s,l){if(function(f){return iI(f)&&f!==X.ABORTED}(l.code)){const c=s.oa.shift();xr(s).D_(),await jE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await fh(s)}}(r,t),qE(r)&&HE(r)}async function Cv(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),it(Ms,"RemoteStore received new credentials");const s=ks(n);n.aa.add(3),await zl(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await hh(n)}async function AC(r,t){const n=Tt(r);t?(n.aa.delete(2),await hh(n)):t||(n.aa.add(2),await zl(n),n.la.set("Unknown"))}function Za(r){return r.Pa||(r.Pa=function(n,s,l){const c=Tt(n);return c.Y_(),new aC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{jo:fC.bind(null,r),Jo:dC.bind(null,r),Zo:mC.bind(null,r),Q_:gC.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),Lm(r)?Um(r):r.la.set("Unknown")):(await r.Pa.stop(),BE(r))})),r.Pa}function xr(r){return r.Ta||(r.Ta=function(n,s,l){const c=Tt(n);return c.Y_(),new oC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:_C.bind(null,r),Zo:TC.bind(null,r),z_:vC.bind(null,r),j_:EC.bind(null,r)}),r.ua.push(async t=>{t?(r.Ta.D_(),await fh(r)):(await r.Ta.stop(),r.oa.length>0&&(it(Ms,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const f=Date.now()+s,g=new zm(t,n,f,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(r,t){if(qi("AsyncQueue",`${t}: ${r}`),$a(r))return new lt(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{static emptySet(t){return new ka(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ht.comparator(n.key,s.key):(n,s)=>ht.comparator(n.key,s.key),this.keyedMap=fl(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ka)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ka;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.Ia=new ie(ht.comparator)}track(t){const n=t.doc.key,s=this.Ia.get(n);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(n):t.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):pt(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(n,t)}da(){const t=[];return this.Ia.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ha{constructor(t,n,s,l,c,f,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Ha(t,n,ka.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class bC{constructor(){this.queries=Ov(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const l=Tt(n),c=l.queries;l.queries=Ov(),c.forEach((f,g)=>{for(const p of g.Ra)p.onError(s)})})(this,new lt(X.ABORTED,"Firestore shutting down"))}}function Ov(){return new Ps(r=>cE(r),sh)}async function wC(r,t){const n=Tt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Va()&&t.ma()&&(s=2):(c=new SC,s=t.ma()?0:1);try{switch(s){case 0:c.Aa=await n.onListen(l,!0);break;case 1:c.Aa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Bm(f,`Initialization of query '${Oa(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Ra.push(t),t.ga(n.onlineState),c.Aa&&t.pa(c.Aa)&&jm(n)}async function RC(r,t){const n=Tt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const f=c.Ra.indexOf(t);f>=0&&(c.Ra.splice(f,1),c.Ra.length===0?l=t.ma()?0:1:!c.Va()&&t.ma()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function IC(r,t){const n=Tt(r);let s=!1;for(const l of t){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.Ra)g.pa(l)&&(s=!0);f.Aa=l}}s&&jm(n)}function CC(r,t,n){const s=Tt(r),l=s.queries.get(t);if(l)for(const c of l.Ra)c.onError(n);s.queries.delete(t)}function jm(r){r.fa.forEach(t=>{t.next()})}var nm,Nv;(Nv=nm||(nm={})).ya="default",Nv.Cache="cache";class DC{constructor(t,n,s){this.query=t,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ha(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ba?this.Da(t)&&(this.wa.next(t),n=!0):this.va(t,this.onlineState)&&(this.Ca(t),n=!0),this.Sa=t,n}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),n=!0),n}va(t,n){if(!t.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(t){t=Ha.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==nm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t){this.key=t}}class FE{constructor(t){this.key=t}}class OC{constructor(t,n){this.query=t,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Nt(),this.mutatedKeys=Nt(),this.Ua=hE(t),this.Ka=new ka(this.Ua)}get Wa(){return this.qa}Ga(t,n){const s=n?n.za:new Dv,l=n?n.Ka:this.Ka;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,I)=>{const D=l.get(A),q=ah(this.query,I)?I:null,$=!!D&&this.mutatedKeys.has(D.key),nt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Z=!1;D&&q?D.data.isEqual(q.data)?$!==nt&&(s.track({type:3,doc:q}),Z=!0):this.ja(D,q)||(s.track({type:2,doc:q}),Z=!0,(p&&this.Ua(q,p)>0||_&&this.Ua(q,_)<0)&&(g=!0)):!D&&q?(s.track({type:0,doc:q}),Z=!0):D&&!q&&(s.track({type:1,doc:D}),Z=!0,(p||_)&&(g=!0)),Z&&(q?(f=f.add(q),c=nt?c.add(A):c.delete(A)):(f=f.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{Ka:f,za:s,ys:g,mutatedKeys:c}}ja(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const f=t.za.da();f.sort((A,I)=>function(q,$){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:Z})}};return nt(q)-nt($)}(A.type,I.type)||this.Ua(A.doc,I.doc)),this.Ha(s),l=l!=null&&l;const g=n&&!l?this.Ja():[],p=this.$a.size===0&&this.current&&!l?1:0,_=p!==this.Qa;return this.Qa=p,f.length!==0||_?{snapshot:new Ha(this.query,t.Ka,c,f,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Dv,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Nt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return t.forEach(s=>{this.$a.has(s)||n.push(new FE(s))}),this.$a.forEach(s=>{t.has(s)||n.push(new GE(s))}),n}Xa(t){this.qa=t.Ns,this.$a=Nt();const n=this.Ga(t.documents);return this.applyChanges(n,!0)}eu(){return Ha.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const qm="SyncEngine";class NC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class MC{constructor(t){this.key=t,this.tu=!1}}class VC{constructor(t,n,s,l,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Ps(g=>cE(g),sh),this.iu=new Map,this.su=new Set,this.ou=new ie(ht.comparator),this._u=new Map,this.au=new Nm,this.uu={},this.cu=new Map,this.lu=qa.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function PC(r,t,n=!0){const s=ZE(r);let l;const c=s.ru.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.eu()):l=await KE(s,t,n,!0),l}async function xC(r,t){const n=ZE(r);await KE(n,t,!0,!1)}async function KE(r,t,n,s){const l=await WI(r.localStore,si(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await kC(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&LE(r.remoteStore,l),g}async function kC(r,t,n,s,l){r.Pu=(I,D,q)=>async function(nt,Z,At,dt){let ut=Z.view.Ga(At);ut.ys&&(ut=await Sv(nt.localStore,Z.query,!1).then(({documents:M})=>Z.view.Ga(M,ut)));const Mt=dt&&dt.targetChanges.get(Z.targetId),vt=dt&&dt.targetMismatches.get(Z.targetId)!=null,Vt=Z.view.applyChanges(ut,nt.isPrimaryClient,Mt,vt);return Vv(nt,Z.targetId,Vt.Ya),Vt.snapshot}(r,I,D,q);const c=await Sv(r.localStore,t,!0),f=new OC(t,c.Ns),g=f.Ga(c.documents),p=Ll.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,p);Vv(r,n,_.Ya);const A=new NC(t,n,f);return r.ru.set(t,A),r.iu.has(n)?r.iu.get(n).push(t):r.iu.set(n,[t]),_.snapshot}async function UC(r,t,n){const s=Tt(r),l=s.ru.get(t),c=s.iu.get(l.targetId);if(c.length>1)return s.iu.set(l.targetId,c.filter(f=>!sh(f,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await tm(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&xm(s.remoteStore,l.targetId),im(s,l.targetId)}).catch(Xa)):(im(s,l.targetId),await tm(s.localStore,l.targetId,!0))}async function LC(r,t){const n=Tt(r),s=n.ru.get(t),l=n.iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xm(n.remoteStore,s.targetId))}async function zC(r,t,n){const s=KC(r);try{const l=await function(f,g){const p=Tt(f),_=be.now(),A=g.reduce((q,$)=>q.add($.key),Nt());let I,D;return p.persistence.runTransaction("Locally write mutations","readwrite",q=>{let $=Hi(),nt=Nt();return p.Cs.getEntries(q,A).next(Z=>{$=Z,$.forEach((At,dt)=>{dt.isValidDocument()||(nt=nt.add(At))})}).next(()=>p.localDocuments.getOverlayedDocuments(q,$)).next(Z=>{I=Z;const At=[];for(const dt of g){const ut=WR(dt,I.get(dt.key).overlayedDocument);ut!=null&&At.push(new xs(dt.key,ut,nE(ut.value.mapValue),ai.exists(!0)))}return p.mutationQueue.addMutationBatch(q,_,At,g)}).next(Z=>{D=Z;const At=Z.applyToLocalDocumentSet(I,nt);return p.documentOverlayCache.saveOverlays(q,Z.batchId,At)})}).then(()=>({batchId:D.batchId,changes:dE(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let _=f.uu[f.currentUser.toKey()];_||(_=new ie(wt)),_=_.insert(g,p),f.uu[f.currentUser.toKey()]=_}(s,l.batchId,n),await Bl(s,l.changes),await fh(s.remoteStore)}catch(l){const c=Bm(l,"Failed to persist write");n.reject(c)}}async function QE(r,t){const n=Tt(r);try{const s=await XI(n.localStore,t);t.targetChanges.forEach((l,c)=>{const f=n._u.get(c);f&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.tu=!0:l.modifiedDocuments.size>0?qt(f.tu,14607):l.removedDocuments.size>0&&(qt(f.tu,42227),f.tu=!1))}),await Bl(n,s,t)}catch(s){await Xa(s)}}function Mv(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.ru.forEach((c,f)=>{const g=f.view.ga(t);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=Tt(f);p.onlineState=g;let _=!1;p.queries.forEach((A,I)=>{for(const D of I.Ra)D.ga(g)&&(_=!0)}),_&&jm(p)}(s.eventManager,t),l.length&&s.nu.Q_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function BC(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s._u.get(t),c=l&&l.key;if(c){let f=new ie(ht.comparator);f=f.insert(c,Qe.newNoDocument(c,Et.min()));const g=Nt().add(c),p=new uh(Et.min(),new Map,new ie(wt),f,g);await QE(s,p),s.ou=s.ou.remove(c),s._u.delete(t),Hm(s)}else await tm(s.localStore,t,!1).then(()=>im(s,t,n)).catch(Xa)}async function jC(r,t){const n=Tt(r),s=t.batch.batchId;try{const l=await YI(n.localStore,t);XE(n,s,null),YE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bl(n,l)}catch(l){await Xa(l)}}async function qC(r,t,n){const s=Tt(r);try{const l=await function(f,g){const p=Tt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return p.mutationQueue.lookupMutationBatch(_,g).next(I=>(qt(I!==null,37113),A=I.keys(),p.mutationQueue.removeMutationBatch(_,I))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>p.localDocuments.getDocuments(_,A))})}(s.localStore,t);XE(s,t,n),YE(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Bl(s,l)}catch(l){await Xa(l)}}function YE(r,t){(r.cu.get(t)||[]).forEach(n=>{n.resolve()}),r.cu.delete(t)}function XE(r,t,n){const s=Tt(r);let l=s.uu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.uu[s.currentUser.toKey()]=l}}function im(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.iu.get(t))r.ru.delete(s),n&&r.nu.Tu(s,n);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(s=>{r.au.containsKey(s)||$E(r,s)})}function $E(r,t){r.su.delete(t.path.canonicalString());const n=r.ou.get(t);n!==null&&(xm(r.remoteStore,n),r.ou=r.ou.remove(t),r._u.delete(n),Hm(r))}function Vv(r,t,n){for(const s of n)s instanceof GE?(r.au.addReference(s.key,t),HC(r,s)):s instanceof FE?(it(qm,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,t),r.au.containsKey(s.key)||$E(r,s.key)):pt(19791,{Iu:s})}function HC(r,t){const n=t.key,s=n.path.canonicalString();r.ou.get(n)||r.su.has(s)||(it(qm,"New document in limbo: "+n),r.su.add(s),Hm(r))}function Hm(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const n=new ht(ee.fromString(t)),s=r.lu.next();r._u.set(s,new MC(n)),r.ou=r.ou.insert(n,s),LE(r.remoteStore,new br(si(uE(n.path)),s,"TargetPurposeLimboResolution",eh.le))}}async function Bl(r,t,n){const s=Tt(r),l=[],c=[],f=[];s.ru.isEmpty()||(s.ru.forEach((g,p)=>{f.push(s.Pu(p,t,n).then(_=>{var A;if((_||n)&&s.isPrimaryClient){const I=_?!_.fromCache:(A=n==null?void 0:n.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(_){l.push(_);const I=Vm.Ps(p.targetId,_);c.push(I)}}))}),await Promise.all(f),s.nu.Q_(l),await async function(p,_){const A=Tt(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(_,D=>Q.forEach(D.ls,q=>A.persistence.referenceDelegate.addReference(I,D.targetId,q)).next(()=>Q.forEach(D.hs,q=>A.persistence.referenceDelegate.removeReference(I,D.targetId,q)))))}catch(I){if(!$a(I))throw I;it(Pm,"Failed to update sequence numbers: "+I)}for(const I of _){const D=I.targetId;if(!I.fromCache){const q=A.Ss.get(D),$=q.snapshotVersion,nt=q.withLastLimboFreeSnapshotVersion($);A.Ss=A.Ss.insert(D,nt)}}}(s.localStore,c))}async function GC(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){it(qm,"User change. New user:",t.toKey());const s=await PE(n.localStore,t);n.currentUser=t,function(c,f){c.cu.forEach(g=>{g.forEach(p=>{p.reject(new lt(X.CANCELLED,f))})}),c.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Bl(n,s.Ms)}}function FC(r,t){const n=Tt(r),s=n._u.get(t);if(s&&s.tu)return Nt().add(s.key);{let l=Nt();const c=n.iu.get(t);if(!c)return l;for(const f of c){const g=n.ru.get(f);l=l.unionWith(g.view.Wa)}return l}}function ZE(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=QE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BC.bind(null,t),t.nu.Q_=IC.bind(null,t.eventManager),t.nu.Tu=CC.bind(null,t.eventManager),t}function KC(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qC.bind(null,t),t}class Kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ch(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,n){return null}fu(t,n){return null}Vu(t){return QI(this.persistence,new GI,t.initialUser,this.serializer)}Ru(t){return new VE(Mm.Ei,this.serializer)}Au(t){return new tC}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kc.provider={build:()=>new Kc};class QC extends Kc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,n){qt(this.persistence.referenceDelegate instanceof Gc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new DI(s,t.asyncQueue,n)}Ru(t){const n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new VE(s=>Gc.Ei(s,n),this.serializer)}}class rm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Mv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GC.bind(null,this.syncEngine),await AC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new bC}()}createDatastore(t){const n=ch(t.databaseInfo.databaseId),s=function(c){return new sC(c)}(t.databaseInfo);return function(c,f,g,p){return new uC(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,f,g){return new hC(s,l,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Mv(this.syncEngine,n,0),function(){return Rv.C()?new Rv:new eC}())}createSyncEngine(t,n){return function(l,c,f,g,p,_,A){const I=new VC(l,c,f,g,p,_);return A&&(I.hu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=Tt(l);it(Ms,"RemoteStore shutting down."),c.aa.add(5),await zl(c),c.ca.shutdown(),c.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}rm.provider={build:()=>new rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):qi("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirestoreClient";class XC{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=K0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{it(kr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(it(kr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Bm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Vd(r,t){r.asyncQueue.verifyOperationInProgress(),it(kr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await PE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Pv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await $C(r);it(kr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Cv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Cv(t.remoteStore,l)),r._onlineComponents=t}async function $C(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(kr,"Using user provided OfflineComponentProvider");try{await Vd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await Vd(r,new Kc)}}else it(kr,"Using default OfflineComponentProvider"),await Vd(r,new QC(void 0));return r._offlineComponents}async function WE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(kr,"Using user provided OnlineComponentProvider"),await Pv(r,r._uninitializedComponentsProvider._online)):(it(kr,"Using default OnlineComponentProvider"),await Pv(r,new rm))),r._onlineComponents}function ZC(r){return WE(r).then(t=>t.syncEngine)}async function WC(r){const t=await WE(r),n=t.eventManager;return n.onListen=PC.bind(null,t.syncEngine),n.onUnlisten=UC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=xC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=LC.bind(null,t.syncEngine),n}function JC(r,t,n={}){const s=new Dr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,g,p,_){const A=new YC({next:D=>{A.yu(),f.enqueueAndForget(()=>RC(c,I)),D.fromCache&&p.source==="server"?_.reject(new lt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),I=new DC(g,A,{includeMetadataChanges:!0,Fa:!0});return wC(c,I)}(await WC(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r,t,n){if(!n)throw new lt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function t2(r,t,n,s){if(t===!0&&s===!0)throw new lt(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function kv(r){if(!ht.isDocumentKey(r))throw new lt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Uv(r){if(ht.isDocumentKey(r))throw new lt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Gm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Ga(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gm(r);throw new lt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firestore.googleapis.com",Lv=!0;class zv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eT,this.ssl=Lv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Lv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ME;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<II)throw new lt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}t2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new iR;switch(s.type){case"firstParty":return new oR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Zc("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=xv.get(n);s&&(it("ComponentProvider","Removing Datastore"),xv.delete(n),s.terminate())}(this),Promise.resolve()}}function e2(r,t,n,s={}){var l;r=Ga(r,dh);const c=Ol(t),f=r._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;f.host!==eT&&f.host!==p&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},f),{host:p,ssl:c,emulatorOptions:s});if(!Is(_,g)&&(r._setSettings(_),c&&(Zv(`https://${p}`),Zc("Firestore",!0)),s.mockUserToken)){let A,I;if(typeof s.mockUserToken=="string")A=s.mockUserToken,I=Ke.MOCK_USER;else{A=fS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new lt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Ke(D)}r._authCredentials=new rR(new G0(A,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new mh(this.firestore,t,this._query)}}class Dn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Dn(this.firestore,t,this._key)}}class Or extends mh{constructor(t,n,s){super(t,n,uE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Dn(this.firestore,null,new ht(t))}withConverter(t){return new Or(this.firestore,t,this._path)}}function nT(r,t,...n){if(r=rn(r),tT("collection","path",t),r instanceof dh){const s=ee.fromString(t,...n);return Uv(s),new Or(r,null,s)}{if(!(r instanceof Dn||r instanceof Or))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return Uv(s),new Or(r.firestore,null,s)}}function n2(r,t,...n){if(r=rn(r),arguments.length===1&&(t=K0.newId()),tT("doc","path",t),r instanceof dh){const s=ee.fromString(t,...n);return kv(s),new Dn(r,null,new ht(s))}{if(!(r instanceof Dn||r instanceof Or))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return kv(s),new Dn(r.firestore,r instanceof Or?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="AsyncQueue";class jv{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new kE(this,"async_queue_retry"),this.ju=()=>{const s=Md();s&&it(Bv,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const n=Md();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=Md();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Dr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!$a(t))throw t;it(Bv,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,qi("INTERNAL UNHANDLED ERROR: ",qv(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(t,n,s){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const l=zm.createAndSchedule(this,t,n,s,c=>this.Xu(c));return this.Uu.push(l),l}Ju(){this.Ku&&pt(47125,{ec:qv(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function qv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class gh extends dh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new jv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jv(t),this._firestoreClient=void 0,await t}}}function i2(r,t){const n=typeof r=="object"?r:e0(),s=typeof r=="string"?r:Uc,l=lm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=cS("firestore");c&&e2(l,...c)}return l}function iT(r){if(r._terminated)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||r2(r),r._firestoreClient}function r2(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,A){return new AR(g,p,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,JE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new XC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fa(je.fromBase64String(t))}catch(n){throw new lt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fa(je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return wt(this._lat,t._lat)||wt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=/^__.*__$/;class a2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new xs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ul(t,this.data,n,this.fieldTransforms)}}function sT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{oc:r})}}class Ym{constructor(t,n,s,l,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this._c(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Ym(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ac({path:s,cc:!1});return l.lc(t),l}hc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ac({path:s,cc:!1});return l._c(),l}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Qc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(sT(this.oc)&&s2.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class o2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ch(t)}dc(t,n,s,l=!1){return new Ym({oc:t,methodName:n,Ec:s,path:Be.emptyPath(),cc:!1,Ic:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l2(r){const t=r._freezeSettings(),n=ch(r._databaseId);return new o2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function u2(r,t,n,s,l,c={}){const f=r.dc(c.merge||c.mergeFields?2:0,t,n,l);uT("Data must be an object, but it was:",f,s);const g=oT(s,f);let p,_;if(c.merge)p=new Ln(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const A=[];for(const I of c.mergeFields){const D=c2(t,I,n);if(!f.contains(D))throw new lt(X.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);f2(A,D)||A.push(D)}p=new Ln(A),_=f.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,_=f.fieldTransforms;return new a2(new Cn(g),p,_)}function aT(r,t){if(lT(r=rn(r)))return uT("Unsupported field value:",t,r),oT(r,t);if(r instanceof rT)return function(s,l){if(!sT(l.oc))throw l.Tc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Tc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const g of s){let p=aT(g,l.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=be.fromDate(s);return{timestampValue:Hc(l.serializer,c)}}if(s instanceof be){const c=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hc(l.serializer,c)}}if(s instanceof Km)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fa)return{bytesValue:wE(l.serializer,s._byteString)};if(s instanceof Dn){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Om(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Qm)return function(f,g){return{mapValue:{fields:{[tE]:{stringValue:eE},[Lc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw g.Tc("VectorValues must only contain numeric values.");return Rm(g.serializer,_)})}}}}}}(s,l);throw l.Tc(`Unsupported field value: ${Gm(s)}`)}(r,t)}function oT(r,t){const n={};return Y0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vs(r,(s,l)=>{const c=aT(l,t.uc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function lT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof Km||r instanceof Fa||r instanceof Dn||r instanceof rT||r instanceof Qm)}function uT(r,t,n){if(!lT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=Gm(n);throw s==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+s)}}function c2(r,t,n){if((t=rn(t))instanceof Fm)return t._internalPath;if(typeof t=="string")return cT(r,t);throw Qc("Field path arguments must be of type string or ",r,!1,void 0,n)}const h2=new RegExp("[~\\*/\\[\\]]");function cT(r,t,n){if(t.search(h2)>=0)throw Qc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Fm(...t.split("."))._internalPath}catch{throw Qc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Qc(r,t,n,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new lt(X.INVALID_ARGUMENT,g+r+p)}function f2(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new d2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(fT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d2 extends hT{data(){return super.data()}}function fT(r,t){return typeof t=="string"?cT(r,t):t instanceof Fm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g2{convertValue(t,n="none"){switch(Pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Vs(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Lc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>fe(f.doubleValue));return new Qm(c)}convertGeoPoint(t){return new Km(fe(t.latitude),fe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=ih(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const n=Mr(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);qt(NE(s),9688,{name:t});const l=new Rl(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return l.isEqual(n)||qi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class y2 extends hT{constructor(t,n,s,l,c,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(fT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ic extends y2{data(t={}){return super.data(t)}}class _2{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new yc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Ic(this._firestore,this._userDataWriter,s.key,s,new yc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new Ic(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Ic(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),A=f.indexOf(g.doc.key)),{type:v2(g.type),doc:p,oldIndex:_,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function v2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}class E2 extends g2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function dT(r){r=Ga(r,mh);const t=Ga(r.firestore,gh),n=iT(t),s=new E2(t);return m2(r._query),JC(n,r._query).then(l=>new _2(t,s,r,l))}function T2(r,t,n){r=Ga(r,Dn);const s=Ga(r.firestore,gh),l=p2(r.converter,t);return mT(s,[u2(l2(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,ai.none())])}function A2(r){return mT(Ga(r.firestore,gh),[new Im(r._key,ai.none())])}function mT(r,t){return function(s,l){const c=new Dr;return s.asyncQueue.enqueueAndForget(async()=>zC(await ZC(s),l,c)),c.promise}(iT(r),t)}(function(t,n=!0){(function(l){Ya=l})(Ka),Ua(new Cs("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new gh(new sR(s.getProvider("auth-internal")),new lR(f,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(_.options.projectId,A)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ir(Q_,Y_,t),Ir(Q_,Y_,"esm2017")})();const S2={apiKey:"AIzaSyDsytFAFbdEl9CQPpnO9FvOOJTsZsOOhBQ",authDomain:"dsa-sheet-todo-list.firebaseapp.com",projectId:"dsa-sheet-todo-list",storageBucket:"dsa-sheet-todo-list.firebasestorage.app",messagingSenderId:"180934472052",appId:"1:180934472052:web:b3466509439a3358c77c21",measurementId:"G-FGXEE8FFJX"},gT=t0(S2),El=Jw(gT),Xm=i2(gT),pT=({isOpen:r,onClose:t})=>{const[n,s]=le.useState(!0),[l,c]=le.useState(""),[f,g]=le.useState(""),[p,_]=le.useState("");if(!r)return null;const A=async()=>{try{_(""),n?await Lb(El,l,f):await Ub(El,l,f),t()}catch(D){D instanceof Error?_(D.message):_("An unknown error occurred")}},I=async()=>{const D=new ki;try{await lw(El,D),t()}catch(q){q instanceof Error?_(q.message):_("An unknown error occurred")}};return st.jsx("div",{className:"fixed inset-0 bg-black bg-opacity flex justify-center items-center z-50",children:st.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-xl shadow-lg w-full max-w-md",children:[st.jsx("h2",{className:"text-xl font-semibold text-center mb-4",children:n?"Login":"Sign Up"}),p&&st.jsx("p",{className:"text-red-500 text-sm text-center mb-3",children:p}),st.jsx("input",{type:"email",placeholder:"Enter your email",value:l,onChange:D=>c(D.target.value),className:"w-full mb-3 px-4 py-2 border rounded dark:bg-gray-800 dark:border-gray-700"}),st.jsx("input",{type:"password",placeholder:"Enter your password",value:f,onChange:D=>g(D.target.value),className:"w-full mb-3 px-4 py-2 border rounded dark:bg-gray-800 dark:border-gray-700"}),st.jsx("button",{onClick:A,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:n?"Login":"Sign Up"}),st.jsx("div",{className:"text-center my-4 text-sm text-gray-500",children:"OR"}),st.jsxs("button",{onClick:I,className:"w-full border flex items-center justify-center gap-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800",children:[st.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"]}),st.jsxs("p",{className:"text-sm text-center mt-4",children:[n?"Don't have an account?":"Already have an account?",st.jsx("button",{onClick:()=>s(!n),className:"text-blue-600 ml-1 hover:underline",children:n?"Sign Up":"Login"})]}),st.jsx("button",{onClick:t,className:"absolute top-4 right-6 text-gray-400 hover:text-red-600 text-4xl",children:""})]})})};var yT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hv=Rs.createContext&&Rs.createContext(yT),b2=["attr","size","title"];function w2(r,t){if(r==null)return{};var n=R2(r,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function R2(r,t){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Yc(){return Yc=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Yc.apply(this,arguments)}function Gv(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,s)}return n}function Xc(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gv(Object(n),!0).forEach(function(s){I2(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Gv(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function I2(r,t,n){return t=C2(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function C2(r){var t=D2(r,"string");return typeof t=="symbol"?t:t+""}function D2(r,t){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function _T(r){return r&&r.map((t,n)=>Rs.createElement(t.tag,Xc({key:n},t.attr),_T(t.child)))}function O2(r){return t=>Rs.createElement(N2,Yc({attr:Xc({},r.attr)},t),_T(r.child))}function N2(r){var t=n=>{var{attr:s,size:l,title:c}=r,f=w2(r,b2),g=l||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Rs.createElement("svg",Yc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Xc(Xc({color:r.color||n.color},n.style),r.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),c&&Rs.createElement("title",null,c),r.children)};return Hv!==void 0?Rs.createElement(Hv.Consumer,null,n=>t(n)):t(yT)}function M2(r){return O2({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(r)}const vT=le.createContext(void 0),ET=()=>{const r=le.useContext(vT);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},V2=({children:r})=>{const[t,n]=le.useState(null),[s,l]=le.useState(!0);le.useEffect(()=>{const f=jb(El,g=>{n(g),l(!1)});return()=>f()},[]);const c=async()=>{await qb(El)};return st.jsx(vT.Provider,{value:{user:t,loading:s,logout:c},children:!s&&r})},P2=()=>{const{user:r,logout:t}=ET(),[n,s]=le.useState(!1),[l,c]=le.useState(!1),f=le.useRef(null);le.useEffect(()=>{const p=_=>{f.current&&!f.current.contains(_.target)&&s(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const g=async()=>{try{await t(),s(!1)}catch(p){console.error("Logout failed",p)}};return st.jsxs(st.Fragment,{children:[st.jsxs("div",{className:"fixed w-full left-0 top-0 z-50 flex justify-between items-center px-6 py-4 bg-white dark:bg-gray-900 shadow-md",children:[st.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"DSA Sheet Todo List"}),st.jsxs("div",{className:"relative",ref:f,children:[st.jsx("div",{onClick:()=>{s(p=>!p)},className:"cursor-pointer",children:r!=null&&r.photoURL?st.jsx("img",{src:(r==null?void 0:r.photoURL)||"",alt:"User",className:"w-10 h-10 rounded-full object-cover",referrerPolicy:"no-referrer"}):st.jsx(M2,{className:"w-10 h-10 text-gray-600 dark:text-gray-200"})}),n&&st.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg py-2",children:r?st.jsxs(st.Fragment,{children:[st.jsx("button",{className:"block w-full text-left px-4 py-2 text-[16px] hover:rounded-lg text-gray-700 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{},children:"Profile"}),st.jsx("button",{className:"block w-full text-left px-4 py-2 text-[16px] hover:rounded-lg text-gray-700 dark:text-gray-100 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:g,children:"Logout"})]}):st.jsxs(st.Fragment,{children:[st.jsx("button",{className:"block w-full text-left px-4 py-2 text-[16px] hover:rounded-lg text-gray-700 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{s(!1),c(!0)},children:"Login"}),st.jsx("button",{className:"block w-full text-left px-4 py-2 text-[16px] hover:rounded-lg text-gray-700 dark:text-gray-100 hover:text-blue-500 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{s(!1),c(!0)},children:"Sign up"})]})})]})]}),st.jsx(pT,{isOpen:l,onClose:()=>c(!1)})]})},x2=({problem:r,isPracticed:t,onTogglePracticed:n,onClose:s})=>st.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-lg bg-white dark:bg-gray-800 max-w-xl mx-auto",children:[st.jsx("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"block text-lg font-medium text-gray-900 dark:text-white hover:underline hover:text-blue-600 text-center",children:r.question}),st.jsxs("div",{className:"mt-3 flex justify-evenly items-center",children:[st.jsxs("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:["Topic: ",r.topic]}),st.jsxs("label",{className:"flex items-center space-x-2",children:[st.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Practiced"}),st.jsx("input",{type:"checkbox",checked:t,onChange:()=>n(r),className:"w-5 h-5 accent-green-600 cursor-pointer"})]})]}),st.jsx("button",{onClick:s,className:"mt-3 w-full bg-red-500 hover:bg-red-600 transition text-white px-4 py-2 rounded-md font-semibold shadow-md",children:"Close"})]}),k2=({problems:r,practicedMap:t,onTogglePracticed:n})=>{const[s,l]=le.useState({}),c=r.reduce((g,p)=>((g[p.topic]=g[p.topic]||[]).push(p),g),{}),f=g=>{l(p=>({...p,[g]:!p[g]}))};return st.jsx("div",{children:Object.entries(c).map(([g,p])=>st.jsxs("section",{className:"mb-6 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm overflow-hidden",children:[st.jsxs("h3",{className:"px-5 py-4 bg-gray-100 dark:bg-gray-800 dark:text-white font-semibold text-lg flex justify-between items-center cursor-pointer",onClick:()=>f(g),children:[st.jsx("span",{children:g}),st.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:s[g]?"":""})]}),s[g]&&st.jsx("ul",{className:"divide-y dark:divide-gray-700 bg-white dark:bg-gray-900",children:p.map(_=>st.jsxs("li",{className:"flex justify-between items-center px-5 py-3 hover:bg-gray-50 dark:hover:bg-gray-800",children:[st.jsx("a",{href:_.link,target:"_blank",rel:"noopener noreferrer",className:`flex-1 text-sm font-medium ${t[_.id]?"line-through text-gray-400":"text-gray-900 dark:text-white"} hover:underline`,children:_.question}),st.jsx("input",{type:"checkbox",checked:!!t[_.id],onChange:()=>n(_),className:"w-5 h-5 accent-green-600 cursor-pointer"})]},_.id))})]},g))})},U2=async()=>(await dT(nT(Xm,"love_babbar_sheet"))).docs.map(t=>({id:t.id,...t.data()})),L2=async r=>{const t=await dT(nT(Xm,"users",r,"practiced")),n={};return t.docs.forEach(s=>{n[s.id]={id:s.id,question:s.data().question,timestamp:s.data().timestamp.toDate()}}),n},z2=async(r,t,n)=>{const s=n2(Xm,"users",r,"practiced",t.id);n?await A2(s):await T2(s,{question:t.question,timestamp:new Date})},B2=(r,t)=>{const n=r.filter(l=>!t[l.id]);if(n.length===0)return null;const s=Math.floor(Math.random()*n.length);return n[s]},j2=()=>{const{user:r}=ET(),[t,n]=le.useState([]),[s,l]=le.useState({}),[c,f]=le.useState(null),[g,p]=le.useState(!1);le.useEffect(()=>{U2().then(n)},[]),le.useEffect(()=>{r&&t.length>0?(L2(r.uid).then(l),f(null)):(l({}),f(null))},[r,t]);const _=async I=>{if(!r){p(!0);return}const D=!!s[I.id];await z2(r.uid,I,D),l(q=>{const $={...q};return D?delete $[I.id]:$[I.id]={id:I.id,question:I.question,timestamp:new Date},$})},A=()=>{if(!r){p(!0);return}const I=B2(t,s);I?f(I):(alert("All questions have been practiced!"),f(null))};return st.jsxs(st.Fragment,{children:[st.jsx(P2,{}),st.jsx(pT,{isOpen:g,onClose:()=>p(!1)}),st.jsxs("div",{className:"max-w-5xl mx-auto p-6 pt-24",children:[st.jsx("h1",{className:"text-4xl font-extrabold text-center mb-4 text-gray-900 dark:text-white",children:"DSA Sheet Todo List"}),st.jsx("h2",{className:"text-xl text-gray-600 dark:text-gray-300 text-center mb-8",children:"Track your DSA progress with the Love Babbar Sheet"}),st.jsx("div",{className:"mb-6 flex justify-center",children:st.jsx("button",{onClick:A,className:"bg-indigo-600 hover:bg-indigo-700 transition text-white px-6 py-2 rounded-md font-semibold shadow-md",children:"Get Random Question"})}),c&&st.jsx(x2,{problem:c,isPracticed:!!s[c.id],onTogglePracticed:_,onClose:()=>f(null)}),st.jsx(k2,{problems:t,practicedMap:s,onTogglePracticed:_})]})]})};function q2(){return st.jsx(j2,{})}eS.createRoot(document.getElementById("root")).render(st.jsx(le.StrictMode,{children:st.jsx(V2,{children:st.jsx(q2,{})})}));
